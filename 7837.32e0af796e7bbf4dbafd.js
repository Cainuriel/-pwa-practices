(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[7837],{7837:(e,n,o)=>{"use strict";o.r(n),o.d(n,{UpdatePageModule:()=>f});var t=o(6274),a=o(4988),r=o(8620),i=o(8895),s=o(1855),u=o(7272),l=o(2149),d=o(4422),c=o(3883);function g(e,n){1&e&&(u.TgZ(0,"ion-label",16),u._uU(1,"* No valid email"),u.qZA())}function p(e,n){1&e&&(u.TgZ(0,"ion-label",17),u._uU(1,"* correct number phone"),u.qZA())}const h=[{path:"",component:(()=>{class e{constructor(e,n,o,t,r){this.fb=e,this.database=n,this.authUserService=o,this.toastController=t,this.router=r,this.usuario=this.fb.group({name:[""],secondName:[""],email:["",[a.kI.email]],phone:[""],birth:[""]})}ngOnInit(){console.log("ngOninit"),this.database.observableUser.subscribe(e=>this.userData=e)}guardarDatos(){return(0,s.mG)(this,void 0,void 0,function*(){this.userData.name=this.usuario.controls.name.value,this.userData.secondName=this.usuario.controls.secondName.value,this.userData.email=this.usuario.controls.email.value,this.userData.birth=this.usuario.controls.birth.value,this.userData.phone=this.usuario.controls.phone.value,this.userData.updated_at=new Date,this.saveData()})}saveData(){return(0,s.mG)(this,void 0,void 0,function*(){this.database.changeDataUser(this.userData),yield this.database.update("usuarios",this.userData.id,this.userData),this.router.navigate(["/personal"])})}errorToast(e){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:1e4})).present()})}}return e.\u0275fac=function(n){return new(n||e)(u.Y36(a.qu),u.Y36(l.k),u.Y36(d.C),u.Y36(r.yF),u.Y36(i.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-update"]],decls:32,vars:9,consts:[["translucent","","no-border",""],[3,"imgUser"],["mode","md"],[1,"ion-text-center"],[1,"content"],[1,"form",3,"formGroup","ngSubmit"],[1,"ion-label"],["formControlName","name",1,"ion-input",3,"ngModel","ngModelChange"],["formControlName","secondName",1,"ion-input",3,"ngModel","ngModelChange"],["formControlName","email",1,"ion-input",3,"ngModel","ngModelChange"],["color","danger",4,"ngIf"],["type","tel","formControlName","phone",1,"ion-input",3,"ngModel","ngModelChange"],["class","ion-label","color","danger",4,"ngIf"],["display-format","DD.MM.YYYY","formControlName","birth",1,"ion-input",3,"ngModel","ngModelChange"],[1,"center-class"],["type","submit","expand","block","shape","round","size","large"],["color","danger"],["color","danger",1,"ion-label"]],template:function(e,n){1&e&&(u.TgZ(0,"ion-header",0),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-header"),u._UZ(3,"app-header",1),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"ion-content"),u.TgZ(5,"div"),u.TgZ(6,"ion-card",2),u.TgZ(7,"ion-card-header"),u.TgZ(8,"h1",3),u._uU(9,"Update"),u.qZA(),u.qZA(),u.TgZ(10,"ion-card-content",4),u.TgZ(11,"form",5),u.NdJ("ngSubmit",function(){return n.guardarDatos()}),u.TgZ(12,"ion-label",6),u._uU(13,"Name:"),u.qZA(),u.TgZ(14,"ion-input",7),u.NdJ("ngModelChange",function(e){return n.userData.name=e}),u.qZA(),u.TgZ(15,"ion-label",6),u._uU(16,"Second Name:"),u.qZA(),u.TgZ(17,"ion-input",8),u.NdJ("ngModelChange",function(e){return n.userData.secondName=e}),u.qZA(),u.TgZ(18,"ion-label"),u._uU(19,"Email:"),u.qZA(),u.TgZ(20,"ion-input",9),u.NdJ("ngModelChange",function(e){return n.userData.email=e}),u.qZA(),u.YNc(21,g,2,0,"ion-label",10),u.TgZ(22,"ion-label",6),u._uU(23,"Phone: "),u.qZA(),u.TgZ(24,"ion-input",11),u.NdJ("ngModelChange",function(e){return n.userData.phone=e}),u.qZA(),u.YNc(25,p,2,0,"ion-label",12),u.TgZ(26,"ion-label",6),u._uU(27,"Birth: "),u.qZA(),u.TgZ(28,"ion-datetime",13),u.NdJ("ngModelChange",function(e){return n.userData.birth=e}),u.qZA(),u.TgZ(29,"div",14),u.TgZ(30,"ion-button",15),u._uU(31,"Update"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.Q6J("imgUser",n.userData.img),u.xp6(8),u.Q6J("formGroup",n.usuario),u.xp6(3),u.Q6J("ngModel",n.userData.name),u.xp6(3),u.Q6J("ngModel",n.userData.secondName),u.xp6(3),u.Q6J("ngModel",n.userData.email),u.xp6(1),u.Q6J("ngIf",(null==n.usuario.controls.email.errors?null:n.usuario.controls.email.errors.email)&&(n.usuario.touched||n.usuario.dirty)),u.xp6(3),u.Q6J("ngModel",n.userData.phone),u.xp6(1),u.Q6J("ngIf",(null==n.usuario.controls.phone.errors?null:n.usuario.controls.phone.errors.pattern)&&(n.usuario.touched||n.usuario.dirty)),u.xp6(3),u.Q6J("ngModel",n.userData.birth))},directives:[r.Gu,r.sr,c.G,r.W2,r.PM,r.Zi,r.FN,a._Y,a.JL,a.sg,r.Q$,r.pK,r.j9,a.JJ,a.u,t.O5,r.x4,r.QI,r.YG],styles:[".center-class[_ngcontent-%COMP%]{margin:26px auto}.form[_ngcontent-%COMP%]{margin:0 auto;width:90%}.ion-input[_ngcontent-%COMP%]{--padding-start:20px;border-radius:25px;border:2px solid var(--ion-color-login-input-border);margin-top:10px;margin-bottom:10px}.content[_ngcontent-%COMP%]{max-width:100vh;display:flex;flex-direction:column;margin:0 auto;justify-content:space-around}.img-otium[_ngcontent-%COMP%]{width:250px;margin:10px auto}.div-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}.eye-icon[_ngcontent-%COMP%]{width:1.875rem;height:1.875rem;margin-left:.625rem;color:var(--ion-color-login-input-border)}"]}),e})()}];let m=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.Bz.forChild(h)],i.Bz]}),e})();var Z=o(9258);let f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[t.ez,a.u5,r.Pc,m,Z.K,a.UX]]}),e})()}}]);