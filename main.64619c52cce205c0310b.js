(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},1855:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>s,_T:()=>i,mG:()=>o});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function o(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}},6274:(e,t,n)=>{"use strict";n.d(t,{mr:()=>b,Ov:()=>Ne,ez:()=>Pe,K0:()=>c,uU:()=>De,JJ:()=>Re,Do:()=>S,V_:()=>h,Ye:()=>I,S$:()=>v,mk:()=>fe,sg:()=>ge,O5:()=>ye,PC:()=>Ee,RF:()=>_e,n9:()=>Se,ED:()=>Ie,tP:()=>Te,b0:()=>_,lw:()=>l,EM:()=>Fe,JF:()=>je,NF:()=>Le,PM:()=>Me,w_:()=>a,bD:()=>$e,q:()=>i,Mx:()=>de,HT:()=>o});var r=n(7272);let s=null;function i(){return s}function o(e){s||(s=e)}class a{}const c=new r.OlP("DocumentToken");let l=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c))},e.\u0275prov=(0,r.Yz7)({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d((0,r.LFG)(c))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:w,token:e,providedIn:"root"}),e})();function w(e){const t=(0,r.LFG)(c).location;return new _((0,r.LFG)(l),t&&t.origin||"")}const b=new r.OlP("appBaseHref");let _=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return g(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const s=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){const s=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),S=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=g(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let s=this.prepareExternalUrl(n+y(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){let s=this.prepareExternalUrl(n+y(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v),r.LFG(l))},e.normalizeQueryParams=y,e.joinWithSlash=g,e.stripTrailingSlash=m,e.\u0275prov=(0,r.Yz7)({factory:E,token:e,providedIn:"root"}),e})();function E(){return new I((0,r.LFG)(v),(0,r.LFG)(l))}function T(e){return e.replace(/\/index.html$/,"")}var C=(()=>((C=C||{})[C.Decimal=0]="Decimal",C[C.Percent=1]="Percent",C[C.Currency=2]="Currency",C[C.Scientific=3]="Scientific",C))(),k=(()=>((k=k||{})[k.Zero=0]="Zero",k[k.One=1]="One",k[k.Two=2]="Two",k[k.Few=3]="Few",k[k.Many=4]="Many",k[k.Other=5]="Other",k))(),A=(()=>((A=A||{})[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A))(),x=(()=>((x=x||{})[x.Narrow=0]="Narrow",x[x.Abbreviated=1]="Abbreviated",x[x.Wide=2]="Wide",x[x.Short=3]="Short",x))(),O=(()=>((O=O||{})[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O))(),N=(()=>((N=N||{})[N.Decimal=0]="Decimal",N[N.Group=1]="Group",N[N.List=2]="List",N[N.PercentSign=3]="PercentSign",N[N.PlusSign=4]="PlusSign",N[N.MinusSign=5]="MinusSign",N[N.Exponential=6]="Exponential",N[N.SuperscriptingExponent=7]="SuperscriptingExponent",N[N.PerMille=8]="PerMille",N[N[1/0]=9]="Infinity",N[N.NaN=10]="NaN",N[N.TimeSeparator=11]="TimeSeparator",N[N.CurrencyDecimal=12]="CurrencyDecimal",N[N.CurrencyGroup=13]="CurrencyGroup",N))();function D(e,t){return F((0,r.cg1)(e)[r.wAp.DateFormat],t)}function R(e,t){return F((0,r.cg1)(e)[r.wAp.TimeFormat],t)}function P(e,t){return F((0,r.cg1)(e)[r.wAp.DateTimeFormat],t)}function $(e,t){const n=(0,r.cg1)(e),s=n[r.wAp.NumberSymbols][t];if(void 0===s){if(t===N.CurrencyDecimal)return n[r.wAp.NumberSymbols][N.Decimal];if(t===N.CurrencyGroup)return n[r.wAp.NumberSymbols][N.Group]}return s}const L=r.kL8;function M(e){if(!e[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function U(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,j={},q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=(()=>((B=B||{})[B.Short=0]="Short",B[B.ShortGMT=1]="ShortGMT",B[B.Long=2]="Long",B[B.Extended=3]="Extended",B))(),z=(()=>((z=z||{})[z.FullYear=0]="FullYear",z[z.Month=1]="Month",z[z.Date=2]="Date",z[z.Hours=3]="Hours",z[z.Minutes=4]="Minutes",z[z.Seconds=5]="Seconds",z[z.FractionalSeconds=6]="FractionalSeconds",z[z.Day=7]="Day",z))(),H=(()=>((H=H||{})[H.DayPeriods=0]="DayPeriods",H[H.Days=1]="Days",H[H.Months=2]="Months",H[H.Eras=3]="Eras",H))();function G(e,t,n,r){let s=function(e){if(ie(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return Y(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(V))return function(e){const t=new Date(0);let n=0,r=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,o,a,c,l),t}(n)}const t=new Date(e);if(!ie(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=K(n,t)||t;let i,o=[];for(;t;){if(i=q.exec(t),!i){o.push(t);break}{o=o.concat(i.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();r&&(a=se(r,a),s=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(se(t,r)-r))}(s,r));let c="";return o.forEach(e=>{const t=function(e){if(re[e])return re[e];let t;switch(e){case"G":case"GG":case"GGG":t=Z(H.Eras,x.Abbreviated);break;case"GGGG":t=Z(H.Eras,x.Wide);break;case"GGGGG":t=Z(H.Eras,x.Narrow);break;case"y":t=Q(z.FullYear,1,0,!1,!0);break;case"yy":t=Q(z.FullYear,2,0,!0,!0);break;case"yyy":t=Q(z.FullYear,3,0,!1,!0);break;case"yyyy":t=Q(z.FullYear,4,0,!1,!0);break;case"Y":t=ne(1);break;case"YY":t=ne(2,!0);break;case"YYY":t=ne(3);break;case"YYYY":t=ne(4);break;case"M":case"L":t=Q(z.Month,1,1);break;case"MM":case"LL":t=Q(z.Month,2,1);break;case"MMM":t=Z(H.Months,x.Abbreviated);break;case"MMMM":t=Z(H.Months,x.Wide);break;case"MMMMM":t=Z(H.Months,x.Narrow);break;case"LLL":t=Z(H.Months,x.Abbreviated,A.Standalone);break;case"LLLL":t=Z(H.Months,x.Wide,A.Standalone);break;case"LLLLL":t=Z(H.Months,x.Narrow,A.Standalone);break;case"w":t=te(1);break;case"ww":t=te(2);break;case"W":t=te(1,!0);break;case"d":t=Q(z.Date,1);break;case"dd":t=Q(z.Date,2);break;case"c":case"cc":t=Q(z.Day,1);break;case"ccc":t=Z(H.Days,x.Abbreviated,A.Standalone);break;case"cccc":t=Z(H.Days,x.Wide,A.Standalone);break;case"ccccc":t=Z(H.Days,x.Narrow,A.Standalone);break;case"cccccc":t=Z(H.Days,x.Short,A.Standalone);break;case"E":case"EE":case"EEE":t=Z(H.Days,x.Abbreviated);break;case"EEEE":t=Z(H.Days,x.Wide);break;case"EEEEE":t=Z(H.Days,x.Narrow);break;case"EEEEEE":t=Z(H.Days,x.Short);break;case"a":case"aa":case"aaa":t=Z(H.DayPeriods,x.Abbreviated);break;case"aaaa":t=Z(H.DayPeriods,x.Wide);break;case"aaaaa":t=Z(H.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":t=Z(H.DayPeriods,x.Abbreviated,A.Standalone,!0);break;case"bbbb":t=Z(H.DayPeriods,x.Wide,A.Standalone,!0);break;case"bbbbb":t=Z(H.DayPeriods,x.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":t=Z(H.DayPeriods,x.Abbreviated,A.Format,!0);break;case"BBBB":t=Z(H.DayPeriods,x.Wide,A.Format,!0);break;case"BBBBB":t=Z(H.DayPeriods,x.Narrow,A.Format,!0);break;case"h":t=Q(z.Hours,1,-12);break;case"hh":t=Q(z.Hours,2,-12);break;case"H":t=Q(z.Hours,1);break;case"HH":t=Q(z.Hours,2);break;case"m":t=Q(z.Minutes,1);break;case"mm":t=Q(z.Minutes,2);break;case"s":t=Q(z.Seconds,1);break;case"ss":t=Q(z.Seconds,2);break;case"S":t=Q(z.FractionalSeconds,1);break;case"SS":t=Q(z.FractionalSeconds,2);break;case"SSS":t=Q(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=J(B.Short);break;case"ZZZZZ":t=J(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=J(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=J(B.Long);break;default:return null}return re[e]=t,t}(e);c+=t?t(s,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Y(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function K(e,t){const n=function(e){return(0,r.cg1)(e)[r.wAp.LocaleId]}(e);if(j[n]=j[n]||{},j[n][t])return j[n][t];let s="";switch(t){case"shortDate":s=D(e,O.Short);break;case"mediumDate":s=D(e,O.Medium);break;case"longDate":s=D(e,O.Long);break;case"fullDate":s=D(e,O.Full);break;case"shortTime":s=R(e,O.Short);break;case"mediumTime":s=R(e,O.Medium);break;case"longTime":s=R(e,O.Long);break;case"fullTime":s=R(e,O.Full);break;case"short":const t=K(e,"shortTime"),n=K(e,"shortDate");s=W(P(e,O.Short),[t,n]);break;case"medium":const r=K(e,"mediumTime"),i=K(e,"mediumDate");s=W(P(e,O.Medium),[r,i]);break;case"long":const o=K(e,"longTime"),a=K(e,"longDate");s=W(P(e,O.Long),[o,a]);break;case"full":const c=K(e,"fullTime"),l=K(e,"fullDate");s=W(P(e,O.Full),[c,l])}return s&&(j[n][t]=s),s}function W(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function X(e,t,n="-",r,s){let i="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,i=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),i+o}function Q(e,t,n=0,r=!1,s=!1){return function(i,o){let a=function(e,t){switch(e){case z.FullYear:return t.getFullYear();case z.Month:return t.getMonth();case z.Date:return t.getDate();case z.Hours:return t.getHours();case z.Minutes:return t.getMinutes();case z.Seconds:return t.getSeconds();case z.FractionalSeconds:return t.getMilliseconds();case z.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,i);if((n>0||a>-n)&&(a+=n),e===z.Hours)0===a&&-12===n&&(a=12);else if(e===z.FractionalSeconds)return c=t,X(a,3).substr(0,c);var c;const l=$(o,N.MinusSign);return X(a,t,l,r,s)}}function Z(e,t,n=A.Format,s=!1){return function(i,o){return function(e,t,n,s,i,o){switch(n){case H.Months:return function(e,t,n){const s=(0,r.cg1)(e),i=F([s[r.wAp.MonthsFormat],s[r.wAp.MonthsStandalone]],t);return F(i,n)}(t,i,s)[e.getMonth()];case H.Days:return function(e,t,n){const s=(0,r.cg1)(e),i=F([s[r.wAp.DaysFormat],s[r.wAp.DaysStandalone]],t);return F(i,n)}(t,i,s)[e.getDay()];case H.DayPeriods:const a=e.getHours(),c=e.getMinutes();if(o){const e=function(e){const t=(0,r.cg1)(e);return M(t),(t[r.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?U(e):[U(e[0]),U(e[1])])}(t),n=function(e,t,n){const s=(0,r.cg1)(e);M(s);const i=F([s[r.wAp.ExtraData][0],s[r.wAp.ExtraData][1]],t)||[];return F(i,n)||[]}(t,i,s),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&c>=t.minutes,s=a<n.hours||a===n.hours&&c<n.minutes;if(t.hours<n.hours){if(r&&s)return!0}else if(r||s)return!0}else if(e.hours===a&&e.minutes===c)return!0;return!1});if(-1!==o)return n[o]}return function(e,t,n){const s=(0,r.cg1)(e),i=F([s[r.wAp.DayPeriodsFormat],s[r.wAp.DayPeriodsStandalone]],t);return F(i,n)}(t,i,s)[a<12?0:1];case H.Eras:return function(e,t){return F((0,r.cg1)(e)[r.wAp.Eras],t)}(t,s)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,s)}}function J(e){return function(t,n,r){const s=-1*r,i=$(n,N.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case B.Short:return(s>=0?"+":"")+X(o,2,i)+X(Math.abs(s%60),2,i);case B.ShortGMT:return"GMT"+(s>=0?"+":"")+X(o,1,i);case B.Long:return"GMT"+(s>=0?"+":"")+X(o,2,i)+":"+X(Math.abs(s%60),2,i);case B.Extended:return 0===r?"Z":(s>=0?"+":"")+X(o,2,i)+":"+X(Math.abs(s%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}function ee(e){return Y(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function te(e,t=!1){return function(n,r){let s;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();s=1+Math.floor((t+e)/7)}else{const e=ee(n),t=function(e){const t=Y(e,0,1).getDay();return Y(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();s=1+Math.round(r/6048e5)}return X(s,e,$(r,N.MinusSign))}}function ne(e,t=!1){return function(n,r){return X(ee(n).getFullYear(),e,$(r,N.MinusSign),t)}}const re={};function se(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ie(e){return e instanceof Date&&!isNaN(e.valueOf())}const oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ae=".",ce="0";function le(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class ue{}let he=(()=>{class e extends ue{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(L(t||this.locale)(e)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function de(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let fe=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class pe{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ge=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pe(null,this._ngForOf,-1,-1),null===r?void 0:r),s=new me(e,n);t.push(s)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,r);const i=new me(e,s);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class me{constructor(e,t){this.record=e,this.view=t}}let ye=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new ve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){we("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){we("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class ve{constructor(){this.$implicit=null,this.ngIf=null}}function we(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class be{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let _e=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Se=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new be(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(_e,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Ie=(()=>{class e{constructor(e,t,n){n._addDefault(new be(e,t))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(_e,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Ee=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Te=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),e})();function Ce(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}class ke{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ae{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const xe=new Ae,Oe=new ke;let Ne=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return xe;if((0,r.F4k)(t))return Oe;throw Ce(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),De=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,s){if(null==t||""===t||t!=t)return null;try{return G(t,n,s||this.locale,r)}catch(i){throw Ce(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"date",type:e,pure:!0}),e})(),Re=(()=>{class e{constructor(e){this._locale=e}transform(t,n,s){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;s=s||this._locale;try{return function(e,t,n){return function(e,t,n,r,s,i,o=!1){let a="",c=!1;if(isFinite(e)){let l=function(e){let t,n,r,s,i,o=Math.abs(e)+"",a=0;for((n=o.indexOf(ae))>-1&&(o=o.replace(ae,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===ce;r++);if(r===(i=o.length))t=[0],n=1;else{for(i--;o.charAt(i)===ce;)i--;for(n-=r,t=[],s=0;r<=i;r++,s++)t[s]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);o&&(l=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(i){const e=i.match(oe);if(null===e)throw new Error(`${i} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(u=le(t)),null!=n&&(h=le(n)),null!=r?d=le(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,s=r.length-e.integerLen;const i=Math.min(Math.max(t,s),n);let o=i+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{s=Math.max(0,s),e.integerLen=1,r.length=Math.max(1,o=i+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;s<Math.max(0,i);s++)r.push(0);let c=0!==i;const l=t+e.integerLen,u=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,c&&(0===r[n]&&n>=l?r.pop():c=!1),t>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(l,h,d);let f=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(c=f.every(e=>!e);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join($(n,r)),m.length&&(a+=$(n,s)+m.join("")),g&&(a+=$(n,N.Exponential)+"+"+g)}else a=$(n,N.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),s=r[0],i=r[1],o=-1!==s.indexOf(ae)?s.split(ae):[s.substring(0,s.lastIndexOf(ce)+1),s.substring(s.lastIndexOf(ce)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const e=c.charAt(u);e===ce?n.minFrac=n.maxFrac=u+1:"#"===e?n.maxFrac=u+1:n.posSuf+=e}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,i){const e=s.length-n.posPre.length-n.posSuf.length,t=i.indexOf("#");n.negPre=i.substr(0,t).replace(/'/g,""),n.negSuf=i.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,r.cg1)(e)[r.wAp.NumberFormats][t]}(t,C.Decimal),$(t,N.MinusSign)),t,N.Group,N.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),s,n)}catch(i){throw Ce(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"number",type:e,pure:!0}),e})(),Pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:ue,useClass:he}]}),e})();const $e="browser";function Le(e){return e===$e}function Me(e){return"server"===e}let Fe=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new Ue((0,r.LFG)(c),window)}),e})();class Ue{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ve(this.window.history)||Ve(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ve(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class je{}},1887:(e,t,n)=>{"use strict";n.d(t,{eN:()=>A,JF:()=>j});var r=n(6274),s=n(7272),i=n(267),o=n(3948),a=n(3748),c=n(3305),l=n(8561);class u{}class h{}class d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===s.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class f{encodeKey(e){return p(e)}encodeValue(e){return p(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function g(e){return`${e}`}class m{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new f,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[s,i]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(s)||[];o.push(i),n.set(s,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new m({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(g(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(g(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function v(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function w(e){return"undefined"!=typeof Blob&&e instanceof Blob}function b(e){return"undefined"!=typeof FormData&&e instanceof FormData}class _{constructor(e,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new d),this.context||(this.context=new y),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new m,this.urlWithParams=t}serializeBody(){return null===this.body?null:v(this.body)||w(this.body)||b(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:w(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new _(n,r,i,{params:l,headers:c,context:u,reportProgress:a,responseType:s,withCredentials:o})}}var S=(()=>((S=S||{})[S.Sent=0]="Sent",S[S.UploadProgress=1]="UploadProgress",S[S.ResponseHeader=2]="ResponseHeader",S[S.DownloadProgress=3]="DownloadProgress",S[S.Response=4]="Response",S[S.User=5]="User",S))();class I{constructor(e,t=200,n="OK"){this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class E extends I{constructor(e={}){super(e),this.type=S.ResponseHeader}clone(e={}){return new E({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T extends I{constructor(e={}){super(e),this.type=S.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new T({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class C extends I{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function k(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let A=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof _)r=e;else{let s,i;s=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(i=n.params instanceof m?n.params:new m({fromObject:n.params})),r=new _(e,t,void 0!==n.body?n.body:null,{headers:s,context:n.context,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=(0,i.of)(r).pipe((0,a.b)(e=>this.handler.handle(e)));if(e instanceof _||"events"===n.observe)return s;const o=s.pipe((0,c.h)(e=>e instanceof T));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,l.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe((0,l.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe((0,l.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe((0,l.U)(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new m).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,k(n,t))}post(e,t,n={}){return this.request("POST",e,k(n,t))}put(e,t,n={}){return this.request("PUT",e,k(n,t))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(u))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class x{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const O=new s.OlP("HTTP_INTERCEPTORS");let N=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const D=/^\)\]\}',?\n/;let R=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let s=null;const i=()=>{if(null!==s)return s;const t=1223===n.status?204:n.status,r=n.statusText||"OK",i=new d(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return s=new E({headers:i,status:t,statusText:r,url:o}),s},o=()=>{let{headers:r,status:s,statusText:o,url:a}=i(),c=null;204!==s&&(c=void 0===n.response?n.responseText:n.response),0===s&&(s=c?200:0);let l=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(D,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=e,l&&(l=!1,c={error:u,text:c})}}l?(t.next(new T({body:c,headers:r,status:s,statusText:o,url:a||void 0})),t.complete()):t.error(new C({error:c,headers:r,status:s,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=i(),s=new C({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(s)};let c=!1;const l=r=>{c||(t.next(i()),c=!0);let s={type:S.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(s.total=r.total),"text"===e.responseType&&n.responseText&&(s.partialText=n.responseText),t.next(s)},u=e=>{let n={type:S.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:S.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.JF))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const P=new s.OlP("XSRF_COOKIE_NAME"),$=new s.OlP("XSRF_HEADER_NAME");class L{}let M=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,r.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0),s.LFG(s.Lbi),s.LFG(P))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),F=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(L),s.LFG($))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),U=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(O,[]);this.chain=e.reduceRight((e,t)=>new x(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(h),s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:F,useClass:N}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:P,useValue:t.cookieName}:[],t.headerName?{provide:$,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[F,{provide:O,useExisting:F,multi:!0},{provide:L,useClass:M},{provide:P,useValue:"XSRF-TOKEN"},{provide:$,useValue:"X-XSRF-TOKEN"}]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[A,{provide:u,useClass:U},R,{provide:h,useExisting:R}],imports:[[V.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},7272:(e,t,n)=>{"use strict";n.d(t,{deG:()=>dn,tb:()=>al,AFp:()=>nl,ip1:()=>el,CZH:()=>tl,hGG:()=>eu,z2F:()=>zl,ahi:()=>un,sBO:()=>Xa,Sil:()=>vl,_Vd:()=>ba,aQ5:()=>pn,EJc:()=>ul,SBq:()=>Ea,qLn:()=>xr,vpe:()=>Dc,L6J:()=>Jc,gxx:()=>gi,tBr:()=>$n,XFs:()=>N,OlP:()=>hn,zs3:()=>Oi,ZZ4:()=>Ba,aQg:()=>Ha,soG:()=>ll,YKP:()=>oc,v3s:()=>Gl,h0i:()=>ic,PXZ:()=>Ul,R0b:()=>_l,FiY:()=>Ln,r_U:()=>Zc,Lbi:()=>ol,g9A:()=>il,Qsj:()=>ka,FYo:()=>Ca,JOm:()=>Dr,Tiy:()=>xa,q3G:()=>Ir,tp0:()=>Mn,EAV:()=>Wl,Rgc:()=>tc,dDg:()=>Al,DyG:()=>mn,q4F:()=>Na,GfV:()=>Oa,i9L:()=>gn,s_b:()=>cc,ifc:()=>M,eFA:()=>Vl,G48:()=>Ml,Gpc:()=>g,X6Q:()=>Ll,_c5:()=>Zl,VLi:()=>Nl,c2e:()=>cl,zSh:()=>yi,wAp:()=>oa,vHH:()=>v,EiD:()=>_r,mCW:()=>sr,qzn:()=>Yn,JVY:()=>Wn,pB0:()=>Jn,eBb:()=>Qn,L6k:()=>Xn,LAX:()=>Zn,cg1:()=>ra,Tjo:()=>Ql,kL8:()=>sa,yhl:()=>Kn,dqk:()=>q,sIi:()=>Vi,CqO:()=>co,QGY:()=>oo,F4k:()=>ao,RDi:()=>ke,AaK:()=>d,z3N:()=>Gn,qOj:()=>Di,TTD:()=>be,_Bn:()=>ya,xp6:()=>ws,uIk:()=>Hi,Tol:()=>$o,Gre:()=>Qo,MT6:()=>Zo,ekj:()=>Do,Suo:()=>Gc,Xpm:()=>J,lG2:()=>oe,Yz7:()=>S,cJS:()=>I,oAB:()=>re,Yjl:()=>ae,Y36:()=>Xi,_UZ:()=>no,BQk:()=>so,ynx:()=>ro,qZA:()=>to,TgZ:()=>eo,EpF:()=>io,n5z:()=>tn,Ikx:()=>Jo,LFG:()=>Dn,$8M:()=>rn,$Z:()=>Qi,NdJ:()=>lo,CRH:()=>Yc,kcU:()=>wt,O4$:()=>vt,oxw:()=>fo,ALo:()=>Cc,lcZ:()=>kc,xi3:()=>Ac,Hsn:()=>mo,F$t:()=>go,Q6J:()=>Zi,s9C:()=>yo,MGl:()=>vo,hYB:()=>wo,cQ8:()=>bo,VKq:()=>Ic,iGM:()=>zc,MAs:()=>Wi,CHM:()=>He,LSH:()=>Er,kYT:()=>se,Akn:()=>Ro,YNc:()=>Ki,W1O:()=>Qc,_uU:()=>Yo,Oqu:()=>Ko,hij:()=>Wo,AsE:()=>Xo,Gf:()=>Hc});var r=n(6006),s=n(9734),i=n(3948),o=n(636),a=n(6544),c=n(5290);function l(){return new r.xQ}function u(e){for(let t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=u({__forward_ref__:u});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function w(e){return"string"==typeof e?e:null==e?"":String(e)}function b(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():w(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${b(e)} found${n}`)}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function I(e){return{providers:e.providers||[],imports:e.imports||[]}}function E(e){return T(e,k)||T(e,x)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(A)||e.hasOwnProperty(O))?e[A]:null}const k=u({"\u0275prov":u}),A=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),O=u({ngInjectorDef:u});var N=(()=>((N=N||{})[N.Default=0]="Default",N[N.Host=1]="Host",N[N.Self=2]="Self",N[N.SkipSelf=4]="SkipSelf",N[N.Optional=8]="Optional",N))();let D;function R(e){const t=D;return D=e,t}function P(e,t,n){const r=E(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function $(e){return{toString:e}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),M=(()=>((M=M||{})[M.Emulated=0]="Emulated",M[M.None=2]="None",M[M.ShadowDom=3]="ShadowDom",M))();const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=F||j||U||V,B={},z=[],H=u({"\u0275cmp":u}),G=u({"\u0275dir":u}),Y=u({"\u0275pipe":u}),K=u({"\u0275mod":u}),W=u({"\u0275loc":u}),X=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let Z=0;function J(e){return $(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||M.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,s=e.features,i=e.pipes;return n.id+=Z++,n.inputs=ie(e.inputs,t),n.outputs=ie(e.outputs),s&&s.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(te):null,n})}function ee(e){return ce(e)||function(e){return e[G]||null}(e)}function te(e){return function(e){return e[Y]||null}(e)}const ne={};function re(e){return $(()=>{const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function se(e,t){return $(()=>{const n=le(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function ie(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,t&&(t[s]=i)}return n}const oe=J;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[H]||null}function le(e,t){const n=e[K]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const ue=20,he=10;function de(e){return Array.isArray(e)&&"object"==typeof e[1]}function fe(e){return Array.isArray(e)&&!0===e[1]}function pe(e){return 0!=(8&e.flags)}function ge(e){return 2==(2&e.flags)}function me(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function ve(e,t){return e.hasOwnProperty(X)?e[X]:null}class we{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function be(){return _e}function _e(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ie),Se}function Se(){const e=Ee(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ie(e,t,n,r){const s=Ee(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),i=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[n],c=o[a];i[a]=new we(c&&c.currentValue,t,o===B),e[r]=t}function Ee(e){return e.__ngSimpleChanges__||null}be.ngInherit=!0;const Te="http://www.w3.org/2000/svg";let Ce;function ke(e){Ce=e}function Ae(e){return!!e.listen}const xe={createRenderer:(e,t)=>void 0!==Ce?Ce:"undefined"!=typeof document?document:void 0};function Oe(e){for(;Array.isArray(e);)e=e[0];return e}function Ne(e,t){return Oe(t[e])}function De(e,t){return Oe(t[e.index])}function Re(e,t){return e.data[t]}function Pe(e,t){return e[t]}function $e(e,t){const n=t[e];return de(n)?n:n[0]}function Le(e){return 4==(4&e[2])}function Me(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Ue(e){e[18]=0}function Ve(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const je={lFrame:ht(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qe(){return je.bindingsEnabled}function Be(){return je.lFrame.lView}function ze(){return je.lFrame.tView}function He(e){return je.lFrame.contextLView=e,e[8]}function Ge(){let e=Ye();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ye(){return je.lFrame.currentTNode}function Ke(e,t){const n=je.lFrame;n.currentTNode=e,n.isParent=t}function We(){return je.lFrame.isParent}function Xe(){je.lFrame.isParent=!1}function Qe(){return je.isInCheckNoChangesMode}function Ze(e){je.isInCheckNoChangesMode=e}function Je(){const e=je.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function et(){return je.lFrame.bindingIndex}function tt(){return je.lFrame.bindingIndex++}function nt(e){const t=je.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rt(e,t){const n=je.lFrame;n.bindingIndex=n.bindingRootIndex=e,st(t)}function st(e){je.lFrame.currentDirectiveIndex=e}function it(){return je.lFrame.currentQueryIndex}function ot(e){je.lFrame.currentQueryIndex=e}function at(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ct(e,t,n){if(n&N.SkipSelf){let r=t,s=e;for(;r=r.parent,!(null!==r||n&N.Host||(r=at(s),null===r)||(s=s[15],10&r.type)););if(null===r)return!1;t=r,e=s}const r=je.lFrame=ut();return r.currentTNode=t,r.lView=e,!0}function lt(e){const t=ut(),n=e[1];je.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ut(){const e=je.lFrame,t=null===e?null:e.child;return null===t?ht(e):t}function ht(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dt(){const e=je.lFrame;return je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ft=dt;function pt(){const e=dt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gt(){return je.lFrame.selectedIndex}function mt(e){je.lFrame.selectedIndex=e}function yt(){const e=je.lFrame;return Re(e.tView,e.selectedIndex)}function vt(){je.lFrame.currentNamespace=Te}function wt(){je.lFrame.currentNamespace=null}function bt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:s,ngAfterViewInit:i,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),i&&(e.viewHooks||(e.viewHooks=[])).push(-n,i),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function _t(e,t,n){Et(e,t,3,n)}function St(e,t,n,r){(3&e[2])===n&&Et(e,t,n,r)}function It(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Et(e,t,n,r){const s=null!=r?r:-1,i=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<i;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<s||-1==s)&&(Tt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Tt(e,t,n,r){const s=n[r]<0,i=n[r+1],o=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{i.call(o)}finally{}}}else try{i.call(o)}finally{}}const Ct=-1;class kt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function At(e,t,n){const r=Ae(e);let s=0;for(;s<n.length;){const i=n[s];if("number"==typeof i){if(0!==i)break;s++;const o=n[s++],a=n[s++],c=n[s++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=i,a=n[++s];Ot(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function xt(e){return 3===e||4===e||6===e}function Ot(e){return 64===e.charCodeAt(0)}function Nt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Dt(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Dt(e,t,n,r,s){let i=0,o=e.length;if(-1===t)o=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==s&&(e[i+1]=s));if(r===e[i+1])return void(e[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==o&&(e.splice(o,0,t),i=o+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==s&&e.splice(i++,0,s)}function Rt(e){return e!==Ct}function Pt(e){return 32767&e}function $t(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Lt=!0;function Mt(e){const t=Lt;return Lt=e,t}let Ft=0;function Ut(e,t){const n=jt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Vt(r.data,e),Vt(t,null),Vt(r.blueprint,null));const s=qt(e,t),i=e.injectorIndex;if(Rt(s)){const e=Pt(s),n=$t(s,t),r=n[1].data;for(let s=0;s<8;s++)t[i+s]=n[e+s]|r[e+s]}return t[i+8]=s,i}function Vt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function jt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function qt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){const e=s[1],t=e.type;if(r=2===t?e.declTNode:1===t?s[6]:null,null===r)return Ct;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ct}function Bt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Ft++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function zt(e,t,n){if(n&N.Optional)return e;_(t,"NodeInjector")}function Ht(e,t,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const s=e[9],i=R(void 0);try{return s?s.get(t,r,n&N.Optional):P(t,r,n&N.Optional)}finally{R(i)}}return zt(r,t,n)}function Gt(e,t,n,r=N.Default,s){if(null!==e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?255&t:Kt:t}(n);if("function"==typeof i){if(!ct(t,e,r))return r&N.Host?zt(s,n,r):Ht(t,n,r,s);try{const e=i(r);if(null!=e||r&N.Optional)return e;_(n)}finally{ft()}}else if("number"==typeof i){let s=null,o=jt(e,t),a=Ct,c=r&N.Host?t[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?qt(e,t):t[o+8],a!==Ct&&Jt(r,!1)?(s=t[1],o=Pt(a),t=$t(a,t)):o=-1);-1!==o;){const e=t[1];if(Zt(i,o,e.data)){const e=Wt(o,t,n,s,r,c);if(e!==Yt)return e}a=t[o+8],a!==Ct&&Jt(r,t[1].data[o+8]===c)&&Zt(i,o,t)?(s=e,o=Pt(a),t=$t(a,t)):o=-1}}}return Ht(t,n,r,s)}const Yt={};function Kt(){return new en(Ge(),Be())}function Wt(e,t,n,r,s,i){const o=t[1],a=o.data[e+8],c=Xt(a,o,n,null==r?ge(a)&&Lt:r!=o&&0!=(3&a.type),s&N.Host&&i===a);return null!==c?Qt(t,o,c,a):Yt}function Xt(e,t,n,r,s){const i=e.providerIndexes,o=t.data,a=1048575&i,c=e.directiveStart,l=i>>20,u=s?a+l:e.directiveEnd;for(let h=r?a:a+l;h<u;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(s){const e=o[c];if(e&&ye(e)&&e.type===n)return c}return null}function Qt(e,t,n,r){let s=e[n];const i=t.data;if(s instanceof kt){const o=s;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(b(i[n]));const a=Mt(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;ct(e,r,N.Default);try{s=e[n]=o.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=t.type.prototype;if(r){const r=_e(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==c&&R(c),Mt(a),o.resolving=!1,ft()}}return s}function Zt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Jt(e,t){return!(e&N.Self||e&N.Host&&t)}class en{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Gt(this._tNode,this._lView,e,void 0,t)}}function tn(e){return $(()=>{const t=e.prototype.constructor,n=t[X]||nn(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const e=s[X]||nn(s);if(e&&e!==n)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function nn(e){return y(e)?()=>{const t=nn(m(e));return t&&t()}:ve(e)}function rn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const s=n[r];if(xt(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(Ge(),e)}const sn="__parameters__",on="__prop__metadata__";function an(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function cn(e,t,n){return $(()=>{const r=an(t);function s(...e){if(this instanceof s)return r.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,r){const s=e.hasOwnProperty(sn)?e[sn]:Object.defineProperty(e,sn,{value:[]})[sn];for(;s.length<=r;)s.push(null);return(s[r]=s[r]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function ln(e,t,n,r){return $(()=>{const s=an(t);function i(...e){if(this instanceof i)return s.apply(this,e),this;const t=new i(...e);return function(n,s){const i=n.constructor,o=i.hasOwnProperty(on)?i[on]:Object.defineProperty(i,on,{value:{}})[on];o[s]=o.hasOwnProperty(s)&&o[s]||[],o[s].unshift(t),r&&r(n,s,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const un=function(){return cn("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>rn(e)}))}();class hn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dn=new hn("AnalyzeForEntryComponents");class fn{}const pn=ln("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),fn),gn=ln("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),fn),mn=Function;function yn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),yn(r,t)):t!==e&&t.push(r)}return t}function vn(e,t){e.forEach(e=>Array.isArray(e)?vn(e,t):t(e))}function wn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function bn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _n(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Sn(e,t,n){let r=En(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function In(e,t){const n=En(e,t);if(n>=0)return e[1|n]}function En(e,t){return function(e,t,n){let r=0,s=e.length>>1;for(;s!==r;){const n=r+(s-r>>1),i=e[n<<1];if(t===i)return n<<1;i>t?s=n:r=n+1}return~(s<<1)}(e,t)}const Tn={},Cn=/\n/gm,kn="__source",An=u({provide:String,useValue:u});let xn;function On(e){const t=xn;return xn=e,t}function Nn(e,t=N.Default){if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?P(e,void 0,t):xn.get(e,t&N.Optional?null:void 0,t)}function Dn(e,t=N.Default){return(D||Nn)(m(e),t)}function Rn(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=N.Default;for(let t=0;t<r.length;t++){const s=r[t],i=s.__NG_DI_FLAG__;"number"==typeof i?-1===i?e=s.token:n|=i:e=s}t.push(Dn(e,n))}else t.push(Dn(r))}return t}function Pn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const $n=Pn(cn("Inject",e=>({token:e})),-1),Ln=Pn(cn("Optional"),8),Mn=Pn(cn("SkipSelf"),4);let Fn;function Un(e){var t;return(null===(t=function(){if(void 0===Fn&&(Fn=null,q.trustedTypes))try{Fn=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Fn}())||void 0===t?void 0:t.createHTML(e))||e}class Vn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jn extends Vn{getTypeName(){return"HTML"}}class qn extends Vn{getTypeName(){return"Style"}}class Bn extends Vn{getTypeName(){return"Script"}}class zn extends Vn{getTypeName(){return"URL"}}class Hn extends Vn{getTypeName(){return"ResourceURL"}}function Gn(e){return e instanceof Vn?e.changingThisBreaksApplicationSecurity:e}function Yn(e,t){const n=Kn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Kn(e){return e instanceof Vn&&e.getTypeName()||null}function Wn(e){return new jn(e)}function Xn(e){return new qn(e)}function Qn(e){return new Bn(e)}function Zn(e){return new zn(e)}function Jn(e){return new Hn(e)}class er{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Un(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class tr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Un(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Un(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sr(e){return(e=String(e)).match(nr)||e.match(rr)?e:"unsafe:"+e}function ir(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function or(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ar=ir("area,br,col,hr,img,wbr"),cr=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lr=ir("rp,rt"),ur=or(lr,cr),hr=or(ar,or(cr,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(lr,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ur),dr=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fr=ir("srcset"),pr=or(dr,fr,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gr=ir("script,style,template");class mr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!hr.hasOwnProperty(t))return this.sanitizedSomething=!0,!gr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,i=t.toLowerCase();if(!pr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;dr[i]&&(o=sr(o)),fr[i]&&(r=o,o=(r=String(r)).split(",").map(e=>sr(e.trim())).join(", ")),this.buf.push(" ",t,'="',wr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();hr.hasOwnProperty(t)&&!ar.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function wr(e){return e.replace(/&/g,"&amp;").replace(yr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(vr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let br;function _r(e,t){let n=null;try{br=br||function(e){const t=new tr(e);return function(){try{return!!(new window.DOMParser).parseFromString(Un(""),"text/html")}catch(e){return!1}}()?new er(t):t}(e);let r=t?String(t):"";n=br.getInertBodyElement(r);let s=5,i=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=i,i=n.innerHTML,n=br.getInertBodyElement(r)}while(r!==i);return Un((new mr).sanitizeChildren(Sr(n)||n))}finally{if(n){const e=Sr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Sr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ir=(()=>((Ir=Ir||{})[Ir.NONE=0]="NONE",Ir[Ir.HTML=1]="HTML",Ir[Ir.STYLE=2]="STYLE",Ir[Ir.SCRIPT=3]="SCRIPT",Ir[Ir.URL=4]="URL",Ir[Ir.RESOURCE_URL=5]="RESOURCE_URL",Ir))();function Er(e){const t=function(){const e=Be();return e&&e[12]}();return t?t.sanitize(Ir.URL,e)||"":Yn(e,"URL")?Gn(e):sr(w(e))}function Tr(e,t){e.__ngContext__=t}function Cr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function kr(e){return e.ngOriginalError}function Ar(e,...t){e.error(...t)}class xr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||Ar}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(kr(e)):null}_findOriginalError(e){let t=e&&kr(e);for(;t&&kr(t);)t=kr(t);return t||null}}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Nr(e){return e instanceof Function?e():e}var Dr=(()=>((Dr=Dr||{})[Dr.Important=1]="Important",Dr[Dr.DashCase=2]="DashCase",Dr))();function Rr(e,t){return(void 0)(e,t)}function Pr(e){const t=e[3];return fe(t)?t[3]:t}function $r(e){return Mr(e[13])}function Lr(e){return Mr(e[4])}function Mr(e){for(;null!==e&&!fe(e);)e=e[4];return e}function Fr(e,t,n,r,s){if(null!=r){let i,o=!1;fe(r)?i=r:de(r)&&(o=!0,r=r[0]);const a=Oe(r);0===e&&null!==n?null==s?Gr(t,n,a):Hr(t,n,a,s||null,!0):1===e&&null!==n?Hr(t,n,a,s||null,!0):2===e?function(e,t,n){const r=Kr(e,t);r&&function(e,t,n,r){Ae(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=i&&function(e,t,n,r,s){const i=n[7];i!==Oe(n)&&Fr(t,e,r,i,s);for(let o=he;o<n.length;o++){const s=n[o];ns(s[1],s,e,t,r,i)}}(t,e,i,n,s)}}function Ur(e,t,n){return Ae(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vr(e,t){const n=e[9],r=n.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Ve(s,-1)),n.splice(r,1)}function jr(e,t){if(e.length<=he)return;const n=he+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Vr(i,r),t>0&&(e[n-1][4]=r[4]);const o=bn(e,he+t);ns(r[1],s=r,s[11],2,null,null),s[0]=null,s[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var s;return r}function qr(e,t){if(!(256&t[2])){const n=t[11];Ae(n)&&n.destroyNode&&ns(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Br(e[1],e);for(;t;){let n=null;if(de(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)de(t)&&Br(t[1],t),t=t[3];null===t&&(t=e),de(t)&&Br(t[1],t),n=t&&t[4]}t=n}}(t)}}function Br(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof kt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],s=t[n+1];try{s.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const e=n[i+1],o="function"==typeof e?e(t):Oe(t[e]),a=r[s=n[i+2]],c=n[i+3];"boolean"==typeof c?o.removeEventListener(n[i],a,c):c>=0?r[s=c]():r[s=-c].unsubscribe(),i+=2}else{const e=r[s=n[i+1]];n[i].call(e)}if(null!==r){for(let e=s+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Ae(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fe(t[3])){n!==t[3]&&Vr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function zr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===M.None||t===M.Emulated)return null}return De(r,n)}(e,t.parent,n)}function Hr(e,t,n,r,s){Ae(e)?e.insertBefore(t,n,r,s):t.insertBefore(n,r,s)}function Gr(e,t,n){Ae(e)?e.appendChild(t,n):t.appendChild(n)}function Yr(e,t,n,r,s){null!==r?Hr(e,t,n,r,s):Gr(e,t,n)}function Kr(e,t){return Ae(e)?e.parentNode(t):t.parentNode}function Wr(e,t,n){return Xr(e,t,n)}let Xr=function(e,t,n){return 40&e.type?De(e,n):null};function Qr(e,t,n,r){const s=zr(e,r,t),i=t[11],o=Wr(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let a=0;a<n.length;a++)Yr(i,s,n[a],o,!1);else Yr(i,s,n,o,!1)}function Zr(e,t){if(null!==t){const n=t.type;if(3&n)return De(t,e);if(4&n)return es(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Zr(e,n);{const n=e[t.index];return fe(n)?es(-1,n):Oe(n)}}if(32&n)return Rr(t,e)()||Oe(e[t.index]);{const n=Jr(e,t);return null!==n?Array.isArray(n)?n[0]:Zr(Pr(e[16]),n):Zr(e,t.next)}}return null}function Jr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function es(e,t){const n=he+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Zr(e,r)}return t[7]}function ts(e,t,n,r,s,i,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&Tr(Oe(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)ts(e,t,n.child,r,s,i,!1),Fr(t,e,s,a,i);else if(32&c){const o=Rr(n,r);let c;for(;c=o();)Fr(t,e,s,c,i);Fr(t,e,s,a,i)}else 16&c?rs(e,t,r,n,s,i):Fr(t,e,s,a,i);n=o?n.projectionNext:n.next}}function ns(e,t,n,r,s,i){ts(n,r,e.firstChild,t,s,i,!1)}function rs(e,t,n,r,s,i){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Fr(t,e,s,a[c],i);else ts(e,t,a,o[3],s,i,!0)}function ss(e,t,n){Ae(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function is(e,t,n){Ae(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function os(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const n=t.length;if(s+n===r||e.charCodeAt(s+n)<=32)return s}n=s+1}}const as="ng-template";function cs(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==os(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function ls(e){return 4===e.type&&e.value!==as}function us(e,t,n){return t===(4!==e.type||n?e.value:as)}function hs(e,t,n){let r=4;const s=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(xt(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!us(e,c,n)||""===c&&1===t.length){if(ds(r))return!1;o=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!cs(e.attrs,l,n)){if(ds(r))return!1;o=!0}continue}const u=fs(8&r?"class":c,s,ls(e),n);if(-1===u){if(ds(r))return!1;o=!0;continue}if(""!==l){let e;e=u>i?"":s[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==os(t,l,0)||2&r&&l!==e){if(ds(r))return!1;o=!0}}}}else{if(!o&&!ds(r)&&!ds(c))return!1;if(o&&ds(c))continue;o=!1,r=c|1&r}}return ds(r)||o}function ds(e){return 0==(1&e)}function fs(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let n=!1;for(;s<t.length;){const r=t[s];if(r===e)return s;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ps(e,t,n=!1){for(let r=0;r<t.length;r++)if(hs(e,t[r],n))return!0;return!1}function gs(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ms(e,t){return e?":not("+t.trim()+")":t}function ys(e){let t=e[0],n=1,r=2,s="",i=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""===s||ds(o)||(t+=ms(i,s),s=""),r=o,i=i||!ds(r);n++}return""!==s&&(t+=ms(i,s)),t}const vs={};function ws(e){bs(ze(),Be(),gt()+e,Qe())}function bs(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&_t(t,r,n)}else{const r=e.preOrderHooks;null!==r&&St(t,r,0,n)}mt(n)}function _s(e,t){return e<<17|t<<2}function Ss(e){return e>>17&32767}function Is(e){return 2|e}function Es(e){return(131068&e)>>2}function Ts(e,t){return-131069&e|t<<2}function Cs(e){return 1|e}function ks(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],i=n[r+1];if(-1!==i){const n=e.data[i];ot(s),n.contentQueries(2,t[i],i)}}}function As(e,t,n,r,s,i,o,a,c,l){const u=t.blueprint.slice();return u[0]=s,u[2]=140|r,Ue(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=i,u[16]=2==t.type?e[16]:u,u}function xs(e,t,n,r,s){let i=e.data[t];if(null===i)i=function(e,t,n,r,s){const i=Ye(),o=We(),a=e.data[t]=function(e,t,n,r,s,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=a),null!==i&&(o?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}(e,t,n,r,s),je.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const e=function(){const e=je.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===e?-1:e.injectorIndex}return Ke(i,!0),i}function Os(e,t,n,r){if(0===n)return-1;const s=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Ns(e,t,n){lt(t);try{const r=e.viewQuery;null!==r&&ai(1,r,n);const s=e.template;null!==s&&Ps(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ks(e,t),e.staticViewQueries&&ai(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)ni(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,pt()}}function Ds(e,t,n,r){const s=t[2];if(256==(256&s))return;lt(t);const i=Qe();try{Ue(t),je.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ps(e,t,n,2,r);const o=3==(3&s);if(!i)if(o){const n=e.preOrderCheckHooks;null!==n&&_t(t,n,null)}else{const n=e.preOrderHooks;null!==n&&St(t,n,0,null),It(t,0)}if(function(e){for(let t=$r(e);null!==t;t=Lr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ve(r,1),n[2]|=1024}}}(t),function(e){for(let t=$r(e);null!==t;t=Lr(t))for(let e=he;e<t.length;e++){const n=t[e],r=n[1];Me(n)&&Ds(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&ks(e,t),!i)if(o){const n=e.contentCheckHooks;null!==n&&_t(t,n)}else{const n=e.contentHooks;null!==n&&St(t,n,1),It(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)mt(~r);else{const s=r,i=n[++e],o=n[++e];rt(i,s),o(2,t[s])}}}finally{mt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)ei(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&ai(2,c,r),!i)if(o){const n=e.viewCheckHooks;null!==n&&_t(t,n)}else{const n=e.viewHooks;null!==n&&St(t,n,2),It(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ve(t[3],-1))}finally{pt()}}function Rs(e,t,n,r){const s=t[10],i=!Qe(),o=Le(t);try{i&&!o&&s.begin&&s.begin(),o&&Ns(e,t,r),Ds(e,t,n,r)}finally{i&&!o&&s.end&&s.end()}}function Ps(e,t,n,r,s){const i=gt(),o=2&r;try{mt(-1),o&&t.length>ue&&bs(e,t,ue,Qe()),n(r,s)}finally{mt(i)}}function $s(e,t,n){if(pe(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,n[s],s)}}}function Ls(e,t,n){qe()&&(function(e,t,n,r){const s=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Ut(n,t),Tr(r,t);const o=n.initialInputs;for(let a=s;a<i;a++){const r=e.data[a],i=ye(r);i&&Xs(t,n,r);const c=Qt(t,e,a,n);Tr(c,t),null!==o&&Qs(0,a-s,c,r,0,o),i&&($e(n.index,t)[8]=c)}}(e,t,n,De(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,o=je.lFrame.currentDirectiveIndex;try{mt(i);for(let n=r;n<s;n++){const r=e.data[n],s=t[n];st(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Hs(r,s)}}finally{mt(-1),st(o)}}(e,t,n))}function Ms(e,t,n=De){const r=t.localNames;if(null!==r){let s=t.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?n(t,e):e[o];e[s++]=a}}}function Fs(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Us(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Us(e,t,n,r,s,i,o,a,c,l){const u=ue+r,h=u+s,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:vs);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Vs(e,t,n,r){const s=li(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&ui(e).push(r,s.length-1))}function js(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function qs(e,t,n,r,s,i,o,a){const c=De(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[r])?(di(e,n,l,r,s),ge(t)&&function(e,t){const n=$e(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=o?o(s,t.value||"",r):s,Ae(i)?i.setProperty(c,r,s):Ot(r)||(c.setProperty?c.setProperty(r,s):c[r]=s))}function Bs(e,t,n,r){let s=!1;if(qe()){const i=function(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let i=0;i<r.length;i++){const o=r[i];ps(n,o.selectors,!1)&&(s||(s=[]),Bt(Ut(n,t),e,o.type),ye(o)?(Gs(e,n),s.unshift(o)):s.push(o))}return s}(e,t,n),o=null===r?null:{"":-1};if(null!==i){s=!0,Ks(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=Os(e,t,i.length,null);for(let s=0;s<i.length;s++){const l=i[s];n.mergedAttrs=Nt(n.mergedAttrs,l.hostAttrs),Ws(e,n,t,c,l),Ys(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,s=t.attrs,i=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,l=null===s||ls(t)?null:Zs(n,s);i.push(l),o=js(n,c,o),a=js(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=i,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=n[t[e+1]];if(null==s)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],s)}}}(n,r,o)}return n.mergedAttrs=Nt(n.mergedAttrs,n.attrs),s}function zs(e,t,n,r,s,i){const o=i.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,s,o)}}function Hs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ys(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Ks(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ws(e,t,n,r,s){e.data[r]=s;const i=s.factory||(s.factory=ve(s.type)),o=new kt(i,ye(s),null);e.blueprint[r]=o,n[r]=o,zs(e,t,0,r,Os(e,n,s.hostVars,vs),s)}function Xs(e,t,n){const r=De(t,e),s=Fs(n),i=e[10],o=ri(e,As(e,s,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=o}function Qs(e,t,n,r,s,i){const o=i[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const s=o[t++],i=o[t++],a=o[t++];null!==e?r.setInput(n,a,s,i):n[i]=a}}}function Zs(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Js(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function ei(e,t){const n=$e(t,e);if(Me(n)){const e=n[1];80&n[2]?Ds(e,n,e.template,n[8]):n[5]>0&&ti(n)}}function ti(e){for(let n=$r(e);null!==n;n=Lr(n))for(let e=he;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ds(e,t,e.template,t[8])}else t[5]>0&&ti(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=$e(t[n],e);Me(r)&&r[5]>0&&ti(r)}}function ni(e,t){const n=$e(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ns(r,n,n[8])}function ri(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function si(e){for(;e;){e[2]|=64;const t=Pr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ii(e,t,n){const r=t[10];r.begin&&r.begin();try{Ds(e,t,e.template,n)}catch(s){throw hi(t,s),s}finally{r.end&&r.end()}}function oi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Cr(n),s=r[1];Rs(s,r,s.template,n)}}(e[8])}function ai(e,t,n){ot(0),t(e,n)}const ci=(()=>Promise.resolve(null))();function li(e){return e[7]||(e[7]=[])}function ui(e){return e.cleanup||(e.cleanup=[])}function hi(e,t){const n=e[9],r=n?n.get(xr,null):null;r&&r.handleError(t)}function di(e,t,n,r,s){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,s,r,a):c[a]=s}}function fi(e,t,n){const r=Ne(t,e);!function(e,t,n){Ae(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function pi(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,i=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?i=e:1==i?s=f(s,e):2==i&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}const gi=new hn("INJECTOR",-1);class mi{get(e,t=Tn){if(t===Tn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const yi=new hn("Set Injector scope."),vi={},wi={};let bi;function _i(){return void 0===bi&&(bi=new mi),bi}function Si(e,t=null,n=null,r){return new Ii(e,n,t||_i(),r)}class Ii{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&vn(t,n=>this.processProvider(n,e,t)),vn([e],e=>this.processInjectorType(e,[],s)),this.records.set(gi,Ci(void 0,this));const i=this.records.get(yi);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Tn,n=N.Default){this.assertNotDestroyed();const r=On(this),s=R(void 0);try{if(!(n&N.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof hn)&&E(e);t=n&&this.injectableDefInScope(n)?Ci(Ei(e),vi):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&N.Self?_i():this.parent).get(e,t=n&N.Optional&&t===Tn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(e)),r)throw o;return function(e,t,n,r){const s=e.ngTempTokenPath;throw t[kn]&&s.unshift(t[kn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=d(t);if(Array.isArray(t))s=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}s=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(Cn,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{R(s),On(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=C(e);const s=null==r&&e.ngModule||void 0,i=void 0===s?e:s,o=-1!==n.indexOf(i);if(void 0!==s&&(r=C(s)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(i);try{vn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];vn(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(i);const a=ve(i)||(()=>new i);this.records.set(i,Ci(a,vi));const c=r.providers;if(null!=c&&!o){const t=e;vn(c,e=>this.processProvider(e,t,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let r=Ai(e=m(e))?e:m(e&&e.provide);const s=function(e,t,n){return ki(e)?Ci(void 0,e.useValue):Ci(Ti(e),vi)}(e);if(Ai(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Ci(void 0,vi,!0),t.factory=()=>Rn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,s)}hydrate(e,t){var n;return t.value===vi&&(t.value=wi,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ei(e){const t=E(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof hn)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=_n(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[k]||e[x]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ti(e,t,n){let r;if(Ai(e)){const t=m(e);return ve(t)||Ei(t)}if(ki(e))r=()=>m(e.useValue);else if((s=e)&&s.useFactory)r=()=>e.useFactory(...Rn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Dn(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(t)||Ei(t);r=()=>new t(...Rn(e.deps))}var s;return r}function Ci(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ki(e){return null!==e&&"object"==typeof e&&An in e}function Ai(e){return"function"==typeof e}const xi=function(e,t,n){return function(e,t=null,n=null,r){const s=Si(e,t,n,r);return s._resolveInjectorDefTypes(),s}({name:n},t,e,n)};class Oi{static create(e,t){return Array.isArray(e)?xi(e,t,""):xi(e.providers,e.parent,e.name||"")}}function Ni(e,t){bt(Cr(e)[1],Ge())}function Di(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let s;if(ye(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(n){r.push(s);const t=e;t.inputs=Ri(e.inputs),t.declaredInputs=Ri(e.declaredInputs),t.outputs=Ri(e.outputs);const n=s.hostBindings;n&&Li(e,n);const i=s.viewQuery,o=s.contentQueries;if(i&&Pi(e,i),o&&$i(e,o),h(e.inputs,s.inputs),h(e.declaredInputs,s.declaredInputs),h(e.outputs,s.outputs),ye(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}}const t=s.features;if(t)for(let r=0;r<t.length;r++){const s=t[r];s&&s.ngInherit&&s(e),s===Di&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Nt(s.hostAttrs,n=Nt(n,s.hostAttrs))}}(r)}function Ri(e){return e===B?{}:e===z?[]:e}function Pi(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function $i(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,s)=>{t(e,r,s),n(e,r,s)}:t}function Li(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}Oi.THROW_IF_NOT_FOUND=Tn,Oi.NULL=new mi,Oi.\u0275prov=S({token:Oi,providedIn:"any",factory:()=>Dn(gi)}),Oi.__NG_ELEMENT_ID__=-1;let Mi=null;function Fi(){if(!Mi){const e=q.Symbol;if(e&&e.iterator)Mi=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Mi=n)}}}return Mi}class Ui{constructor(e){this.wrapped=e}static wrap(e){return new Ui(e)}static unwrap(e){return Ui.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Ui}}function Vi(e){return!!ji(e)&&(Array.isArray(e)||!(e instanceof Map)&&Fi()in e)}function ji(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function qi(e,t,n){return e[t]=n}function Bi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function zi(e,t,n,r){const s=Bi(e,t,n);return Bi(e,t+1,r)||s}function Hi(e,t,n,r){const s=Be();return Bi(s,tt(),t)&&(ze(),function(e,t,n,r,s,i){const o=De(e,t);!function(e,t,n,r,s,i,o){if(null==i)Ae(e)?e.removeAttribute(t,s,n):t.removeAttribute(s);else{const a=null==o?w(i):o(i,r||"",s);Ae(e)?e.setAttribute(t,s,a,n):n?t.setAttributeNS(n,s,a):t.setAttribute(s,a)}}(t[11],o,i,e.value,n,r,s)}(yt(),s,e,t,n,r)),Hi}function Gi(e,t,n,r){return Bi(e,tt(),n)?t+w(n)+r:vs}function Yi(e,t,n,r,s,i){const o=zi(e,et(),n,s);return nt(2),o?t+w(n)+r+w(s)+i:vs}function Ki(e,t,n,r,s,i,o,a){const c=Be(),l=ze(),u=e+ue,h=l.firstCreatePass?function(e,t,n,r,s,i,o,a,c){const l=t.consts,u=xs(t,e,4,o||null,Fe(l,a));Bs(t,n,u,Fe(l,c)),bt(t,u);const h=u.tViews=Us(2,u,r,s,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,s,i,o):l.data[u];Ke(h,!1);const d=c[11].createComment("");Qr(l,c,d,h),Tr(d,c),ri(c,c[u]=Js(d,c,d,h)),me(h)&&Ls(l,c,h),null!=o&&Ms(c,h,a)}function Wi(e){return Pe(je.lFrame.contextLView,ue+e)}function Xi(e,t=N.Default){const n=Be();return null===n?Dn(e,t):Gt(Ge(),n,m(e),t)}function Qi(){throw new Error("invalid")}function Zi(e,t,n){const r=Be();return Bi(r,tt(),t)&&qs(ze(),yt(),r,e,t,r[11],n,!1),Zi}function Ji(e,t,n,r,s){const i=s?"class":"style";di(e,n,t.inputs[i],i,r)}function eo(e,t,n,r){const s=Be(),i=ze(),o=ue+e,a=s[11],c=s[o]=Ur(a,t,je.lFrame.currentNamespace),l=i.firstCreatePass?function(e,t,n,r,s,i,o){const a=t.consts,c=xs(t,e,2,s,Fe(a,i));return Bs(t,n,c,Fe(a,o)),null!==c.attrs&&pi(c,c.attrs,!1),null!==c.mergedAttrs&&pi(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,i,s,0,t,n,r):i.data[o];Ke(l,!0);const u=l.mergedAttrs;null!==u&&At(a,c,u);const h=l.classes;null!==h&&is(a,c,h);const d=l.styles;null!==d&&ss(a,c,d),64!=(64&l.flags)&&Qr(i,s,c,l),0===je.lFrame.elementDepthCount&&Tr(c,s),je.lFrame.elementDepthCount++,me(l)&&(Ls(i,s,l),$s(i,l,s)),null!==r&&Ms(s,l)}function to(){let e=Ge();We()?Xe():(e=e.parent,Ke(e,!1));const t=e;je.lFrame.elementDepthCount--;const n=ze();n.firstCreatePass&&(bt(n,e),pe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ji(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ji(n,t,Be(),t.stylesWithoutHost,!1)}function no(e,t,n,r){eo(e,t,n,r),to()}function ro(e,t,n){const r=Be(),s=ze(),i=e+ue,o=s.firstCreatePass?function(e,t,n,r,s){const i=t.consts,o=Fe(i,r),a=xs(t,e,8,"ng-container",o);return null!==o&&pi(a,o,!0),Bs(t,n,a,Fe(i,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,s,r,t,n):s.data[i];Ke(o,!0);const a=r[i]=r[11].createComment("");Qr(s,r,a,o),Tr(a,r),me(o)&&(Ls(s,r,o),$s(s,o,r)),null!=n&&Ms(r,o)}function so(){let e=Ge();const t=ze();We()?Xe():(e=e.parent,Ke(e,!1)),t.firstCreatePass&&(bt(t,e),pe(e)&&t.queries.elementEnd(e))}function io(){return Be()}function oo(e){return!!e&&"function"==typeof e.then}function ao(e){return!!e&&"function"==typeof e.subscribe}const co=ao;function lo(e,t,n,r){const s=Be(),i=ze(),o=Ge();return function(e,t,n,r,s,i,o,a){const c=me(r),l=e.firstCreatePass&&ui(e),u=li(t);let h=!0;if(3&r.type||a){const d=De(r,t),f=a?a(d):d,p=u.length,g=a?e=>a(Oe(e[r.index])):r.index;if(Ae(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const s=e.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const e=s[i];if(e===n&&s[i+1]===r){const e=t[7],n=s[i+2];return e.length>n?e[n]:null}"string"==typeof e&&(i+=2)}return null}(e,t,s,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=i,o.__ngLastListenerFn__=i,h=!1;else{i=ho(r,t,0,i,!1);const e=n.listen(f,s,i);u.push(i,e),l&&l.push(s,g,p,p+1)}}else i=ho(r,t,0,i,!0),f.addEventListener(s,i,o),u.push(i),l&&l.push(s,g,p,o)}else i=ho(r,t,0,i,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[s])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(i),o=u.length;u.push(i,e),l&&l.push(s,r.index,o,-(o+1))}}}(i,s,s[11],o,e,t,!!n,r),lo}function uo(e,t,n,r){try{return!1!==n(r)}catch(s){return hi(e,s),!1}}function ho(e,t,n,r,s){return function n(i){if(i===Function)return r;const o=2&e.flags?$e(e.index,t):t;0==(32&t[2])&&si(o);let a=uo(t,0,r,i),c=n.__ngNextListenerFn__;for(;c;)a=uo(t,0,c,i)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function fo(e=1){return function(e){return(je.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,je.lFrame.contextLView))[8]}(e)}function po(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const i=t[s];if("*"!==i){if(null===r?ps(e,i,!0):gs(r,i))return s}else n=s}return n}function go(e){const t=Be()[16][6];if(!t.projection){const n=t.projection=_n(e?e.length:1,null),r=n.slice();let s=t.child;for(;null!==s;){const t=e?po(s,e):0;null!==t&&(r[t]?r[t].projectionNext=s:n[t]=s,r[t]=s),s=s.next}}}function mo(e,t=0,n){const r=Be(),s=ze(),i=xs(s,ue+e,16,null,n||null);null===i.projection&&(i.projection=t),Xe(),64!=(64&i.flags)&&function(e,t,n){rs(t[11],0,t,n,zr(e,n,t),Wr(n.parent||t[6],n,t))}(s,r,i)}function yo(e,t,n){return vo(e,"",t,"",n),yo}function vo(e,t,n,r,s){const i=Be(),o=Gi(i,t,n,r);return o!==vs&&qs(ze(),yt(),i,e,o,i[11],s,!1),vo}function wo(e,t,n,r,s,i,o){const a=Be(),c=Yi(a,t,n,r,s,i);return c!==vs&&qs(ze(),yt(),a,e,c,a[11],o,!1),wo}function bo(e,t,n,r,s,i,o,a,c){const l=Be(),u=function(e,t,n,r,s,i,o,a){const c=function(e,t,n,r,s){const i=zi(e,t,n,r);return Bi(e,t+2,s)||i}(e,et(),n,s,o);return nt(3),c?t+w(n)+r+w(s)+i+w(o)+a:vs}(l,t,n,r,s,i,o,a);return u!==vs&&qs(ze(),yt(),l,e,u,l[11],c,!1),bo}function _o(e,t,n,r,s){const i=e[n+1],o=null===t;let a=r?Ss(i):Es(i),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];So(e[a],t)&&(c=!0,e[a+1]=r?Cs(n):Is(n)),a=r?Ss(n):Es(n)}c&&(e[n+1]=r?Is(i):Cs(i))}function So(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&En(e,t)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Eo(e){return e.substring(Io.key,Io.keyEnd)}function To(e){return e.substring(Io.value,Io.valueEnd)}function Co(e,t){const n=Io.textEnd;return n===t?-1:(t=Io.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Io.key=t,n),xo(e,t,n))}function ko(e,t){const n=Io.textEnd;let r=Io.key=xo(e,t,n);return n===r?-1:(r=Io.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Oo(e,r,n),r=Io.value=xo(e,r,n),r=Io.valueEnd=function(e,t,n){let r=-1,s=-1,i=-1,o=t,a=o;for(;o<n;){const c=e.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=No(e,c,o,n):t===o-4&&85===i&&82===s&&76===r&&40===c?a=o=No(e,41,o,n):c>32&&(a=o),i=s,s=r,r=-33&c}return a}(e,r,n),Oo(e,r,n))}function Ao(e){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=e.length}function xo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Oo(e,t,n,r){return(t=xo(e,t,n))<n&&t++,t}function No(e,t,n,r){let s=-1,i=n;for(;i<r;){const n=e.charCodeAt(i++);if(n==t&&92!==s)return i;s=92==n&&92===s?0:n}throw new Error}function Do(e,t){return function(e,t,n,r){const s=Be(),i=ze(),o=nt(2);i.firstUpdatePass&&Uo(i,e,o,true),t!==vs&&Bi(s,o,t)&&Bo(i,i.data[gt()],s,s[11],e,s[o+1]=function(e,t){return null==e||"object"==typeof e&&(e=d(Gn(e))),e}(t),true,o)}(e,t),Do}function Ro(e){Mo(qo,Po,e,!1)}function Po(e,t){for(let n=function(e){return Ao(e),ko(e,xo(e,0,Io.textEnd))}(t);n>=0;n=ko(t,n))qo(e,Eo(t),To(t))}function $o(e){Mo(Sn,Lo,e,!0)}function Lo(e,t){for(let n=function(e){return Ao(e),Co(e,xo(e,0,Io.textEnd))}(t);n>=0;n=Co(t,n))Sn(e,Eo(t),!0)}function Mo(e,t,n,r){const s=ze(),i=nt(2);s.firstUpdatePass&&Uo(s,null,i,r);const o=Be();if(n!==vs&&Bi(o,i,n)){const a=s.data[gt()];if(Go(a,r)&&!Fo(s,i)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=f(e,n||"")),Ji(s,a,o,n,r)}else!function(e,t,n,r,s,i,o,a){s===vs&&(s=z);let c=0,l=0,u=0<s.length?s[0]:null,h=0<i.length?i[0]:null;for(;null!==u||null!==h;){const d=c<s.length?s[c+1]:void 0,f=l<i.length?i[l+1]:void 0;let p,g=null;u===h?(c+=2,l+=2,d!==f&&(g=h,p=f)):null===h||null!==u&&u<h?(c+=2,g=u):(l+=2,g=h,p=f),null!==g&&Bo(e,t,n,r,g,p,o,a),u=c<s.length?s[c]:null,h=l<i.length?i[l]:null}}(s,a,o,o[11],o[i+1],o[i+1]=function(e,t,n){if(null==n||""===n)return z;const r=[],s=Gn(n);if(Array.isArray(s))for(let i=0;i<s.length;i++)e(r,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&e(r,i,s[i]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,i)}}function Fo(e,t){return t>=e.expandoStartIndex}function Uo(e,t,n,r){const s=e.data;if(null===s[n+1]){const i=s[gt()],o=Fo(e,n);Go(i,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const s=function(e){const t=je.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=jo(n=Vo(null,e,t,n,r),t.attrs,r),i=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(n=Vo(s,e,t,n,r),null===i){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Es(r))return e[Ss(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Vo(null,e,t,n[1],r),n=jo(n,t.attrs,r),function(e,t,n,r){e[Ss(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else i=function(e,t,n){let r;const s=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<s;i++)r=jo(r,e[i].hostAttrs,n);return jo(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(s,i,t,r),function(e,t,n,r,s,i){let o=i?t.classBindings:t.styleBindings,a=Ss(o),c=Es(o);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||En(e,l)>0)&&(u=!0)}else l=n;if(s)if(0!==c){const t=Ss(e[a+1]);e[r+1]=_s(t,a),0!==t&&(e[t+1]=Ts(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=_s(a,0),0!==a&&(e[a+1]=Ts(e[a+1],r)),a=r;else e[r+1]=_s(c,0),0===a?a=r:e[c+1]=Ts(e[c+1],r),c=r;u&&(e[r+1]=Is(e[r+1])),_o(e,l,r,!0),_o(e,l,r,!1),function(e,t,n,r,s){const i=s?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&En(i,t)>=0&&(n[r+1]=Cs(n[r+1]))}(t,l,e,r,i),o=_s(a,c),i?t.classBindings=o:t.styleBindings=o}(s,i,t,n,o,r)}}function Vo(e,t,n,r,s){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=t[a],r=jo(r,i.hostAttrs,s),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function jo(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?s=o:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Sn(e,o,!!n||t[++i]))}return void 0===e?null:e}function qo(e,t,n){Sn(e,t,Gn(n))}function Bo(e,t,n,r,s,i,o,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];Ho(1==(1&l)?zo(c,t,n,s,Es(l),o):void 0)||(Ho(i)||2==(2&l)&&(i=zo(c,null,n,s,a,o)),function(e,t,n,r,s){const i=Ae(e);if(t)s?i?e.addClass(n,r):n.classList.add(r):i?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==s)i?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),t|=Dr.Important),i?e.setStyle(n,r,s,t):n.style.setProperty(r,s,o?"important":"")}}}(r,o,Ne(gt(),n),s,i))}function zo(e,t,n,r,s,i){const o=null===t;let a;for(;s>0;){const t=e[s],i=Array.isArray(t),c=i?t[1]:t,l=null===c;let u=n[s+1];u===vs&&(u=l?z:void 0);let h=l?In(u,r):c===r?u:void 0;if(i&&!Ho(h)&&(h=In(t,r)),Ho(h)&&(a=h,o))return a;const d=e[s+1];s=o?Ss(d):Es(d)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=In(e,r))}return a}function Ho(e){return void 0!==e}function Go(e,t){return 0!=(e.flags&(t?16:32))}function Yo(e,t=""){const n=Be(),r=ze(),s=e+ue,i=r.firstCreatePass?xs(r,s,1,t,null):r.data[s],o=n[s]=function(e,t){return Ae(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Qr(r,n,o,i),Ke(i,!1)}function Ko(e){return Wo("",e,""),Ko}function Wo(e,t,n){const r=Be(),s=Gi(r,e,t,n);return s!==vs&&fi(r,gt(),s),Wo}function Xo(e,t,n,r,s){const i=Be(),o=Yi(i,e,t,n,r,s);return o!==vs&&fi(i,gt(),o),Xo}function Qo(e,t,n){Mo(Sn,Lo,Gi(Be(),e,t,n),!0)}function Zo(e,t,n,r,s){Mo(Sn,Lo,Yi(Be(),e,t,n,r,s),!0)}function Jo(e,t,n){const r=Be();return Bi(r,tt(),t)&&qs(ze(),yt(),r,e,t,r[11],n,!0),Jo}const ea=void 0;var ta=["en",[["a","p"],["AM","PM"],ea],[["AM","PM"],ea,ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ea,"{1} 'at' {0}",ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let na={};function ra(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ia(t);if(n)return n;const r=t.split("-")[0];if(n=ia(r),n)return n;if("en"===r)return ta;throw new Error(`Missing locale data for the locale "${e}".`)}function sa(e){return ra(e)[oa.PluralCase]}function ia(e){return e in na||(na[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),na[e]}var oa=(()=>((oa=oa||{})[oa.LocaleId=0]="LocaleId",oa[oa.DayPeriodsFormat=1]="DayPeriodsFormat",oa[oa.DayPeriodsStandalone=2]="DayPeriodsStandalone",oa[oa.DaysFormat=3]="DaysFormat",oa[oa.DaysStandalone=4]="DaysStandalone",oa[oa.MonthsFormat=5]="MonthsFormat",oa[oa.MonthsStandalone=6]="MonthsStandalone",oa[oa.Eras=7]="Eras",oa[oa.FirstDayOfWeek=8]="FirstDayOfWeek",oa[oa.WeekendRange=9]="WeekendRange",oa[oa.DateFormat=10]="DateFormat",oa[oa.TimeFormat=11]="TimeFormat",oa[oa.DateTimeFormat=12]="DateTimeFormat",oa[oa.NumberSymbols=13]="NumberSymbols",oa[oa.NumberFormats=14]="NumberFormats",oa[oa.CurrencyCode=15]="CurrencyCode",oa[oa.CurrencySymbol=16]="CurrencySymbol",oa[oa.CurrencyName=17]="CurrencyName",oa[oa.Currencies=18]="Currencies",oa[oa.Directionality=19]="Directionality",oa[oa.PluralCase=20]="PluralCase",oa[oa.ExtraData=21]="ExtraData",oa))();const aa="en-US";let ca=aa;function la(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(ca=e.toLowerCase().replace(/_/g,"-"))}function ua(e,t,n,r,s){if(e=m(e),Array.isArray(e))for(let i=0;i<e.length;i++)ua(e[i],t,n,r,s);else{const i=ze(),o=Be();let a=Ai(e)?e:m(e.provide),c=Ti(e);const l=Ge(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Ai(e)||!e.multi){const r=new kt(c,s,Xi),f=fa(a,t,s?u:u+d,h);-1===f?(Bt(Ut(l,o),i,a),ha(i,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=fa(a,t,u+d,h),p=fa(a,t,u,u+d),g=f>=0&&n[f],m=p>=0&&n[p];if(s&&!m||!s&&!g){Bt(Ut(l,o),i,a);const u=function(e,t,n,r,s){const i=new kt(e,n,Xi);return i.multi=[],i.index=t,i.componentProviders=0,da(i,s,r&&!n),i}(s?ga:pa,n.length,s,r,c);!s&&m&&(n[p].providerFactory=u),ha(i,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else ha(i,e,f>-1?f:p,da(n[s?p:f],c,!s&&r));!s&&r&&m&&n[p].componentProviders++}}}function ha(e,t,n,r){const s=Ai(t);if(s||t.useClass){const i=(t.useClass||t).prototype.ngOnDestroy;if(i){const o=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,i]):o[e+1].push(r,i)}else o.push(n,i)}}}function da(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function fa(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function pa(e,t,n,r){return ma(this.multi,[])}function ga(e,t,n,r){const s=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Qt(n,n[1],this.providerFactory.index,r);i=t.slice(0,e),ma(s,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],ma(s,i);return i}function ma(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ya(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=ze();if(r.firstCreatePass){const s=ye(e);ua(n,r.data,r.blueprint,s,!0),ua(t,r.data,r.blueprint,s,!1)}}(n,r?r(e):e,t)}}class va{}class wa{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class ba{}function _a(...e){}function Sa(e,t){return new Ea(De(e,t))}ba.NULL=new wa;const Ia=function(){return Sa(Ge(),Be())};let Ea=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Ia,e})();function Ta(e){return e instanceof Ea?e.nativeElement:e}class Ca{}let ka=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Aa(),e})();const Aa=function(){const e=Be(),t=$e(Ge().index,e);return function(e){return e[11]}(de(t)?t:e)};let xa=(()=>{class e{}return e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null}),e})();class Oa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Na=new Oa("12.1.5");class Da{constructor(){}supports(e){return Vi(e)}create(e){return new Pa(e)}}const Ra=(e,t)=>t;class Pa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ra}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const i=!n||t&&t.currentIndex<Fa(n,r,s)?t:n,o=Fa(i,r,s),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{s||(s=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<s.length?s[n]:s[n]=0,i=r+n;t<=i&&i<e&&(s[n]=r+1)}s[i.previousIndex]=t-e}}o!==a&&e(i,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Vi(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,s=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,n,r,t)),Object.is(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,t),i=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Fi()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,e,r,t)),Object.is(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,r,t),i=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new $a(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ma),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ma),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $a{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class La{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ma{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new La,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fa(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Ua{constructor(){}supports(e){return e instanceof Map||ji(e)}create(){return new Va}}class Va{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ji(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,s=n._next;return r&&(r._next=s),s&&(s._prev=r),n._next=null,n._prev=null,n}const n=new ja(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ja{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qa(){return new Ba([new Da])}let Ba=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||qa()),deps:[[e,new Mn,new Ln]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=S({token:e,providedIn:"root",factory:qa}),e})();function za(){return new Ha([new Ua])}let Ha=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||za()),deps:[[e,new Mn,new Ln]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=S({token:e,providedIn:"root",factory:za}),e})();function Ga(e,t,n,r,s=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(Oe(i)),fe(i))for(let e=he;e<i.length;e++){const t=i[e],n=t[1].firstChild;null!==n&&Ga(t[1],t,n,r)}const o=n.type;if(8&o)Ga(e,t,n.child,r);else if(32&o){const e=Rr(n,t);let s;for(;s=e();)r.push(s)}else if(16&o){const e=Jr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Pr(t[16]);Ga(n[1],n,e,r,!0)}}n=s?n.projectionNext:n.next}return r}class Ya{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ga(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(jr(e,n),bn(t,n))}this._attachedToViewContainer=!1}qr(this._lView[1],this._lView)}onDestroy(e){Vs(this._lView[1],this._lView,null,e)}markForCheck(){si(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ii(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ze(!0);try{ii(e,t,n)}finally{Ze(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ns(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Ka extends Ya{constructor(e){super(e),this._view=e}detectChanges(){oi(this._view)}checkNoChanges(){!function(e){Ze(!0);try{oi(e)}finally{Ze(!1)}}(this._view)}get context(){return null}}const Wa=function(e){return function(e,t,n){if(ge(e)&&!n){const n=$e(e.index,t);return new Ya(n,n)}return 47&e.type?new Ya(t[16],t):null}(Ge(),Be(),16==(16&e))};let Xa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Wa,e})();const Qa=[new Ua],Za=new Ba([new Da]),Ja=new Ha(Qa),ec=function(){return sc(Ge(),Be())};let tc=(()=>{class e{}return e.__NG_ELEMENT_ID__=ec,e})();const nc=tc,rc=class extends nc{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=As(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ns(t,n,e),new Ya(n)}};function sc(e,t){return 4&e.type?new rc(t,e,Sa(e,t)):null}class ic{}class oc{}const ac=function(){return fc(Ge(),Be())};let cc=(()=>{class e{}return e.__NG_ELEMENT_ID__=ac,e})();const lc=cc,uc=class extends lc{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Sa(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const e=qt(this._hostTNode,this._hostLView);if(Rt(e)){const t=$t(e,this._hostLView),n=Pt(e);return new en(t[1].data[n+8],t)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=hc(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-he}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const i=n||this.parentInjector;if(!s&&null==e.ngModule&&i){const e=i.get(ic,null);e&&(s=e)}const o=e.create(i,r,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(fe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new uc(t,t[6],t[3]);r.detach(r.indexOf(e))}}const s=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,r){const s=he+r,i=n.length;r>0&&(n[s-1][4]=t),r<i-he?(t[4]=n[s],wn(n,he+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,i,s);const o=es(s,i),a=n[11],c=Kr(a,i[7]);return null!==c&&function(e,t,n,r,s,i){r[0]=s,r[6]=t,ns(e,r,n,1,s,i)}(r,i[6],a,n,c,o),e.attachToViewContainerRef(),wn(dc(i),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=hc(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=jr(this._lContainer,t);n&&(bn(dc(this._lContainer),t),qr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=jr(this._lContainer,t);return n&&null!=bn(dc(this._lContainer),t)?new Ya(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function hc(e){return e[8]}function dc(e){return e[8]||(e[8]=[])}function fc(e,t){let n;const r=t[e.index];if(fe(r))n=r;else{let s;if(8&e.type)s=Oe(r);else{const n=t[11];s=n.createComment("");const r=De(e,t);Hr(n,Kr(n,r),s,function(e,t){return Ae(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Js(r,t,s,e),ri(t,n)}return new uc(n,e,t)}const pc={};class gc extends ba{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new vc(t,this.ngModule)}}function mc(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const yc=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class vc extends va{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ys).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return mc(this.componentDef.inputs)}get outputs(){return mc(this.componentDef.outputs)}create(e,t,n,r){const s=(r=r||this.ngModule)?function(e,t){return{get:(n,r,s)=>{const i=e.get(n,pc,s);return i!==pc||r===pc?i:t.get(n,r,s)}}}(e,r.injector):e,i=s.get(Ca,xe),o=s.get(xa,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(Ae(e))return e.selectRootElement(t,n===M.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(i.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?Te:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:ci,playerHandler:null,flags:0},d=Us(0,null,null,1,0,null,null,null,null,null),f=As(null,d,h,u,null,null,i,a,o,s);let p,g;lt(f);try{const e=function(e,t,n,r,s,i){const o=n[1];n[20]=e;const a=xs(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(pi(a,c,!0),null!==e&&(At(s,e,c),null!==a.classes&&is(s,e,a.classes),null!==a.styles&&ss(s,e,a.styles)));const l=r.createRenderer(e,t),u=As(n,Fs(t),null,t.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Bt(Ut(a,n),o,t.type),Gs(o,a),Ks(a,n.length,1)),ri(n,u),n[20]=u}(l,this.componentDef,f,i,a);if(l)if(n)At(a,l,["ng-version",Na.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===s?""!==i&&t.push(i,e[++r]):8===s&&n.push(i);else{if(!ds(s))break;s=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&At(a,l,e),t&&t.length>0&&is(a,l,t.join(" "))}if(g=Re(d,ue),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,s){const i=n[1],o=function(e,t,n){const r=Ge();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ws(e,r,t,Os(e,t,1,null),n));const s=Qt(t,e,r.directiveStart,r);Tr(s,t);const i=De(r,t);return i&&Tr(i,t),s}(i,n,t);if(r.components.push(o),e[8]=o,s&&s.forEach(e=>e(o,t)),t.contentQueries){const e=Ge();t.contentQueries(1,o,e.directiveStart)}const a=Ge();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(mt(a.index),zs(n[1],a,0,a.directiveStart,a.directiveEnd,t),Hs(t,o)),o}(e,this.componentDef,f,h,[Ni]),Ns(d,f,null)}finally{pt()}return new wc(this.componentType,p,Sa(g,f),f,g)}}class wc extends class{}{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new Ka(r),this.componentType=e}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const bc=new Map;class _c extends ic{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gc(this);const n=le(e),r=e[W]||null;r&&la(r),this._bootstrapComponents=Nr(n.bootstrap),this._r3Injector=Si(e,t,[{provide:ic,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Oi.THROW_IF_NOT_FOUND,n=N.Default){return e===Oi||e===ic||e===gi?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Sc extends oc{constructor(e){super(),this.moduleType=e,null!==le(e)&&function(e){const t=new Set;!function e(n){const r=le(n,!0),s=r.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(s,bc.get(s),n),bc.set(s,n));const i=Nr(r.imports);for(const o of i)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new _c(this.moduleType,e)}}function Ic(e,t,n,r){return Tc(Be(),Je(),e,t,n,r)}function Ec(e,t){const n=e[t];return n===vs?void 0:n}function Tc(e,t,n,r,s,i){const o=t+n;return Bi(e,o,s)?qi(e,o+1,i?r.call(i,s):r(s)):Ec(e,o+1)}function Cc(e,t){const n=ze();let r;const s=e+ue;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=ve(r.type)),o=R(Xi);try{const e=Mt(!1),t=i();return Mt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Be(),s,t),t}finally{R(o)}}function kc(e,t,n){const r=e+ue,s=Be(),i=Pe(s,r);return Oc(s,xc(s,r)?Tc(s,Je(),t,i.transform,n,i):i.transform(n))}function Ac(e,t,n,r){const s=e+ue,i=Be(),o=Pe(i,s);return Oc(i,xc(i,s)?function(e,t,n,r,s,i,o){const a=t+n;return zi(e,a,s,i)?qi(e,a+2,o?r.call(o,s,i):r(s,i)):Ec(e,a+2)}(i,Je(),t,o.transform,n,r,o):o.transform(n,r))}function xc(e,t){return e[1].data[t].pure}function Oc(e,t){return Ui.isWrapped(t)&&(t=Ui.unwrap(t),e[et()]=vs),t}function Nc(e){return t=>{setTimeout(e,void 0,t)}}const Dc=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,i,o;let a=e,c=t||(()=>null),l=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(i=t.error)||void 0===i?void 0:i.bind(t),l=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=Nc(c),a&&(a=Nc(a)),l&&(l=Nc(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof s.w&&e.add(u),u}};function Rc(){return this._results[Fi()]()}class Pc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Fi(),n=Pc.prototype;n[t]||(n[t]=Rc)}get changes(){return this._changes||(this._changes=new Dc)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=yn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=t[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class $c{constructor(e){this.queryList=e,this.matches=null}clone(){return new $c(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Lc(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Xc(e,t).matches&&this.queries[t].setDirty()}}class Mc{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Fc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new Fc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Uc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Uc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,Vc(t,s)),this.matchTNodeWithReadOption(e,t,Xt(t,e,s,!1,!1))}else n===tc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ea||r===cc||r===tc&&4&t.type)this.addMatch(t.index,-2);else{const n=Xt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Vc(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function jc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Sa(e,t):4&e.type?sc(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ea?Sa(t,e):n===tc?sc(t,e):n===cc?fc(t,e):void 0}(e,t,r):Qt(e,e[1],n,t)}function qc(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const r=e.data,i=n.matches,o=[];for(let e=0;e<i.length;e+=2){const s=i[e];o.push(s<0?null:jc(t,r[s],i[e+1],n.metadata.read))}s.matches=o}return s.matches}function Bc(e,t,n,r){const s=e.queries.getByIndex(n),i=s.matches;if(null!==i){const o=qc(e,t,s,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)r.push(o[e/2]);else{const s=i[e+1],o=t[-n];for(let e=he;e<o.length;e++){const t=o[e];t[17]===t[3]&&Bc(t[1],t,s,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Bc(n[1],n,s,r)}}}}}return r}function zc(e){const t=Be(),n=ze(),r=it();ot(r+1);const s=Xc(n,r);if(e.dirty&&Le(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const i=s.crossesNgTemplate?Bc(n,t,r,[]):qc(n,t,s,r);e.reset(i,Ta),e.notifyOnChanges()}return!0}return!1}function Hc(e,t,n){const r=ze();r.firstCreatePass&&(Wc(r,new Mc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Kc(r,Be(),t)}function Gc(e,t,n,r){const s=ze();if(s.firstCreatePass){const i=Ge();Wc(s,new Mc(t,n,r),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}Kc(s,Be(),n)}function Yc(){return e=Be(),t=it(),e[19].queries[t].queryList;var e,t}function Kc(e,t,n){const r=new Pc(4==(4&n));Vs(e,t,r,r.destroy),null===t[19]&&(t[19]=new Lc),t[19].queries.push(new $c(r))}function Wc(e,t,n){null===e.queries&&(e.queries=new Fc),e.queries.track(new Uc(t,n))}function Xc(e,t){return e.queries.getByIndex(t)}function Qc(e,t){return sc(e,t)}const Zc=ln("Output",e=>({bindingPropertyName:e})),Jc=ln("HostListener",(e,t)=>({eventName:e,args:t})),el=new hn("Application Initializer");let tl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=_a,this.reject=_a,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(oo(t))e.push(t);else if(co(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Dn(el,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const nl=new hn("AppId"),rl={provide:nl,useFactory:function(){return`${sl()}${sl()}${sl()}`},deps:[]};function sl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const il=new hn("Platform Initializer"),ol=new hn("Platform ID"),al=new hn("appBootstrapListener");let cl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const ll=new hn("LocaleId"),ul=new hn("DefaultCurrencyCode");class hl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const dl=function(e){return new Sc(e)},fl=dl,pl=function(e){return Promise.resolve(dl(e))},gl=function(e){const t=dl(e),n=Nr(le(e).declarations).reduce((e,t)=>{const n=ce(t);return n&&e.push(new vc(n)),e},[]);return new hl(t,n)},ml=gl,yl=function(e){return Promise.resolve(gl(e))};let vl=(()=>{class e{constructor(){this.compileModuleSync=fl,this.compileModuleAsync=pl,this.compileModuleAndAllComponentsSync=ml,this.compileModuleAndAllComponentsAsync=yl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const wl=(()=>Promise.resolve(0))();function bl(e){"undefined"==typeof Zone?wl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _l{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dc(!1),this.onMicrotaskEmpty=new Dc(!1),this.onStable=new Dc(!1),this.onError=new Dc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,El(e),e.isCheckStableRunning=!0,Il(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),El(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,o,a)=>{try{return Tl(e),n.invokeTask(s,i,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Cl(e)}},onInvoke:(n,r,s,i,o,a,c)=>{try{return Tl(e),n.invoke(s,i,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Cl(e)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,El(e),Il(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+r,e,Sl,_a,_a);try{return s.runTask(i,t,n)}finally{s.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Sl={};function Il(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function El(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Tl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cl(e){e._nesting--,Il(e)}class kl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dc,this.onMicrotaskEmpty=new Dc,this.onStable=new Dc,this.onError=new Dc}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Al=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_l.assertNotInAngularZone(),bl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bl(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Dn(_l))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})(),xl=(()=>{class e{constructor(){this._applications=new Map,Rl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Rl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();class Ol{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Nl(e){Rl=e}let Dl,Rl=new Ol,Pl=!0,$l=!1;function Ll(){return $l=!0,Pl}function Ml(){if($l)throw new Error("Cannot enable prod mode after platform setup.");Pl=!1}const Fl=new hn("AllowMultipleToken");class Ul{constructor(e,t){this.name=e,this.token=t}}function Vl(e,t,n=[]){const r=`Platform: ${t}`,s=new hn(r);return(t=[])=>{let i=jl();if(!i||i.injector.get(Fl,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0},{provide:yi,useValue:"platform"});!function(e){if(Dl&&!Dl.destroyed&&!Dl.injector.get(Fl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Dl=e.get(ql);const t=e.get(il,null);t&&t.forEach(e=>e())}(Oi.create({providers:e,name:r}))}return function(e){const t=jl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function jl(){return Dl&&!Dl.destroyed?Dl:null}let ql=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new kl:("zone.js"===e?void 0:e)||new _l({enableLongStackTrace:Ll(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:_l,useValue:n}];return n.run(()=>{const t=Oi.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(t),i=s.injector.get(xr,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});s.onDestroy(()=>{Hl(this._modules,s),e.unsubscribe()})}),function(e,t,n){try{const r=n();return oo(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,n,()=>{const e=s.injector.get(tl);return e.runInitializers(),e.donePromise.then(()=>(la(s.injector.get(ll,aa)||aa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=Bl({},t);return function(e,t,n){const r=new Sc(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(zl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Dn(Oi))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function Bl(e,t){return Array.isArray(t)?t.reduce(Bl,e):Object.assign(Object.assign({},e),t)}let zl=(()=>{class e{constructor(e,t,n,r,s){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new i.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new i.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{_l.assertNotInAngularZone(),bl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{_l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(u,h.pipe(e=>(0,c.x)()((0,a.O)(l)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof va?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ic),s=n.create(Oi.NULL,[],t||n.selector,r),i=s.location.nativeElement,o=s.injector.get(Al,null),a=o&&s.injector.get(xl);return o&&a&&a.registerApplication(i,o),s.onDestroy(()=>{this.detachView(s.hostView),Hl(this.components,s),a&&a.unregisterApplication(i)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Hl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(al,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Dn(_l),Dn(Oi),Dn(xr),Dn(ba),Dn(tl))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function Hl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Gl{}class Yl{}const Kl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Wl=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Kl}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>Xl(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+s]).then(e=>Xl(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Dn(vl),Dn(Yl,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function Xl(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Ql=function(e){return null},Zl=Vl(null,"core",[{provide:ol,useValue:"unknown"},{provide:ql,deps:[Oi]},{provide:xl,deps:[]},{provide:cl,deps:[]}]),Jl=[{provide:zl,useClass:zl,deps:[_l,Oi,xr,ba,tl]},{provide:yc,deps:[_l],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:tl,useClass:tl,deps:[[new Ln,el]]},{provide:vl,useClass:vl,deps:[]},rl,{provide:Ba,useFactory:function(){return Za},deps:[]},{provide:Ha,useFactory:function(){return Ja},deps:[]},{provide:ll,useFactory:function(e){return la(e=e||"undefined"!=typeof $localize&&$localize.locale||aa),e},deps:[[new $n(ll),new Ln,new Mn]]},{provide:ul,useValue:"USD"}];let eu=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Dn(zl))},e.\u0275mod=re({type:e}),e.\u0275inj=I({providers:Jl}),e})()},8346:(e,t,n)=>{"use strict";n.d(t,{nm:()=>k});var r=n(4235);n(7272),n(1665);var s=n(5871),i=n(9171),o=n(9870),a=n(4560);const c=new Map,l={activated:!1,tokenObservers:[]},u={initialized:!1,enabled:!1};function h(e){return c.get(e)||l}function d(e,t){c.set(e,t)}function f(){return u}class p{constructor(e,t,n,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new o.BH,await(t=this.getNextRun(e),new Promise(e=>{setTimeout(e,t)})),this.pending.resolve(),await this.pending.promise,this.pending=new o.BH,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}var t}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const g=new o.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"}),m="firebase-app-check-store";let y=null;const v=new a.Yd("@firebase/app-check");function w(e,t){return(0,o.hl)()?function(e,t){return async function(e,t){const n=(await(y||(y=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(g.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(m,{keyPath:"compositeKey"})}}}catch(n){t(g.create("storage-open",{originalErrorMessage:n.message}))}}),y))).transaction(m,"readwrite"),r=n.objectStore(m).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(g.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{v.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}const b={error:"UNKNOWN_ERROR"};async function _(e,t=!1){const n=e.app;!function(e){if(!h(e).activated)throw g.create("use-before-activation",{appName:e.name})}(n);const r=h(n);let s,i=r.token;if(!i){const e=await r.cachedTokenPromise;e&&E(e)&&(i=e)}if(!t&&i&&E(i))return{token:i.token};let a,c=!1;if(f().enabled){r.exchangeTokenPromise||(r.exchangeTokenPromise=async function({url:e,body:t},n){const r={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});s&&(r["X-Firebase-Client"]=s.getPlatformInfoString());const i={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=await fetch(e,i)}catch(h){throw g.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw g.create("fetch-status-error",{httpStatus:o.status});try{a=await o.json()}catch(h){throw g.create("fetch-parse-error",{originalErrorMessage:h.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw g.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+l,issuedAtTimeMillis:u}}(function(e,t){const{projectId:n,appId:r,apiKey:s}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:t}}}(n,await async function(){const e=f();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}()),e.platformLoggerProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),c=!0);const t=await r.exchangeTokenPromise;return await w(n,t),d(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),c=!0),i=await r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?v.warn(l.message):v.error(l),s=l}return i?(a={token:i.token},d(n,Object.assign(Object.assign({},r),{token:i})),await w(n,i)):a=function(e){return{token:(t=b,o.US.encodeString(JSON.stringify(t),!1)),error:e};var t}(s),c&&function(e,t){const n=h(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(l){}}(n,a),a}function S(e,t){const n=h(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),d(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function I(e){const{app:t}=e,n=h(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new p(async()=>{let n;if(n=h(t).token?await _(e,!0):await _(e),n.error)throw n.error},()=>!0,()=>{const e=h(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),d(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function E(e){return e.expireTimeMillis-Date.now()>0}class T{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=h(this.app);for(const t of e)S(this.app,t.next);return Promise.resolve()}}const C="app-check-internal";(0,s._registerComponent)(new i.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),new T(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(C).initialize()})),(0,s._registerComponent)(new i.wA(C,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>_(t,e),addTokenListener:e=>function(e,t,n,r){const{app:s}=e,i=h(s),o={next:n,error:void 0,type:"INTERNAL"};if(d(s,Object.assign(Object.assign({},i),{tokenObservers:[...i.tokenObservers,o]})),i.token&&E(i.token)){const t=i.token;Promise.resolve().then(()=>{n({token:t.token}),I(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>I(e))}(t,0,e),removeTokenListener:e=>S(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)("@firebase/app-check","0.5.3");class k{constructor(){return(0,r.vb)("app-check")}}"undefined"!=typeof window&&window},4259:(e,t,n)=>{"use strict";n.d(t,{zQ:()=>$,ww:()=>L,rT:()=>N,f7:()=>R,L6:()=>x,_Q:()=>O,lh:()=>D,Qv:()=>A,nw:()=>P});var r=n(7272),s=n(6006),i=n(267),o=n(3948),a=n(2850),c=n(636),l=n(6511),u=n(9734),h=n(4475),d=n(7078),f=n(2417);class p extends s.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new g(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;let i;if(this.closed)throw new d.N;if(this.isStopped||this.hasError?i=u.w.EMPTY:(this.observers.push(e),i=new f.W(this,e)),r&&e.add(e=new h.ht(e,r)),t)for(let o=0;o<s&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<s&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i}_getNow(){return(this.scheduler||l.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,s=r.length;let i=0;for(;i<s&&!(e-r[i].time<n);)i++;return s>t&&(i=Math.max(i,s-t)),i>0&&r.splice(0,i),r}}class g{constructor(e,t){this.time=e,this.value=t}}function m(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,i,o=0,a=!1,c=!1;return function(l){let u;o++,!s||a?(a=!1,s=new p(e,t,r),u=s.subscribe(this),i=l.subscribe({next(e){s.next(e)},error(e){a=!0,s.error(e)},complete(){c=!0,i=void 0,s.complete()}}),c&&(i=void 0)):u=s.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,i&&!c&&n&&0===o&&(i.unsubscribe(),i=void 0,s=void 0)})}}(r))}var y=n(2812);function v(e,t){return t?(0,y.w)(()=>e,t):(0,y.w)(()=>e)}var w=n(8561),b=n(3987),_=n(6515),S=n(3305),I=n(4235),E=n(9106),T=n(6274),C=n(8346),k=n(2837);const A=new r.OlP("angularfire2.auth.use-emulator"),x=new r.OlP("angularfire2.auth.settings"),O=new r.OlP("angularfire2.auth.tenant-id"),N=new r.OlP("angularfire2.auth.langugage-code"),D=new r.OlP("angularfire2.auth.use-device-language"),R=new r.OlP("angularfire.auth.persistence"),P=(e,t,n,r,s,i,o,a)=>(0,E.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=s,i&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,s,i,o,a]);let $=(()=>{class e{constructor(e,t,r,l,u,d,f,p,g,C,k,A){const x=new s.xQ,O=(0,i.of)(void 0).pipe((0,h.QV)(u.outsideAngular),(0,y.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,5524)))),(0,w.U)(()=>(0,E.on)(e,l,t)),(0,w.U)(e=>P(e,l,d,p,g,C,f,k)),m({bufferSize:1,refCount:!1}));if((0,T.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,i.of)(null);else{O.pipe((0,b.P)()).subscribe();const e=O.pipe((0,y.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),I.iC,m({bufferSize:1,refCount:!1})),t=O.pipe((0,y.w)(e=>new o.y(t=>({unsubscribe:l.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=O.pipe((0,y.w)(e=>new o.y(t=>({unsubscribe:l.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(v(t),(0,_.R)(u.outsideAngular),(0,h.QV)(u.insideAngular)),this.user=e.pipe(v(n),(0,_.R)(u.outsideAngular),(0,h.QV)(u.insideAngular)),this.idToken=this.user.pipe((0,y.w)(e=>e?(0,a.D)(e.getIdToken()):(0,i.of)(null))),this.idTokenResult=this.user.pipe((0,y.w)(e=>e?(0,a.D)(e.getIdTokenResult()):(0,i.of)(null))),this.credential=(0,c.T)(e,x,this.authState.pipe((0,S.h)(e=>!e))).pipe((0,w.U)(e=>(null==e?void 0:e.user)?e:null),(0,_.R)(u.outsideAngular),(0,h.QV)(u.insideAngular))}return(0,E.pX)(this,O,l,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>x.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(E.Dh),r.LFG(E.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(I.HU),r.LFG(A,8),r.LFG(x,8),r.LFG(O,8),r.LFG(N,8),r.LFG(D,8),r.LFG(R,8),r.LFG(C.nm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),L=(()=>{class e{constructor(){k.Z.registerVersion("angularfire",I.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[$]}),e})()},9106:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>u,GT:()=>c,cc:()=>m,on:()=>d,pX:()=>a});var r=n(7272),s=n(2837),i=n(4235);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(s,i)=>n.runOutsideAngular(()=>{var s;if(e[i])return(null===(s=null==r?void 0:r.spy)||void 0===s?void 0:s.get)&&r.spy.get(i,e[i]),e[i];if(o.indexOf(i)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[i];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const s=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(i,n,s),s})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class l{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=s.Z.apps.filter(e=>e&&e.name===i.name)[0]||n.runOutsideAngular(()=>s.Z.initializeApp(t,i));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new l(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:l,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){s.Z.registerVersion("angularfire",i.q4.full,"core"),s.Z.registerVersion("angularfire",i.q4.full,"app-compat"),s.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function m(e,t,n,r,s){const[,i,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(i)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(s,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:s,was:o})),i;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,s]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4235:(e,t,n)=>{"use strict";n.d(t,{q4:()=>Je,iC:()=>ft,HU:()=>ht,vb:()=>at,JM:()=>ot});var r=n(7272),s=n(1665),i=n(5871),o=n(9870),a=n(9171),c=n(4560),l=n(2842);const u="@firebase/installations",h="0.5.5",d="w:0.5.5",f=new o.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function p(e){return e instanceof o.ZR&&e.code.includes("request-failed")}function g({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function m(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function y(e,t){const n=(await t.json()).error;return f.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function v({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function w(e){const t=await e();return t.status>=500&&t.status<600?e():t}function b(e){return new Promise(t=>{setTimeout(t,e)})}const _=/^[cdef][\w-]{21}$/;function S(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return _.test(t)?t:""}catch(e){return""}}function I(e){return`${e.appName}!${e.appId}`}const E=new Map;function T(e,t){const n=I(e);C(n,t),function(e,t){const n=(!k&&"BroadcastChannel"in self&&(k=new BroadcastChannel("[Firebase] FID Change"),k.onmessage=e=>{C(e.data.key,e.data.fid)}),k);n&&n.postMessage({key:e,fid:t}),0===E.size&&k&&(k.close(),k=null)}(n,t)}function C(e,t){const n=E.get(e);if(n)for(const r of n)r(t)}let k=null;const A="firebase-installations-store";let x=null;function O(){return x||(x=(0,l.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(A)}})),x}async function N(e,t){const n=I(e),r=(await O()).transaction(A,"readwrite"),s=r.objectStore(A),i=await s.get(n);return await s.put(t,n),await r.complete,i&&i.fid===t.fid||T(e,t.fid),t}async function D(e){const t=I(e),n=(await O()).transaction(A,"readwrite");await n.objectStore(A).delete(t),await n.complete}async function R(e,t){const n=I(e),r=(await O()).transaction(A,"readwrite"),s=r.objectStore(A),i=await s.get(n),o=t(i);return void 0===o?await s.delete(n):await s.put(o,n),await r.complete,!o||i&&i.fid===o.fid||T(e,o.fid),o}async function P(e){let t;const n=await R(e,n=>{const r=function(e){return M(e||{fid:S(),registrationStatus:0})}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(f.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:async function(e,t){try{return N(e,await async function(e,{fid:t}){const n=g(e),r={method:"POST",headers:v(e),body:JSON.stringify({fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:d})},s=await w(()=>fetch(n,r));if(s.ok){const e=await s.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:m(e.authToken)}}throw await y("Create Installation",s)}(e,t))}catch(n){throw p(n)&&409===n.customData.serverCode?await D(e):await N(e,{fid:t.fid,registrationStatus:0}),n}}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function $(e){let t=await L(e);for(;1===t.registrationStatus;)await b(100),t=await L(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await P(e);return n||t}return t}function L(e){return R(e,e=>{if(!e)throw f.create("installation-not-found");return M(e)})}function M(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function F(e,t=!1){let n;const r=await R(e.appConfig,r=>{if(!V(r))throw f.create("not-registered");const s=r.authToken;if(!t&&2===(i=s).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;var i;if(1===s.requestStatus)return n=async function(e,t){let n=await U(e.appConfig);for(;1===n.authToken.requestStatus;)await b(100),n=await U(e.appConfig);const r=n.authToken;return 0===r.requestStatus?F(e,t):r}(e,t),r;{if(!navigator.onLine)throw f.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await async function({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${g(e)}/${t}/authTokens:generate`}(e,n),s=function(e,{refreshToken:t}){const n=v(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}(e,n),i=t.getImmediate({optional:!0});i&&s.append("x-firebase-client",i.getPlatformInfoString());const o={method:"POST",headers:s,body:JSON.stringify({installation:{sdkVersion:d}})},a=await w(()=>fetch(r,o));if(a.ok)return m(await a.json());throw await y("Generate Auth Token",a)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await N(e.appConfig,r),n}catch(n){if(!p(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await N(e.appConfig,n)}else await D(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function U(e){return R(e,e=>{if(!V(e))throw f.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function V(e){return void 0!==e&&2===e.registrationStatus}function j(e){return f.create("missing-app-config-values",{valueName:e})}const q="installations";(0,i._registerComponent)(new a.wA(q,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw j("App Configuration");if(!e.name)throw j("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw j(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,i._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,i._registerComponent)(new a.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,i._getProvider)(t,q).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await P(t.appConfig);return r?r.catch(console.error):F(t).catch(console.error),n.fid}(n),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await P(e);t&&await t}(n.appConfig),(await F(n,t)).token}(n,e)}},"PRIVATE")),(0,i.registerVersion)(u,h),(0,i.registerVersion)(u,h,"esm2017");const B="@firebase/remote-config",z="0.3.4",H=new o.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class G{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}async fetch(e){const[t,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return n;e.eTag=n&&n.eTag;const r=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&s.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(s),r}}function Y(e=navigator){return e.languages&&e.languages[0]||e.language}class K{constructor(e,t,n,r,s,i){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=s,this.appId=i}async fetch(e){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},i={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:n,app_id:this.appId,language_code:Y()},o={method:"POST",headers:s,body:JSON.stringify(i)},a=fetch(r,o),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{await Promise.race([a,c]),l=await a}catch(p){let e="fetch-client-network";throw"AbortError"===p.name&&(e="fetch-timeout"),H.create(e,{originalErrorMessage:p.message})}let u=l.status;const h=l.headers.get("ETag")||void 0;let d,f;if(200===l.status){let e;try{e=await l.json()}catch(p){throw H.create("fetch-client-parse",{originalErrorMessage:p.message})}d=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?u=500:"NO_CHANGE"===f?u=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(d={}),304!==u&&200!==u)throw H.create("fetch-status",{httpStatus:u});return{status:u,eTag:h,config:d}}}class W{constructor(e,t){this.client=e,this.storage=t}async fetch(e){const t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(H.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),t}catch(r){if(!function(e){if(!(e instanceof o.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r))throw r;const t={throttleEndTimeMillis:Date.now()+(0,o.$s)(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(t),this.attemptFetch(e,t)}}}class X{constructor(e,t,n,r,s){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Q(e,t){const n=e.target.error||void 0;return H.create(t,{originalErrorMessage:n&&n.message})}const Z="app_namespace_store";class J{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Q(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Z,{keyPath:"compositeKey"})}}}catch(n){t(H.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const t=await this.openDbPromise;return new Promise((n,r)=>{const s=t.transaction([Z],"readonly").objectStore(Z),i=this.createCompositeKey(e);try{const e=s.get(i);e.onerror=e=>{r(Q(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;n(t?t.value:void 0)}}catch(o){r(H.create("storage-get",{originalErrorMessage:o&&o.message}))}})}async set(e,t){const n=await this.openDbPromise;return new Promise((r,s)=>{const i=n.transaction([Z],"readwrite").objectStore(Z),o=this.createCompositeKey(e);try{const e=i.put({compositeKey:o,value:t});e.onerror=e=>{s(Q(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(a){s(H.create("storage-set",{originalErrorMessage:a&&a.message}))}})}async delete(e){const t=await this.openDbPromise;return new Promise((n,r)=>{const s=t.transaction([Z],"readwrite").objectStore(Z),i=this.createCompositeKey(e);try{const e=s.delete(i);e.onerror=e=>{r(Q(e,"storage-delete"))},e.onsuccess=()=>{n()}}catch(o){r(H.create("storage-delete",{originalErrorMessage:o&&o.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=await e;r&&(this.lastFetchStatus=r);const s=await t;s&&(this.lastSuccessfulFetchTimestampMillis=s);const i=await n;i&&(this.activeConfig=i)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}async function te(){if(!(0,o.hl)())return!1;try{return await(0,o.eu)()}catch(e){return!1}}(0,i._registerComponent)(new a.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw H.create("registration-window");if(!(0,o.hl)())throw H.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:l}=n.options;if(!s)throw H.create("registration-project-id");if(!a)throw H.create("registration-api-key");if(!l)throw H.create("registration-app-id");const u=new J(l,n.name,t=t||"firebase"),h=new ee(u),d=new c.Yd(B);d.logLevel=c.in.ERROR;const f=new K(r,i.SDK_VERSION,t,s,a,l),p=new W(f,u),g=new G(p,u,h,d),m=new X(n,g,h,u,d);return function(e){const t=(0,o.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(B,z),(0,i.registerVersion)(B,z,"esm2017");const ne="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var re=(()=>(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(re||(re={})),re))();function se(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ie(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}const oe="fcm_token_details_db",ae="fcm_token_object_Store",ce="firebase-messaging-store";let le=null;function ue(){return le||(le=(0,l.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(ce)}})),le}async function he(e){const t=fe(e),n=await ue(),r=await n.transaction(ce).objectStore(ce).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(e=>e.name).includes(oe))return null;let t=null;return(await(0,l.openDb)(oe,5,async n=>{var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(ae))return;const s=n.transaction.objectStore(ae),i=await s.index("fcmSenderId").get(e);if(await s.clear(),i)if(2===n.oldVersion){const e=i;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:se(e.vapidKey)}}}else if(3===n.oldVersion){const e=i;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:se(e.auth),p256dh:se(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:se(e.vapidKey)}}}else if(4===n.oldVersion){const e=i;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:se(e.auth),p256dh:se(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:se(e.vapidKey)}}}})).close(),await(0,l.deleteDb)(oe),await(0,l.deleteDb)("fcm_vapid_details_db"),await(0,l.deleteDb)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await de(e,t),t}}async function de(e,t){const n=fe(e),r=(await ue()).transaction(ce,"readwrite");return await r.objectStore(ce).put(t,n),await r.complete,t}function fe({appConfig:e}){return e.appId}const pe=new o.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function ge(e,t){const n={method:"DELETE",headers:await ye(e)};try{const r=await fetch(`${me(e.appConfig)}/${t}`,n),s=await r.json();if(s.error)throw pe.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw pe.create("token-unsubscribe-failed",{errorInfo:r})}}function me({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function ye({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function ve({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==ne&&(s.web.applicationPubKey=r),s}async function we(e,t){const n={token:await async function(e,t){const n=await ye(e),r=ve(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{const t=await fetch(me(e.appConfig),s);i=await t.json()}catch(o){throw pe.create("token-subscribe-failed",{errorInfo:o})}if(i.error)throw pe.create("token-subscribe-failed",{errorInfo:i.error.message});if(!i.token)throw pe.create("token-subscribe-no-token");return i.token}(e,t),createTime:Date.now(),subscriptionOptions:t};return await de(e,n),n.token}function be(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function _e(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Se(e){return pe.create("missing-app-config-values",{valueName:e})}_e("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_e("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ie{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Se("App Configuration Object");if(!e.name)throw Se("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Se(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Ee(e,t){if(!navigator)throw pe.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw pe.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=ne)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await async function(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{})}catch(t){throw pe.create("failed-service-worker-registration",{browserErrorMessage:t.message})}}(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw pe.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),async function(e){const t=await async function(e,t){return await e.pushManager.getSubscription()||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ie(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:se(t.getKey("auth")),p256dh:se(t.getKey("p256dh"))},r=await he(e.firebaseDependencies);if(r){if((i=n).vapidKey===(s=r.subscriptionOptions).vapidKey&&i.endpoint===s.endpoint&&i.auth===s.auth&&i.p256dh===s.p256dh)return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await ye(e),r=ve(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{const n=await fetch(`${me(e.appConfig)}/${t.token}`,s);i=await n.json()}catch(o){throw pe.create("token-update-failed",{errorInfo:o})}if(i.error)throw pe.create("token-update-failed",{errorInfo:i.error.message});if(!i.token)throw pe.create("token-update-no-token");return i.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await de(e.firebaseDependencies,r),n}catch(n){throw await async function(e){const t=await he(e.firebaseDependencies);t&&(await ge(e.firebaseDependencies,t.token),await async function(e){const t=fe(e),n=(await ue()).transaction(ce,"readwrite");await n.objectStore(ce).delete(t),await n.complete}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}(e),n}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await ge(e.firebaseDependencies,r.token)}catch(o){console.warn(o)}return we(e.firebaseDependencies,n)}var s,i;return we(e.firebaseDependencies,n)}(e)}const Te="@firebase/messaging",Ce="0.9.9";async function ke(){try{await(0,o.eu)()}catch(e){return!1}return"undefined"!=typeof window&&(0,o.hl)()&&(0,o.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}(0,i._registerComponent)(new a.wA("messaging",e=>{const t=new Ie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>async function(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===re.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(be(n)):e.onMessageHandler.next(be(n)));const r=n.data;var s;"object"==typeof(s=r)&&s&&"google.c.a.c_id"in s&&"1"===r["google.c.a.e"]&&await async function(e,t,n){const r=function(e){switch(e){case re.NOTIFICATION_CLICKED:return"notification_open";case re.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}(e,n.messageType,r)}(t,e)),t},"PUBLIC")),(0,i._registerComponent)(new a.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Ee(t,e)}},"PRIVATE")),(0,i.registerVersion)(Te,Ce),(0,i.registerVersion)(Te,Ce,"esm2017");const Ae="analytics",xe="https://www.googletagmanager.com/gtag/js",Oe=new c.Yd("@firebase/analytics");function Ne(e){return Promise.all(e.map(e=>e.catch(e=>e)))}const De=new o.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Re=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Pe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function $e(e,t=Re,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw De.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw De.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Me;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),Le({appId:r,apiKey:s,measurementId:i},o,a,t)}async function Le(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=Re){const{appId:i,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(De.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(c){if(a)return Oe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:i,measurementId:a};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:Pe(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(i,s);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw De.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(i),t}catch(c){if(!function(e){if(!(e instanceof o.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c)){if(s.deleteThrottleMetadata(i),a)return Oe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:i,measurementId:a};throw c}const t=503===Number(c.customData.httpStatus)?(0,o.$s)(n,s.intervalMillis,30):(0,o.$s)(n,s.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return s.setThrottleMetadata(i,l),Oe.debug(`Calling attemptFetch again in ${t} millis`),Le(e,l,r,s)}}class Me{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}class Fe{constructor(e){this.app=e}_delete(){return delete Ue[this.app.options.appId],Promise.resolve()}}let Ue={},Ve=[];const je={};let qe,Be,ze=!1;async function He(){if((0,o.ru)())return!1;if(!(0,o.zI)())return!1;if(!(0,o.hl)())return!1;try{return await(0,o.eu)()}catch(e){return!1}}const Ge="@firebase/analytics",Ye="0.7.5";(0,i._registerComponent)(new a.wA(Ae,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,o.ru)()&&e.push("This is a browser extension environment."),(0,o.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=De.create("invalid-analytics-context",{errorInfo:t});Oe.warn(n.message)}}();const r=e.options.appId;if(!r)throw De.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw De.create("no-api-key");Oe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ue[r])throw De.create("already-exists",{id:r});if(!ze){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(i=window.gtag),window.gtag=function(e,t,n,r){return async function(s,i,o){try{"event"===s?await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await Ne(n);for(const n of e){const e=r.find(e=>e.measurementId===n),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Oe.error(i)}}(e,t,n,i,o):"config"===s?await async function(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const e=(await Ne(n)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(a){Oe.error(a)}e("config",s,i)}(e,t,n,r,i,o):e("set",i)}catch(a){Oe.error(a)}}}(i,e,t,n),{gtagCore:i,wrappedGtag:window.gtag}}(Ue,Ve,je);Be=e,qe=t,ze=!0}return Ue[r]=async function(e,t,n,r,s,i,a){var c;const l=$e(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Oe.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Oe.error(e)),t.push(l);const u=async function(){if(!(0,o.hl)())return Oe.warn(De.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,o.eu)()}catch(e){return Oe.warn(De.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}().then(e=>e?r.getId():void 0),[h,d]=await Promise.all([l,u]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(xe))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${xe}?l=dataLayer&id=${t}`,n.async=!0,document.head.appendChild(n)}(0,h.measurementId),s("js",new Date);const f=null!==(c=null==a?void 0:a.config)&&void 0!==c?c:{};return f.origin="firebase",f.update=!0,null!=d&&(f.firebase_id=d),s("config",h.measurementId,f),h.measurementId}(e,Ve,je,t,qe,0,n),new Fe(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,i._registerComponent)(new a.wA("analytics-internal",function(e){try{const t=e.getProvider(Ae).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,o.m9)(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(Be,Ue[e.app.options.appId],t,n,r).catch(e=>Oe.error(e))}(t,e,n,r)}}catch(t){throw De.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,i.registerVersion)(Ge,Ye),(0,i.registerVersion)(Ge,Ye,"esm2017");var Ke=n(6511),We=n(8846),Xe=n(4089),Qe=n(6515),Ze=n(4475);const Je=new r.GfV("7.2.1"),et="__angularfire_symbol__analyticsIsSupportedValue",tt="__angularfire_symbol__analyticsIsSupported",nt="__angularfire_symbol__remoteConfigIsSupportedValue",rt="__angularfire_symbol__remoteConfigIsSupported",st="__angularfire_symbol__messagingIsSupportedValue",it="__angularfire_symbol__messagingIsSupported";function ot(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[tt]||(globalThis[tt]=He().then(e=>globalThis[et]=e).catch(()=>globalThis[et]=!1)),globalThis[it]||(globalThis[it]=ke().then(e=>globalThis[st]=e).catch(()=>globalThis[st]=!1)),globalThis[rt]||(globalThis[rt]=te().then(e=>globalThis[nt]=e).catch(()=>globalThis[nt]=!1));const at=(e,t)=>{const n=t?[t]:(0,s.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function ct(){}class lt{constructor(e,t=Ke.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class ut{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ct,{},ct,ct)),t.pipe((0,Xe.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ht=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new lt(Zone.current)),this.insideAngular=e.run(()=>new lt(Zone.current,We.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function dt(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function ft(e){return dt(),(t=dt(),function(e){return(e=e.lift(new ut(t.ngZone))).pipe((0,Qe.R)(t.outsideAngular),(0,Ze.QV)(t.insideAngular))})(e);var t}},4988:(e,t,n)=>{"use strict";n.d(t,{qu:()=>ke,NI:()=>le,u:()=>_e,cw:()=>ue,sg:()=>we,u5:()=>Te,JU:()=>f,a5:()=>U,JJ:()=>j,JL:()=>q,On:()=>pe,UX:()=>Ce,Q7:()=>Ie,kI:()=>S,_Y:()=>ge});var r=n(7272),s=n(6274),i=n(3948),o=n(9622),a=n(8561),c=n(153),l=n(2850);function u(e,t){return new i.y(n=>{const r=e.length;if(0===r)return void n.complete();const s=new Array(r);let i=0,o=0;for(let a=0;a<r;a++){const c=(0,l.D)(e[a]);let u=!1;n.add(c.subscribe({next:e=>{u||(u=!0,o++),s[a]=e},error:e=>n.error(e),complete:()=>{i++,i!==r&&u||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=s[n],e),{}):s),n.complete())}}))}})}let h=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),d=(()=>{class e extends h{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const f=new r.OlP("NgValueAccessor"),p={provide:f,useExisting:(0,r.Gpc)(()=>m),multi:!0},g=new r.OlP("CompositionEventMode");let m=(()=>{class e extends h{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(g,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([p]),r.qOj]}),e})();function y(e){return null==e||0===e.length}function v(e){return null!=e&&"number"==typeof e.length}const w=new r.OlP("NgValidators"),b=new r.OlP("NgAsyncValidators"),_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class S{static min(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return I(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return y(e.value)||_.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>y(t.value)||!v(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>v(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return E;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(y(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return O(e)}static composeAsync(e){return D(e)}}function I(e){return y(e.value)?{required:!0}:null}function E(e){return null}function T(e){return null!=e}function C(e){const t=(0,r.QGY)(e)?(0,l.D)(e):e;return(0,r.CqO)(t),t}function k(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function A(e,t){return t.map(t=>t(e))}function x(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function O(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return k(A(e,t))}}function N(e){return null!=e?O(x(e)):null}function D(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,o.k)(t))return u(t,null);if((0,c.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return u(e=1===e.length&&(0,o.k)(e[0])?e[0]:e,null).pipe((0,a.U)(e=>t(...e)))}return u(e,null)}(A(e,t).map(C)).pipe((0,a.U)(k))}}function R(e){return null!=e?D(x(e)):null}function P(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function $(e){return e._rawValidators}function L(e){return e._rawAsyncValidators}let M=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=N(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=R(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),F=(()=>{class e extends M{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class U extends M{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class V{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let j=(()=>{class e extends V{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(U,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),q=(()=>{class e extends V{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function B(e,t){return[...t.path,e]}function z(e,t){Y(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&W(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&W(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function H(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),K(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function G(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Y(e,t){const n=$(e);null!==t.validator?e.setValidators(P(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=L(e);null!==t.asyncValidator?e.setAsyncValidators(P(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const s=()=>e.updateValueAndValidity();G(t._rawValidators,s),G(t._rawAsyncValidators,s)}function K(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=$(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(e=>e!==t.validator);s.length!==r.length&&(n=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const r=L(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(e=>e!==t.asyncValidator);s.length!==r.length&&(n=!0,e.setAsyncValidators(s))}}}const r=()=>{};return G(t._rawValidators,r),G(t._rawAsyncValidators,r),n}function W(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function X(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Q(e,t){if(!t)return null;let n,r,s;return Array.isArray(t),t.forEach(e=>{e.constructor===m?n=e:Object.getPrototypeOf(e.constructor)===d?r=e:s=e}),s||r||n||null}function Z(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const J="VALID",ee="INVALID",te="PENDING",ne="DISABLED";function re(e){return(ae(e)?e.validators:e)||null}function se(e){return Array.isArray(e)?N(e):e||null}function ie(e,t){return(ae(t)?t.asyncValidators:e)||null}function oe(e){return Array.isArray(e)?R(e):e||null}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ce{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=se(this._rawValidators),this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===J}get invalid(){return this.status===ee}get pending(){return this.status==te}get disabled(){return this.status===ne}get enabled(){return this.status!==ne}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=se(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=oe(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=te,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ne,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=J,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==J&&this.status!==te||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ne:J}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=te,this._hasOwnPendingAsyncValidator=!0;const t=C(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof ue?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof he&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?ne:this.errors?ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(te)?te:this._anyControlsHaveStatus(ee)?ee:J}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ae(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class le extends ce{constructor(e=null,t,n){super(re(t),ie(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Z(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Z(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ue extends ce{constructor(e,t,n){super(re(t),ie(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof le?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class he extends ce{constructor(e,t,n){super(re(t),ie(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof le?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const de={provide:U,useExisting:(0,r.Gpc)(()=>pe)},fe=(()=>Promise.resolve(null))();let pe=(()=>{class e extends U{constructor(e,t,n,s){super(),this.control=new le,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),X(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?B(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){z(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fe.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;fe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,9),r.Y36(w,10),r.Y36(b,10),r.Y36(f,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([de]),r.qOj,r.TTD]}),e})(),ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const ye=new r.OlP("NgModelWithFormControlWarning"),ve={provide:F,useExisting:(0,r.Gpc)(()=>we)};let we=(()=>{class e extends F{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return z(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){H(e.control||null,e,!1),Z(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(H(t||null,e),n instanceof le&&(z(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){Y(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return K(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Y(this.form,this),this._oldForm&&K(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(w,10),r.Y36(b,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([ve]),r.qOj,r.TTD]}),e})();const be={provide:U,useExisting:(0,r.Gpc)(()=>_e)};let _e=(()=>{class e extends U{constructor(e,t,n,s,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),X(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return B(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,13),r.Y36(w,10),r.Y36(b,10),r.Y36(f,10),r.Y36(ye,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([be]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const Se={provide:w,useExisting:(0,r.Gpc)(()=>Ie),multi:!0};let Ie=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?I(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([Se])]}),e})(),Ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[me]]}),e})(),Te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ee]}),e})(),Ce=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ye,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ee]}),e})(),ke=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,s=null,i=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(s=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(s=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ue(n,{asyncValidators:i,updateOn:r,validators:s})}control(e,t,n){return new le(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new he(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof le||e instanceof ue||e instanceof he?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:Ce}),e})()},8895:(e,t,n)=>{"use strict";n.d(t,{gz:()=>it,y6:()=>Sn,OD:()=>J,eC:()=>ge,wm:()=>Ln,wN:()=>yn,F0:()=>xn,rH:()=>On,yS:()=>Nn,Bz:()=>zn,Hx:()=>Le});var r=n(6274),s=n(7272),i=n(7204),o=n(9622),a=n(8744);class c extends a.L{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class l extends a.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var u=n(7040),h=n(3948);function d(e,t,n,r,s=new l(e,n,r)){if(!s.closed)return t instanceof h.y?t.subscribe(s):(0,u.s)(t)(s)}var f=n(6431);const p={};class g{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new m(e,this.resultSelector))}}class m extends c{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(p),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(d(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,s=this.toRespond?r[n]===p?--this.toRespond:this.toRespond:0;r[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var y=n(2850),v=n(267),w=n(9923),b=n(6507),_=n(1144),S=n(9765),I=n(3974),E=n(955),T=n(6006),C=n(6790);function k(e){return function(t){const n=new A(e),r=t.lift(n);return n.caught=r}}class A{constructor(e){this.selector=e}call(e,t){return t.subscribe(new x(e,this.selector,this.caught))}}class x extends C.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new C.IY(this);this.add(r);const s=(0,C.ft)(n,r);s!==r&&this.add(s)}}}var O=n(3305),N=n(9862);function D(e){return function(t){return 0===e?(0,I.c)():t.lift(new R(e))}}class R{constructor(e){if(this.total=e,this.total<0)throw new N.W}call(e,t){return t.subscribe(new P(e,this.total))}}class P extends a.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(r[s])}}e.complete()}}var $=n(3369),L=n(395),M=n(7846),F=n(9734);class U{constructor(e){this.callback=e}call(e,t){return t.subscribe(new V(e,this.callback))}}class V extends a.L{constructor(e,t){super(e),this.add(new F.w(t))}}var j=n(8561),q=n(2812),B=n(9917),z=n(3543),H=n(1310),G=n(3748),Y=n(3987),K=n(6513),W=n(4089),X=n(5290),Q=n(4540);class Z{constructor(e,t){this.id=e,this.url=t}}class J extends Z{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ee extends Z{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class te extends Z{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ne extends Z{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class re extends Z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class se extends Z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends Z{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oe extends Z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ae extends Z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ce{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class le{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ue{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ge="primary";class me{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ye(e){return new me(e)}function ve(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function we(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const s={};for(let i=0;i<r.length;i++){const t=r[i],n=e[i];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function be(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let i=0;i<n.length;i++)if(s=n[i],!_e(e[s],t[s]))return!1;return!0}function _e(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Se(e){return Array.prototype.concat.apply([],e)}function Ie(e){return e.length>0?e[e.length-1]:null}function Ee(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Te(e){return(0,s.CqO)(e)?e:(0,s.QGY)(e)?(0,y.D)(Promise.resolve(e)):(0,v.of)(e)}const Ce={exact:function e(t,n,r){if(!$e(t.segments,n.segments))return!1;if(!Ne(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!t.children[s])return!1;if(!e(t.children[s],n.children[s],r))return!1}return!0},subset:xe},ke={exact:function(e,t){return be(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_e(e[n],t[n]))},ignored:()=>!0};function Ae(e,t,n){return Ce[n.paths](e.root,t.root,n.matrixParams)&&ke[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function xe(e,t,n){return Oe(e,t,t.segments,n)}function Oe(e,t,n,r){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!!$e(s,n)&&!t.hasChildren()&&!!Ne(s,n,r)}if(e.segments.length===n.length){if(!$e(e.segments,n))return!1;if(!Ne(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!xe(e.children[n],t.children[n],r))return!1}return!0}{const s=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!$e(e.segments,s)&&!!Ne(e.segments,s,r)&&!!e.children[ge]&&Oe(e.children[ge],t,i,r)}}function Ne(e,t,n){return t.every((t,r)=>ke[n](e[r].parameters,t.parameters))}class De{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return Fe.serialize(this)}}class Re{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ee(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ue(this)}}class Pe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function $e(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Le{}class Me{parse(e){const t=new Qe(e);return new De(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Ve(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${qe(t)}=${qe(e)}`).join("&"):`${qe(t)}=${qe(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Fe=new Me;function Ue(e){return e.segments.map(e=>Ge(e)).join("/")}function Ve(e,t){if(!e.hasChildren())return Ue(e);if(t){const t=e.children[ge]?Ve(e.children[ge],!1):"",n=[];return Ee(e.children,(e,t)=>{t!==ge&&n.push(`${t}:${Ve(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Ee(e.children,(e,r)=>{r===ge&&(n=n.concat(t(e,r)))}),Ee(e.children,(e,r)=>{r!==ge&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===ge?[Ve(e.children[ge],!1)]:[`${n}:${Ve(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ge]?`${Ue(e)}/${t[0]}`:`${Ue(e)}/(${t.join("//")})`}}function je(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qe(e){return je(e).replace(/%3B/gi,";")}function Be(e){return je(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(e){return decodeURIComponent(e)}function He(e){return ze(e.replace(/\+/g,"%20"))}function Ge(e){return`${Be(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Be(e)}=${Be(t[e])}`).join("")}`;var t}const Ye=/^[^\/()?;=#]+/;function Ke(e){const t=e.match(Ye);return t?t[0]:""}const We=/^[^=?&#]+/,Xe=/^[^?&#]+/;class Qe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[ge]=new Re(e,t)),n}parseSegment(){const e=Ke(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pe(ze(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ke(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ke(this.remaining);e&&(n=e,this.capture(n))}e[ze(t)]=ze(n)}parseQueryParam(e){const t=function(e){const t=e.match(We);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Xe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=He(t),s=He(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ke(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ge);const i=this.parseChildren();t[s]=1===Object.keys(i).length?i[ge]:new Re([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ze{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Je(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Je(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=et(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return et(e,this._root).map(e=>e.value)}}function Je(e,t){if(e===t.value)return t;for(const n of t.children){const t=Je(e,n);if(t)return t}return null}function et(e,t){if(e===t.value)return[t];for(const n of t.children){const r=et(e,n);if(r.length)return r.unshift(t),r}return[]}class tt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nt(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class rt extends Ze{constructor(e,t){super(e),this.snapshot=t,lt(this,e)}toString(){return this.snapshot.toString()}}function st(e,t){const n=function(e,t){const n=new at([],{},{},"",{},ge,t,null,e.root,-1,{});return new ct("",new tt(n,[]))}(e,t),r=new w.X([new Pe("",{})]),s=new w.X({}),i=new w.X({}),o=new w.X({}),a=new w.X(""),c=new it(r,s,o,a,i,ge,t,n.root);return c.snapshot=n.root,new rt(new tt(c,[]),n)}class it{constructor(e,t,n,r,s,i,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,j.U)(e=>ye(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,j.U)(e=>ye(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ot(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class at{constructor(e,t,n,r,s,i,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ct extends Ze{constructor(e,t){super(t),this.url=e,lt(this,t)}toString(){return ut(this._root)}}function lt(e,t){t.value._routerState=e,t.children.forEach(t=>lt(e,t))}function ut(e){const t=e.children.length>0?` { ${e.children.map(ut).join(", ")} } `:"";return`${e.value}${t}`}function ht(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,be(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),be(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!be(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),be(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function dt(e,t){var n,r;return be(e.params,t.params)&&$e(n=e.url,r=t.url)&&n.every((e,t)=>be(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||dt(e.parent,t.parent))}function ft(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const s=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return ft(e,t,r);return ft(e,t)})}(e,t,n);return new tt(r,s)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return pt(t,e),e}}const n=new it(new w.X((r=t.value).url),new w.X(r.params),new w.X(r.queryParams),new w.X(r.fragment),new w.X(r.data),r.outlet,r.component,r),s=t.children.map(t=>ft(e,t));return new tt(n,s)}var r}function pt(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)pt(e.children[n],t.children[n])}function gt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function mt(e){return"object"==typeof e&&null!=e&&e.outlets}function yt(e,t,n,r,s){let i={};return r&&Ee(r,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new De(n.root===e?t:vt(n.root,e,t),i,s)}function vt(e,t,n){const r={};return Ee(e.children,(e,s)=>{r[s]=e===t?n:vt(e,t,n)}),new Re(e.segments,r)}class wt{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&gt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(mt);if(r&&r!==Ie(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function _t(e,t,n){if(e||(e=new Re([],{})),0===e.segments.length&&e.hasChildren())return St(e,t,n);const r=function(e,t,n){let r=0,s=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return i;const t=e.segments[s],o=n[r];if(mt(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(s>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ct(a,c,t))return i;r+=2}else{if(!Ct(a,{},t))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Re(e.segments.slice(0,r.pathIndex),{});return t.children[ge]=new Re(e.segments.slice(r.pathIndex),e.children),St(t,0,s)}return r.match&&0===s.length?new Re(e.segments,{}):r.match&&!e.hasChildren()?It(e,t,n):r.match?St(e,0,s):It(e,t,n)}function St(e,t,n){if(0===n.length)return new Re(e.segments,{});{const r=function(e){return mt(e[0])?e[0].outlets:{[ge]:e}}(n),s={};return Ee(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[r]=_t(e.children[r],t,n))}),Ee(e.children,(e,t)=>{void 0===r[t]&&(s[t]=e)}),new Re(e.segments,s)}}function It(e,t,n){const r=e.segments.slice(0,t);let s=0;for(;s<n.length;){const i=n[s];if(mt(i)){const e=Et(i.outlets);return new Re(r,e)}if(0===s&&gt(n[0])){r.push(new Pe(e.segments[t].path,Tt(n[0]))),s++;continue}const o=mt(i)?i.outlets[ge]:`${i}`,a=s<n.length-1?n[s+1]:null;o&&a&&gt(a)?(r.push(new Pe(o,Tt(a))),s+=2):(r.push(new Pe(o,{})),s++)}return new Re(r,{})}function Et(e){const t={};return Ee(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=It(new Re([],{}),0,e))}),t}function Tt(e){const t={};return Ee(e,(e,n)=>t[n]=`${e}`),t}function Ct(e,t,n){return e==n.path&&be(t,n.parameters)}class kt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ht(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Ee(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=nt(e);for(const i of Object.keys(s))this.deactivateRouteAndItsChildren(s[i],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new fe(e.value.snapshot))}),e.children.length&&this.forwardEvent(new he(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(ht(r),r===s)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),At(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=s,t.outlet&&t.outlet.activateWith(r,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function At(e){ht(e.value),e.children.forEach(At)}class xt{constructor(e,t){this.routes=e,this.module=t}}function Ot(e){return"function"==typeof e}function Nt(e){return e instanceof De}const Dt=Symbol("INITIAL_VALUE");function Rt(){return(0,q.w)(e=>function(...e){let t,n;return(0,i.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,f.n)(e,n).lift(new g(t))}(e.map(e=>e.pipe((0,B.q)(1),(0,z.O)(Dt)))).pipe((0,H.R)((e,t)=>{let n=!1;return t.reduce((e,r,s)=>{if(e!==Dt)return e;if(r===Dt&&(n=!0),!n){if(!1===r)return r;if(s===t.length-1||Nt(r))return r}return e},e)},Dt),(0,O.h)(e=>e!==Dt),(0,j.U)(e=>Nt(e)?e:!0===e),(0,B.q)(1)))}let Pt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:function(){return[Rn]},encapsulation:2}),e})();function $t(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Lt(r,Mt(t,r))}}function Lt(e,t){e.children&&$t(e.children,t)}function Mt(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Ft(e){const t=e.children&&e.children.map(Ft),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=Pt),n}function Ut(e){return e.outlet||ge}function Vt(e,t){const n=e.filter(e=>Ut(e)===t);return n.push(...e.filter(e=>Ut(e)!==t)),n}const jt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},jt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||we)(n,e,t);if(!s)return Object.assign({},jt);const i={};Ee(s.posParams,(e,t)=>{i[t]=e.path});const o=s.consumed.length>0?Object.assign(Object.assign({},i),s.consumed[s.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:o,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Bt(e,t,n,r,s="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>zt(e,t,n)&&Ut(n)!==ge)}(e,n,r)){const s=new Re(t,function(e,t,n,r){const s={};s[ge]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&Ut(i)!==ge){const n=new Re([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[Ut(i)]=n}return s}(e,t,r,new Re(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>zt(e,t,n))}(e,n,r)){const i=new Re(e.segments,function(e,t,n,r,s,i){const o={};for(const a of r)if(zt(e,n,a)&&!s[Ut(a)]){const n=new Re([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,o[Ut(a)]=n}return Object.assign(Object.assign({},s),o)}(e,t,n,r,e.children,s));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new Re(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function zt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ht(e,t,n,r){return!!(Ut(e)===r||r!==ge&&zt(t,n,e))&&("**"===e.path||qt(t,e,n).matched)}function Gt(e,t,n){return 0===t.length&&!e.children[n]}class Yt{constructor(e){this.segmentGroup=e||null}}class Kt{constructor(e){this.urlTree=e}}function Wt(e){return new h.y(t=>t.error(new Yt(e)))}function Xt(e){return new h.y(t=>t.error(new Kt(e)))}function Qt(e){return new h.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Zt{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}apply(){const e=Bt(this.urlTree.root,[],[],this.config).segmentGroup,t=new Re(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ge).pipe((0,j.U)(e=>this.createUrlTree(Jt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(k(e=>{if(e instanceof Kt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Yt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ge).pipe((0,j.U)(t=>this.createUrlTree(Jt(t),e.queryParams,e.fragment))).pipe(k(e=>{if(e instanceof Yt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Re([],{[ge]:e}):e;return new De(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,j.U)(e=>new Re([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return(0,y.D)(r).pipe((0,G.b)(r=>{const s=n.children[r],i=Vt(t,r);return this.expandSegmentGroup(e,i,s,r).pipe((0,j.U)(e=>({segment:e,outlet:r})))}),(0,H.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,O.h)((t,n)=>e(t,n,r)):M.y,D(1),n?(0,L.d)(t):(0,$.T)(()=>new b.K))}())}expandSegment(e,t,n,r,s,i){return(0,y.D)(n).pipe((0,G.b)(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,s,i).pipe(k(e=>{if(e instanceof Yt)return(0,v.of)(null);throw e}))),(0,Y.P)(e=>!!e),k((e,n)=>{if(e instanceof b.K||"EmptyError"===e.name){if(Gt(t,r,s))return(0,v.of)(new Re([],{}));throw new Yt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,s,i,o){return Ht(r,t,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i):Wt(t):Wt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xt(s):this.lineralizeSegments(n,s).pipe((0,K.zg)(n=>{const s=new Re(n,{});return this.expandSegment(e,s,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=qt(t,r,s);if(!o)return Wt(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Xt(u):this.lineralizeSegments(r,u).pipe((0,K.zg)(r=>this.expandSegment(e,t,n,r.concat(s.slice(c)),i,!1)))}matchSegmentAgainstRoute(e,t,n,r,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,v.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,j.U)(e=>(n._loadedConfig=e,new Re(r,{})))):(0,v.of)(new Re(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=qt(t,n,r);if(!i)return Wt(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,K.zg)(e=>{const r=e.module,i=e.routes,{segmentGroup:a,slicedSegments:l}=Bt(t,o,c,i),u=new Re(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,i,u).pipe((0,j.U)(e=>new Re(o,e)));if(0===i.length&&0===l.length)return(0,v.of)(new Re(o,{}));const h=Ut(n)===s;return this.expandSegment(r,u,i,l,h?ge:s,!0).pipe((0,j.U)(e=>new Re(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,v.of)(new xt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,v.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,K.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,j.U)(e=>(t._loadedConfig=e,e))):function(e){return new h.y(t=>t.error(ve(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,v.of)(new xt([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,v.of)(!0);const s=r.map(r=>{const s=e.get(r);let i;if(function(e){return e&&Ot(e.canLoad)}(s))i=s.canLoad(t,n);else{if(!Ot(s))throw new Error("Invalid CanLoad guard");i=s(t,n)}return Te(i)});return(0,v.of)(s).pipe(Rt(),(0,W.b)(e=>{if(!Nt(e))return;const t=ve(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,j.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,v.of)(n);if(r.numberOfChildren>1||!r.children[ge])return Qt(e.redirectTo);r=r.children[ge]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new De(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Ee(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[r]=t[s]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let i={};return Ee(t.children,(t,s)=>{i[s]=this.createSegmentGroup(e,t,n,r)}),new Re(s,i)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Jt(e){const t={};for(const n of Object.keys(e.children)){const r=Jt(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[ge]){const t=e.children[ge];return new Re(e.segments.concat(t.segments),t.children)}return e}(new Re(e.segments,t))}class en{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tn{constructor(e,t){this.component=e,this.route=t}}function nn(e,t,n){const r=e._root;return sn(r,t?t._root:null,n,[r.value])}function rn(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function sn(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=nt(t);return e.children.forEach(e=>{!function(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!$e(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$e(e.url,t.url)||!be(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dt(e,t)||!be(e.queryParams,t.queryParams);case"paramsChange":default:return!dt(e,t)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new en(r)):(i.data=o.data,i._resolvedData=o._resolvedData),sn(e,t,i.component?a?a.children:null:n,r,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new tn(a.outlet.component,o))}else o&&on(t,a,s),s.canActivateChecks.push(new en(r)),sn(e,null,i.component?a?a.children:null:n,r,s)}(e,i[e.value.outlet],n,r.concat([e.value]),s),delete i[e.value.outlet]}),Ee(i,(e,t)=>on(e,n.getContext(t),s)),s}function on(e,t,n){const r=nt(e),s=e.value;Ee(r,(e,r)=>{on(e,s.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new tn(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class an{}function cn(e){return new h.y(t=>t.error(e))}class ln{constructor(e,t,n,r,s,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=i}recognize(){const e=Bt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ge);if(null===t)return null;const n=new at([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ge,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tt(n,t),s=new ct(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=ot(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const r=t.children[s],i=Vt(e,s),o=this.processSegmentGroup(i,r,s);if(null===o)return null;n.push(...o)}const r=hn(n);return r.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const s of e){const e=this.processSegmentAgainstRoute(s,t,n,r);if(null!==e)return e}return Gt(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Ht(e,t,n,r))return null;let s,i=[],o=[];if("**"===e.path){const r=n.length>0?Ie(n).parameters:{};s=new at(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Ut(e),e.component,e,dn(t),fn(t)+n.length,gn(e))}else{const r=qt(t,e,n);if(!r.matched)return null;i=r.consumedSegments,o=n.slice(r.lastChild),s=new at(i,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Ut(e),e.component,e,dn(t),fn(t)+i.length,gn(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Bt(t,i,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new tt(s,e)]}if(0===a.length&&0===l.length)return[new tt(s,[])];const u=Ut(e)===r,h=this.processSegment(a,c,l,u?ge:r);return null===h?null:[new tt(s,h)]}}function un(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hn(e){const t=[],n=new Set;for(const r of e){if(!un(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=hn(r.children);t.push(new tt(r.value,e))}return t.filter(e=>!n.has(e))}function dn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function fn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function pn(e){return e.data||{}}function gn(e){return e.resolve||{}}function mn(e){return(0,q.w)(t=>{const n=e(t);return n?(0,y.D)(n).pipe((0,j.U)(()=>t)):(0,v.of)(t)})}class yn{}class vn extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wn=new s.OlP("ROUTES");class bn{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,j.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new xt(Se(r.injector.get(wn,void 0,s.XFs.Self|s.XFs.Optional)).map(Ft),r)}),k(e=>{throw t._loader$=void 0,e}));return t._loader$=new E.c(n,()=>new T.xQ).pipe((0,X.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,y.D)(this.loader.load(e)):Te(e()).pipe((0,K.zg)(e=>e instanceof s.YKP?(0,v.of)(e):(0,y.D)(this.compiler.compileModuleAsync(e))))}}class _n{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sn,this.attachRef=null}}class Sn{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _n,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class In{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function En(e){throw e}function Tn(e,t,n){return t.parse("/")}function Cn(e,t){return(0,v.of)(null)}const kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},An={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xn=(()=>{class e{constructor(e,t,n,r,i,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new T.xQ,this.errorHandler=En,this.malformedUriErrorHandler=Tn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cn,afterPreactivation:Cn},this.urlHandlingStrategy=new In,this.routeReuseStrategy=new vn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(s.h0i),this.console=i.get(s.c2e);const l=i.get(s.R0b);this.isNgZoneEnabled=l instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new De(new Re([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bn(o,a,e=>this.triggerEvent(new ce(e)),e=>this.triggerEvent(new le(e))),this.routerState=st(this.currentUrlTree,this.rootComponentType),this.transitions=new w.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,O.h)(e=>0!==e.id),(0,j.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,q.w)(e=>{let n=!1,r=!1;return(0,v.of)(e).pipe((0,W.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,q.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,v.of)(e).pipe((0,q.w)(e=>{const n=this.transitions.getValue();return t.next(new J(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?I.E:Promise.resolve(e)}),(r=this.ngModule.injector,s=this.configLoader,i=this.urlSerializer,o=this.config,(0,q.w)(e=>function(e,t,n,r,s){return new Zt(e,t,n,r,s).apply()}(r,s,i,e.extractedUrl,o).pipe((0,j.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,W.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,s){return(0,K.zg)(i=>function(e,t,n,r,s="emptyOnly",i="legacy"){try{const o=new ln(e,t,n,r,s,i).recognize();return null===o?cn(new an):(0,v.of)(o)}catch(o){return cn(o)}}(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),r,s).pipe((0,j.U)(e=>Object.assign(Object.assign({},i),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,W.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new re(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,s,i,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:s,restoredState:i,extras:o}=e,a=new J(n,this.serializeUrl(r),s,i);t.next(a);const c=st(r,this.rootComponentType).snapshot;return(0,v.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),I.E}),mn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),(0,W.b)(e=>{const t=new se(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,j.U)(e=>Object.assign(Object.assign({},e),{guards:nn(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,K.zg)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?(0,v.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,y.D)(e).pipe((0,K.zg)(e=>function(e,t,n,r,s){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||0===i.length)return(0,v.of)(!0);const o=i.map(i=>{const o=rn(i,t,s);let a;if(function(e){return e&&Ot(e.canDeactivate)}(o))a=Te(o.canDeactivate(e,t,n,r));else{if(!Ot(o))throw new Error("Invalid CanDeactivate guard");a=Te(o(e,t,n,r))}return a.pipe((0,Y.P)())});return(0,v.of)(o).pipe(Rt())}(e.component,e.route,n,t,r)),(0,Y.P)(e=>!0!==e,!0))}(o,r,s,e).pipe((0,K.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,y.D)(t).pipe((0,G.b)(t=>(0,_.z)(function(e,t){return null!==e&&t&&t(new ue(e)),(0,v.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new de(e)),(0,v.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>(0,S.P)(()=>{const s=t.guards.map(s=>{const i=rn(s,t.node,n);let o;if(function(e){return e&&Ot(e.canActivateChild)}(i))o=Te(i.canActivateChild(r,e));else{if(!Ot(i))throw new Error("Invalid CanActivateChild guard");o=Te(i(r,e))}return o.pipe((0,Y.P)())});return(0,v.of)(s).pipe(Rt())}));return(0,v.of)(s).pipe(Rt())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,v.of)(!0);const s=r.map(r=>(0,S.P)(()=>{const s=rn(r,t,n);let i;if(function(e){return e&&Ot(e.canActivate)}(s))i=Te(s.canActivate(t,e));else{if(!Ot(s))throw new Error("Invalid CanActivate guard");i=Te(s(t,e))}return i.pipe((0,Y.P)())}));return(0,v.of)(s).pipe(Rt())}(e,t.route,n))),(0,Y.P)(e=>!0!==e,!0))}(r,i,e,t):(0,v.of)(n)),(0,j.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,W.b)(e=>{if(Nt(e.guardsResult)){const t=ve(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new ie(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,O.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),mn(e=>{if(e.guards.canActivateChecks.length)return(0,v.of)(e).pipe((0,W.b)(e=>{const t=new oe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,q.w)(e=>{let t=!1;return(0,v.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,K.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,v.of)(e);let i=0;return(0,y.D)(s).pipe((0,G.b)(e=>function(e,t,n,r){return function(e,t,n,r){const s=Object.keys(e);if(0===s.length)return(0,v.of)({});const i={};return(0,y.D)(s).pipe((0,K.zg)(s=>function(e,t,n,r){const s=rn(e,t,r);return Te(s.resolve?s.resolve(t,n):s(t,n))}(e[s],t,n,r).pipe((0,W.b)(e=>{i[s]=e}))),D(1),(0,K.zg)(()=>Object.keys(i).length===s.length?(0,v.of)(i):I.E))}(e._resolve,e,t,r).pipe((0,j.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ot(e,n).resolve),null)))}(e.route,t,n,r)),(0,W.b)(()=>i++),D(1),(0,K.zg)(t=>i===s.length?(0,v.of)(e):I.E))})),(0,W.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,W.b)(e=>{const t=new ae(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),mn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),(0,j.U)(e=>{const t=function(e,t,n){const r=ft(e,t._root,n?n._root:void 0);return new rt(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,W.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,j.U)(e=>(new kt(o,e.targetRouterState,e.currentRouterState,a).activate(i),e))),(0,W.b)({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null},e=>e.lift(new U(s))),k(n=>{if(r=!0,(s=n)&&s.ngNavigationCancelingError){const r=Nt(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const s=new te(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new ne(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}var s;return I.E}));var s,i,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,s={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(s.state=e)}this.scheduleNavigation(r,e,n,s)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){$t(e),this.config=e.map(Ft),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:s,queryParamsHandling:i,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:s;let l=null;switch(i){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,s){if(0===n.length)return yt(t.root,t.root,t,r,s);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wt(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Ee(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===s?(r.split("/").forEach((r,s)=>{0==s&&"."===r||(0==s&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new wt(n,t,r)}(n);if(i.toRoot())return yt(t.root,new Re([],{}),t,r,s);const o=function(e,t,n){if(e.isAbsolute)return new bt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new bt(e,e===t.root,0)}const r=gt(e.commands[0])?0:1;return function(e,t,n){let r=e,s=t,i=n;for(;i>s;){if(i-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new bt(r,!1,s-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(i,t,e),a=o.processChildren?St(o.segmentGroup,o.index,i.commands):_t(o.segmentGroup,o.index,i.commands);return yt(o.segmentGroup,a,t,r,s)}(a,this.currentUrlTree,e,l,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Nt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},kn):!1===t?Object.assign({},An):t,Nt(e))return Ae(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Ae(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,s){var i,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c="imperative"!==t&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);let u,h,d;s?(u=s.resolve,h=s.reject,d=s.promise):d=new Promise((e,t)=>{u=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(i=this.browserPageId)&&void 0!==i?i:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new te(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.DyG),s.LFG(Le),s.LFG(Sn),s.LFG(r.Ye),s.LFG(s.zs3),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),On=(()=>{class e{constructor(e,t,n,r,s){this.router=e,this.route=t,this.commands=[],this.onChanges=new T.xQ,null==n&&r.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Dn(this.skipLocationChange),replaceUrl:Dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(xn),s.Y36(it),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e})(),Nn=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new T.xQ,this.subscription=e.events.subscribe(e=>{e instanceof ee&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,s){if(0!==e||t||n||r||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Dn(this.skipLocationChange),replaceUrl:Dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(xn),s.Y36(it),s.Y36(r.S$))},e.\u0275dir=s.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(s.Ikx("href",t.href,s.LSH),s.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e})();function Dn(e){return""===e||!!e}let Rn=(()=>{class e{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.name=r||ge,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,s=new Pn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Sn),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},e.\u0275dir=s.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Pn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===it?this.route:e===Sn?this.childContexts:this.parent.get(e,t)}}class $n{}class Ln{preload(e,t){return t().pipe(k(()=>(0,v.of)(null)))}}class Mn{preload(e,t){return(0,v.of)(null)}}let Fn=(()=>{class e{constructor(e,t,n,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new bn(t,n,t=>e.triggerEvent(new ce(t)),t=>e.triggerEvent(new le(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,O.h)(e=>e instanceof ee),(0,G.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,y.D)(n).pipe((0,Q.J)(),(0,j.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,v.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,K.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(xn),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG($n))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),Un=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof J?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ee&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pe&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new pe(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(xn),s.LFG(r.EM),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const Vn=new s.OlP("ROUTER_CONFIGURATION"),jn=new s.OlP("ROUTER_FORROOT_GUARD"),qn=[r.Ye,{provide:Le,useClass:Me},{provide:xn,useFactory:function(e,t,n,r,s,i,o,a={},c,l){const u=new xn(null,e,t,n,r,s,i,Se(o));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Le,Sn,r.Ye,s.zs3,s.v3s,s.Sil,wn,Vn,[class{},new s.FiY],[yn,new s.FiY]]},Sn,{provide:it,useFactory:function(e){return e.routerState.root},deps:[xn]},{provide:s.v3s,useClass:s.EAV},Fn,Mn,Ln,{provide:Vn,useValue:{enableTracing:!1}}];function Bn(){return new s.PXZ("Router",xn)}let zn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[qn,Kn(t),{provide:jn,useFactory:Yn,deps:[[xn,new s.FiY,new s.tp0]]},{provide:Vn,useValue:n||{}},{provide:r.S$,useFactory:Gn,deps:[r.lw,[new s.tBr(r.mr),new s.FiY],Vn]},{provide:Un,useFactory:Hn,deps:[xn,r.EM,Vn]},{provide:$n,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mn},{provide:s.PXZ,multi:!0,useFactory:Bn},[Wn,{provide:s.ip1,multi:!0,useFactory:Xn,deps:[Wn]},{provide:Zn,useFactory:Qn,deps:[Wn]},{provide:s.tb,multi:!0,useExisting:Zn}]]}}static forChild(t){return{ngModule:e,providers:[Kn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(jn,8),s.LFG(xn,8))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})();function Hn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Un(e,t,n)}function Gn(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function Yn(e){return"guarded"}function Kn(e){return[{provide:s.deG,multi:!0,useValue:e},{provide:wn,multi:!0,useValue:e}]}let Wn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new T.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(xn),r=this.injector.get(Vn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,v.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Vn),n=this.injector.get(Fn),r=this.injector.get(Un),i=this.injector.get(xn),o=this.injector.get(s.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function Xn(e){return e.appInitializer.bind(e)}function Qn(e){return e.bootstrapListener.bind(e)}const Zn=new s.OlP("Router Initializer")},9847:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(1855),s=n(1301),i=n(7272),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Encode={TEXT_TYPE:"TEXT_TYPE",EMAIL_TYPE:"EMAIL_TYPE",PHONE_TYPE:"PHONE_TYPE",SMS_TYPE:"SMS_TYPE"},t}return(0,r.ZT)(t,e),t.prototype.scan=function(e){return(0,s.DM)(this,"scan",{callbackOrder:"reverse"},arguments)},t.prototype.encode=function(e,t){return(0,s.DM)(this,"encode",{},arguments)},t.pluginName="BarcodeScanner",t.plugin="phonegap-plugin-barcodescanner",t.pluginRef="cordova.plugins.barcodeScanner",t.repo="https://github.com/phonegap/phonegap-plugin-barcodescanner",t.platforms=["Android","BlackBerry 10","Browser","iOS","Windows"],t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(s.On)},1301:(e,t,n)=>{"use strict";n.d(t,{On:()=>w,DM:()=>b,e4:()=>_,G5:()=>f});var r=n(3948),s=n(4958),i={error:"cordova_not_available"},o={error:"plugin_not_installed"};function a(e){if("undefined"!=typeof window&&window.angular){var t=window.document,n=window.angular.element(t.querySelector("[ng-app]")||t.body).injector();if(n)return n.get("$q")(function(t,n){e(t,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(t,n){e(t,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function c(e,t,n,r){var s,i;void 0===r&&(r={});var o=a(function(o,a){s=r.destruct?g(e,t,n,r,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}):g(e,t,n,r,o,a),i=a});return s&&s.error&&(o.catch(function(){}),"function"==typeof i&&i(s.error)),o}function l(e,t,n,r){return void 0===r&&(r={}),a(function(s,i){var o=g(e,t,n,r);o?o.error?i(o.error):o.then&&o.then(s).catch(i):i({error:"unexpected_error"})})}function u(e,t,n,s){return void 0===s&&(s={}),new r.y(function(r){var i;return(i=s.destruct?g(e,t,n,s,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.error(e)}):g(e,t,n,s,r.next.bind(r),r.error.bind(r)))&&i.error&&(r.error(i.error),r.complete()),function(){try{if(s.clearFunction)return s.clearWithArgs?g(e,s.clearFunction,n,s,r.next.bind(r),r.error.bind(r)):g(e,s.clearFunction,[])}catch(i){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(i)}}})}function h(e,t){return t="undefined"!=typeof window&&t?v(window,t):t||("undefined"!=typeof window?window:{}),(0,s.R)(t,e)}function d(e,t,n){var r,s;"string"==typeof e?r=e:(r=e.constructor.getPluginRef(),n=e.constructor.getPluginName(),s=e.constructor.getPluginInstallName());var a=y(r);return!(!a||t&&void 0===a[t])||("undefined"!=typeof window&&window.cordova?(function(e,t,n){n?console.warn("Native: tried calling "+e+"."+n+", but the "+e+" plugin is not installed."):console.warn("Native: tried accessing the "+e+" plugin but it's not installed."),t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}(n,s,t),o):(function(e,t){"undefined"==typeof process&&(t?console.warn("Native: tried calling "+e+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(n,t),i))}function f(e,t){return e._objectInstance&&(!t||void 0!==e._objectInstance[t])}function p(e,t,n,r){if(void 0===t&&(t={}),t.sync)return e;if("reverse"===t.callbackOrder)e.unshift(r),e.unshift(n);else if("node"===t.callbackStyle)e.push(function(e,t){e?r(e):n(t)});else if("object"===t.callbackStyle&&t.successName&&t.errorName){var s={};s[t.successName]=n,s[t.errorName]=r,e.push(s)}else if(void 0!==t.successIndex||void 0!==t.errorIndex){var i=function(){t.successIndex>e.length?e[t.successIndex]=n:e.splice(t.successIndex,0,n)},o=function(){t.errorIndex>e.length?e[t.errorIndex]=r:e.splice(t.errorIndex,0,r)};t.successIndex>t.errorIndex?(o(),i()):(i(),o())}else e.push(n),e.push(r);return e}function g(e,t,n,r,s,i){void 0===r&&(r={}),n=p(n,r,s,i);var o=d(e,t);if(!0===o){var a=y(e.constructor.getPluginRef());return a[t].apply(a,n)}return o}function m(e,t,n,r,s,i){if(void 0===r&&(r={}),n=p(n,r,s,i),f(e,t))return e._objectInstance[t].apply(e._objectInstance,n)}function y(e){return"undefined"!=typeof window?v(window,e):null}function v(e,t){for(var n=t.split("."),r=e,s=0;s<n.length;s++){if(!r)return null;r=r[n[s]]}return r}var w=function(){function e(){}return e.installed=function(){return!0===d(this.pluginRef)},e.getPlugin=function(){return"undefined"!=typeof window?function(e,t){for(var n=t.split("."),r=e,s=0;s<n.length;s++){if(!r)return null;r=r[n[s]]}return r}(window,this.pluginRef):null},e.getPluginName=function(){return this.pluginName},e.getPluginRef=function(){return this.pluginRef},e.getPluginInstallName=function(){return this.plugin},e.getSupportedPlatforms=function(){return this.platforms},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function b(e,t,n,r){return function(e,t,n){return void 0===n&&(n={}),function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return n.sync?g(e,t,r,n):n.observable?u(e,t,r,n):n.eventObservable&&n.event?h(n.event,n.element):n.otherPromise?l(e,t,r,n):c(e,t,r,n)}}(e,t,n).apply(this,r)}function _(e,t,n,s){return s=Array.from(s),function(e,t,n){return void 0===n&&(n={}),function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n.sync)return m(e,t,s,n);if(n.observable)return new r.y(function(r){var i;return(i=n.destruct?m(e,t,s,n,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.error(e)}):m(e,t,s,n,r.next.bind(r),r.error.bind(r)))&&i.error&&r.error(i.error),function(){try{return n.clearWithArgs?m(e,n.clearFunction,s,n,r.next.bind(r),r.error.bind(r)):m(e,n.clearFunction,[])}catch(i){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(i)}}});if(n.otherPromise)return a(function(r,i){var o;(o=n.destruct?m(e,t,s,n,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}):m(e,t,s,n,r,i))&&o.then?o.then(r,i):i()});var o,c,l=a(function(r,i){o=n.destruct?m(e,t,s,n,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}):m(e,t,s,n,r,i),c=i});return o&&o.error&&(l.catch(function(){}),"function"==typeof c&&c(o.error)),l}}(e,t,n).apply(this,s)}!function(){if("undefined"==typeof process){var e="undefined"!=typeof window?window:{},t=Date.now(),n=!1;e.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),n=!0}),setTimeout(function(){!n&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},3139:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var r=n(1855),s=n(1301),i=n(3948),o=n(7272),a=function(){function e(e,t,n){try{n&&"string"!=typeof n&&(n=Object.keys(n).map(function(e){return e+"="+n[e]}).join(",")),this._objectInstance=cordova.InAppBrowser.open(e,t,n)}catch(r){"undefined"!=typeof window&&window.open(e,t),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.")}}return e.prototype._loadAfterBeforeload=function(e){return(0,s.e4)(this,"_loadAfterBeforeload",{sync:!0},arguments)},e.prototype.show=function(){return(0,s.e4)(this,"show",{sync:!0},arguments)},e.prototype.close=function(){return(0,s.e4)(this,"close",{sync:!0},arguments)},e.prototype.hide=function(){return(0,s.e4)(this,"hide",{sync:!0},arguments)},e.prototype.executeScript=function(e){return(0,s.e4)(this,"executeScript",{},arguments)},e.prototype.insertCSS=function(e){return(0,s.e4)(this,"insertCSS",{},arguments)},e.prototype.on=function(e){var t=this;return function(){if(!0===(0,s.G5)(t))return new i.y(function(n){return t._objectInstance.addEventListener(e,n.next.bind(n)),function(){return t._objectInstance.removeEventListener(e,n.next.bind(n))}})}()},e.prototype.on=function(e){var t=this;return function(){if(!0===(0,s.G5)(t))return new i.y(function(n){return t._objectInstance.addEventListener(e,n.next.bind(n)),function(){return t._objectInstance.removeEventListener(e,n.next.bind(n))}})}()},e}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.create=function(e,t,n){return new a(e,t,n)},t.pluginName="InAppBrowser",t.plugin="cordova-plugin-inappbrowser",t.pluginRef="cordova.InAppBrowser",t.repo="https://github.com/apache/cordova-plugin-inappbrowser",t.platforms=["AmazonFire OS","Android","Browser","iOS","macOS","Windows"],t.\u0275fac=function(){var e;return function(n){return(e||(e=o.n5z(t)))(n||t)}}(),t.\u0275prov=o.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(s.On)},129:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(1855),s=n(1301),i=n(7272),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.share=function(e,t,n,r){return(0,s.DM)(this,"share",{successIndex:4,errorIndex:5},arguments)},t.prototype.shareWithOptions=function(e){return(0,s.DM)(this,"shareWithOptions",{platforms:["iOS","Android"]},arguments)},t.prototype.canShareVia=function(e,t,n,r,i){return(0,s.DM)(this,"canShareVia",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},t.prototype.shareViaTwitter=function(e,t,n){return(0,s.DM)(this,"shareViaTwitter",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},t.prototype.shareViaFacebook=function(e,t,n){return(0,s.DM)(this,"shareViaFacebook",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},t.prototype.shareViaFacebookWithPasteMessageHint=function(e,t,n,r){return(0,s.DM)(this,"shareViaFacebookWithPasteMessageHint",{successIndex:4,errorIndex:5,platforms:["iOS","Android"]},arguments)},t.prototype.shareViaInstagram=function(e,t){return(0,s.DM)(this,"shareViaInstagram",{platforms:["iOS","Android"]},arguments)},t.prototype.shareViaWhatsApp=function(e,t,n){return(0,s.DM)(this,"shareViaWhatsApp",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},t.prototype.shareViaWhatsAppToReceiver=function(e,t,n,r){return(0,s.DM)(this,"shareViaWhatsAppToReceiver",{successIndex:4,errorIndex:5,platforms:["iOS","Android"]},arguments)},t.prototype.shareViaSMS=function(e,t){return(0,s.DM)(this,"shareViaSMS",{platforms:["iOS","Android"]},arguments)},t.prototype.canShareViaEmail=function(){return(0,s.DM)(this,"canShareViaEmail",{platforms:["iOS","Android"]},arguments)},t.prototype.shareViaEmail=function(e,t,n,r,i,o){return(0,s.DM)(this,"shareViaEmail",{platforms:["iOS","Android"],successIndex:6,errorIndex:7},arguments)},t.prototype.shareVia=function(e,t,n,r,i){return(0,s.DM)(this,"shareVia",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},t.prototype.setIPadPopupCoordinates=function(e){return(0,s.DM)(this,"setIPadPopupCoordinates",{sync:!0,platforms:["iOS"]},arguments)},t.prototype.saveToPhotoAlbum=function(e){return(0,s.DM)(this,"saveToPhotoAlbum",{platforms:["iOS"]},arguments)},t.prototype.shareViaWhatsAppToPhone=function(e,t,n,r){return(0,s.DM)(this,"shareViaWhatsAppToPhone",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},t.pluginName="SocialSharing",t.plugin="cordova-plugin-x-socialsharing",t.pluginRef="plugins.socialsharing",t.repo="https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin",t.platforms=["Android","Browser","iOS","Windows","Windows Phone"],t.\u0275fac=function(){var e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(s.On)},159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(9870),s=n(9171),i=n(5871),o=n(4560);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,i._addComponent)(e,new s.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(e,t=i._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,i._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,i._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(s,o={}){const a=i.initializeApp(s,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:s,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(i._registerComponent(t)&&"PUBLIC"===t.type){const i=(e=s())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(i,t.serviceProps),n[a]=i,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:i}};function s(e){if(!(0,r.r3)(t,e=e||i._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),s.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=l;(0,i.registerVersion)("@firebase/app-compat","0.1.19",void 0)},5871:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>i.ZR,SDK_VERSION:()=>I,_DEFAULT_ENTRY_NAME:()=>h,_addComponent:()=>g,_addOrOverwriteComponent:()=>m,_apps:()=>f,_clearComponents:()=>b,_components:()=>p,_getProvider:()=>v,_registerComponent:()=>y,_removeServiceInstance:()=>w,deleteApp:()=>k,getApp:()=>T,getApps:()=>C,initializeApp:()=>E,onLog:()=>x,registerVersion:()=>A,setLogLevel:()=>O});var r=n(9171),s=n(4560),i=n(9870),o=n(2842);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",l="0.7.18",u=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function m(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(p.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;p.set(t,e);for(const n of f.values())g(n,e);return!0}function v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function w(e,t,n=h){v(e,t).clearInstance(n)}function b(){p.clear()}const _=new i.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class S{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}const I="9.6.8";function E(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),s=n.name;if("string"!=typeof s||!s)throw _.create("bad-app-name",{appName:String(s)});const o=f.get(s);if(o){if((0,i.vZ)(e,o.options)&&(0,i.vZ)(n,o.config))return o;throw _.create("duplicate-app",{appName:s})}const a=new r.H0(s);for(const r of p.values())a.addComponent(r);const c=new S(e,n,a);return f.set(s,c),c}function T(e=h){const t=f.get(e);if(!t)throw _.create("no-app",{appName:e});return t}function C(){return Array.from(f.values())}async function k(e){const t=e.name;f.has(t)&&(f.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function A(e,t,n){var s;let i=null!==(s=d[e])&&void 0!==s?s:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}y(new r.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw _.create("invalid-log-argument");(0,s.Am)(e,t)}function O(e){(0,s.Ub)(e)}const N="firebase-heartbeat-store";let D=null;function R(){return D||(D=(0,o.openDb)("firebase-heartbeat-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(N)}}).catch(e=>{throw _.create("storage-open",{originalErrorMessage:e.message})})),D}async function P(e,t){try{const n=(await R()).transaction(N,"readwrite"),r=n.objectStore(N);return await r.put(t,$(e)),n.complete}catch(n){throw _.create("storage-set",{originalErrorMessage:n.message})}}function $(e){return`${e.name}!${e.options.appId}`}class L{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new M(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=(new Date).toISOString().substring(0,10);if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!this._heartbeatsCache.some(e=>e.date===t))return this._heartbeatsCache.push({date:t,userAgent:e}),this._heartbeatsCache=this._heartbeatsCache.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache)return"";const{heartbeatsToSend:e,unsentEntries:t}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.userAgent===s.userAgent);if(e){if(e.dates.push(s.date),F(n)>t){e.dates.pop();break}}else if(n.push({userAgent:s.userAgent,dates:[s.date]}),F(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache),n=(0,i.h$)(JSON.stringify({version:2,heartbeats:e}));return t.length>0?(this._heartbeatsCache=t,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache=null,this._storage.deleteAll()),n}}class M{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.hl)()&&(0,i.eu)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{return(await R()).transaction(N).objectStore(N).get($(e))}catch(t){throw _.create("storage-get",{originalErrorMessage:t.message})}}(this.app);return(null==e?void 0:e.heartbeats)||[]}return[]}async overwrite(e){return await this._canUseIndexedDBPromise?P(this.app,{heartbeats:e}):void 0}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return P(this.app,{heartbeats:[...t,...e]})}}async delete(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return P(this.app,{heartbeats:t.filter(t=>!e.includes(t))})}}async deleteAll(){return await this._canUseIndexedDBPromise?async function(e){try{const t=(await R()).transaction(N,"readwrite");return await t.objectStore(N).delete($(e)),t.complete}catch(t){throw _.create("storage-delete",{originalErrorMessage:t.message})}}(this.app):void 0}}function F(e){return(0,i.h$)(JSON.stringify({version:2,heartbeats:e})).length}y(new r.wA("platform-logger",e=>new a(e),"PRIVATE")),y(new r.wA("heartbeat",e=>new L(e),"PRIVATE")),A(c,l,""),A(c,l,"esm2017"),A("fire-js","")},9171:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>a});var r=n(9870);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(s)&&i.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===i?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(s){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},4560:(e,t,n)=>{"use strict";n.d(t,{in:()=>s,Yd:()=>l,Ub:()=>u,Am:()=>h});const r=[];var s=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={})),s))();const i={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},o=s.INFO,a={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),s=a[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${r}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...e),this._logHandler(this,s.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...e),this._logHandler(this,s.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,s.INFO,...e),this._logHandler(this,s.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,s.WARN,...e),this._logHandler(this,s.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...e),this._logHandler(this,s.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=i[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:o,args:i,type:t.name})}}}},9870:(e,t,n)=>{"use strict";n.d(t,{BH:()=>l,LL:()=>T,ZR:()=>E,zI:()=>I,US:()=>s,tV:()=>a,h$:()=>i,$s:()=>M,r3:()=>k,Sg:()=>u,ne:()=>P,vZ:()=>x,ZB:()=>c,pd:()=>R,m9:()=>F,z$:()=>h,jU:()=>p,ru:()=>g,d:()=>y,xb:()=>A,w1:()=>v,hl:()=>_,uI:()=>d,UG:()=>f,b$:()=>m,G6:()=>b,Mn:()=>w,xO:()=>N,zd:()=>D,eu:()=>S});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,o=i?e[s+1]:0,a=s+2<e.length,c=a?e[s+2]:0;let l=(15&o)<<2|c>>6,u=63&c;a||(u=64,i||(l=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[l],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const o=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==o||null==a)throw Error();r.push(t<<2|i>>4),64!==o&&(r.push(i<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},i=function(e){const t=r(e);return s.encodeByteArray(t,!0)},o=function(e){return i(e).replace(/\./g,"")},a=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=c(e[n],t[n]));return e}class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(i)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return h().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return"object"==typeof indexedDB}function S(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function I(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?function(e,t){return e.replace(C,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error";return new E(r,`${this.serviceName}: ${i} (${r}).`,n)}}const C=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(O(n)&&O(i)){if(!x(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function N(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function D(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function R(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function P(e,t){const n=new $(e,t);return n.subscribe.bind(n)}class ${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L(){}function M(e,t=1e3,n=2){const r=t*Math.pow(n,e),s=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+s)}function F(e){return e&&e._delegate?e._delegate:e}},8620:(e,t,n)=>{"use strict";function r(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function s(e,t){return function(n,r){t(n,r,e)}}function i(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}n.d(t,{BX:()=>ht,Br:()=>dt,w:()=>P,dr:()=>ee,BJ:()=>te,oU:()=>ne,cs:()=>ct,yp:()=>re,YG:()=>se,Sm:()=>ie,PM:()=>oe,FN:()=>ae,Zi:()=>ce,tO:()=>le,gZ:()=>ue,wI:()=>he,W2:()=>de,x4:()=>fe,IJ:()=>pe,W4:()=>ge,zq:()=>me,fr:()=>ye,jY:()=>ve,Gu:()=>we,gu:()=>be,Xz:()=>_e,pK:()=>Se,Ie:()=>Ie,Q$:()=>Ee,q_:()=>Te,z0:()=>Ce,zc:()=>ke,B7:()=>Ae,se:()=>xe,jP:()=>ot,Nd:()=>Oe,t9:()=>Ne,n0:()=>De,A$:()=>Re,Hr:()=>Pe,yW:()=>$e,g2:()=>Le,wd:()=>Me,ho:()=>Fe,sr:()=>Ue,Pc:()=>Ct,r4:()=>It,_q:()=>pt,IN:()=>mt,as:()=>L,t4:()=>B,U5:()=>F,YI:()=>lt,QI:()=>V,j9:()=>q,yF:()=>vt});var o=n(7272),a=n(4988),c=n(6274),l=n(8895),u=n(6760),h=(n(7438),n(765),n(6943)),d=n(4366),f=n(4973),p=n(5392),g=n(5614),m=n(7501),y=n(1092),v=(n(5901),n(5133)),w=n(6006),b=n(4958),_=n(9923),S=n(3305),I=n(2812),E=n(7689);const T=f.i,C=["*"],k=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let A=(()=>{class e{constructor(e,t){this.injector=e,this.el=t,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,x(this.el)}handleChangeEvent(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),x(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),x(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(a.a5)}catch(n){}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>x(this.el)));const t=e.control;t&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(e=>{if(t[e]){const n=t[e].bind(t);t[e]=(...e)=>{n(...e),x(this.el)}}})}}return e.\u0275fac=function(e){o.$Z()},e.\u0275dir=o.lG2({type:e,hostBindings:function(e,t){1&e&&o.NdJ("ionBlur",function(e){return t._handleBlurEvent(e.target)})}}),r([(0,o.L6J)("ionBlur",["$event.target"])],e.prototype,"_handleBlurEvent",null),e})();const x=e=>{k(()=>{const t=e.nativeElement,n=O(t);N(t,n);const r=t.closest("ion-item");r&&N(r,n)})},O=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const e=t.item(r);null!==e&&D(e,"ng-")&&n.push(`ion-${e.substr(3)}`)}return n},N=(e,t)=>{const n=e.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(e=>n.remove(e)),t.forEach(e=>n.add(e))},D=(e,t)=>e.substr(0,t.length)===t;var R;let P=R=class extends A{constructor(e,t){super(e,t)}writeValue(e){this.el.nativeElement.checked=this.lastValue=null!=e&&e,x(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}};var $;P.\u0275fac=function(e){return new(e||P)(o.Y36(o.zs3),o.Y36(o.SBq))},P.\u0275dir=o.lG2({type:P,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:R,multi:!0}]),o.qOj]}),P.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],P.prototype,"_handleIonChange",null);let L=$=class extends A{constructor(e,t){super(e,t)}_handleIonChange(e){this.handleChangeEvent(e,e.value)}registerOnChange(e){super.registerOnChange(t=>{e(""===t?null:parseFloat(t))})}};var M;L.\u0275fac=function(e){return new(e||L)(o.Y36(o.zs3),o.Y36(o.SBq))},L.\u0275dir=o.lG2({type:L,selectors:[["ion-input","type","number"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:$,multi:!0}]),o.qOj]}),L.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],L.prototype,"_handleIonChange",null);let F=M=class extends A{constructor(e,t){super(e,t)}_handleIonSelect(e){this.handleChangeEvent(e,e.checked)}};var U;F.\u0275fac=function(e){return new(e||F)(o.Y36(o.zs3),o.Y36(o.SBq))},F.\u0275dir=o.lG2({type:F,selectors:[["ion-radio"]],hostBindings:function(e,t){1&e&&o.NdJ("ionSelect",function(e){return t._handleIonSelect(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:M,multi:!0}]),o.qOj]}),F.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionSelect",["$event.target"])],F.prototype,"_handleIonSelect",null);let V=U=class extends A{constructor(e,t){super(e,t)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}};var j;V.\u0275fac=function(e){return new(e||V)(o.Y36(o.zs3),o.Y36(o.SBq))},V.\u0275dir=o.lG2({type:V,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleChangeEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:U,multi:!0}]),o.qOj]}),V.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],V.prototype,"_handleChangeEvent",null);let q=j=class extends A{constructor(e,t){super(e,t)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}};q.\u0275fac=function(e){return new(e||q)(o.Y36(o.zs3),o.Y36(o.SBq))},q.\u0275dir=o.lG2({type:q,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleInputEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:j,multi:!0}]),o.qOj]}),q.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],q.prototype,"_handleInputEvent",null);let B=class{constructor(e,t){this.doc=e,this.backButton=new w.xQ,this.keyboardDidShow=new w.xQ,this.keyboardDidHide=new w.xQ,this.pause=new w.xQ,this.resume=new w.xQ,this.resize=new w.xQ,t.run(()=>{let n;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(e,n){return this.subscribe(r=>r.register(e,e=>t.run(()=>n(e))))},H(this.pause,e,"pause"),H(this.resume,e,"resume"),H(this.backButton,e,"ionBackButton"),H(this.resize,this.win,"resize"),H(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),H(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(e=>{n=e}),this.win&&this.win.cordova?e.addEventListener("deviceready",()=>{n("cordova")},{once:!0}):n("dom")})}is(e){return(0,f.a)(this.win,e)}platforms(){return(0,f.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return z(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(e){const t=this.win.navigator;return!!(t&&t.userAgent&&t.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};B.\u0275fac=function(e){return new(e||B)(o.LFG(c.K0),o.LFG(o.R0b))},B.\u0275prov=o.Yz7({token:B,factory:function(e){return B.\u0275fac(e)},providedIn:"root"}),B.ngInjectableDef=(0,o.Yz7)({factory:function(){return new B((0,o.LFG)(c.K0),(0,o.LFG)(o.R0b))},token:B,providedIn:"root"}),B=r([s(0,(0,o.tBr)(c.K0))],B);const z=(e,t)=>{t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},H=(e,t,n)=>{t&&t.addEventListener(n,t=>{e.next(null!=t?t.detail:void 0)})};let G=class{constructor(e,t,n,r){this.location=t,this.serializer=n,this.router=r,this.direction=K,this.animated=W,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(e=>{if(e instanceof l.OD){const t=e.restoredState?e.restoredState.navigationId:e.id;this.guessDirection=t<this.lastNavId?"back":"forward",this.guessAnimation=e.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?e.id:t}}),e.backButton.subscribeWithPriority(0,e=>{this.pop(),e()})}navigateForward(e,t={}){return this.setDirection("forward",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateBack(e,t={}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateRoot(e,t={}){return this.setDirection("root",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return i(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,t,n,r){this.direction=e,this.animated=Y(e,t,n),this.animationBuilder=r}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let e,t="root";const n=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,e=this.guessAnimation):(e=this.animated,t=this.direction),this.direction=K,this.animated=W,this.animationBuilder=void 0,{direction:t,animation:e,animationBuilder:n}}navigate(e,t){if(Array.isArray(e))return this.router.navigate(e,t);{const n=this.serializer.parse(e.toString());return void 0!==t.queryParams&&(n.queryParams=Object.assign({},t.queryParams)),void 0!==t.fragment&&(n.fragment=t.fragment),this.router.navigateByUrl(n,t)}}};G.\u0275fac=function(e){return new(e||G)(o.LFG(B),o.LFG(c.Ye),o.LFG(l.Hx),o.LFG(l.F0,8))},G.\u0275prov=o.Yz7({token:G,factory:function(e){return G.\u0275fac(e)},providedIn:"root"}),G.ngInjectableDef=(0,o.Yz7)({factory:function(){return new G((0,o.LFG)(B),(0,o.LFG)(c.Ye),(0,o.LFG)(l.Hx),(0,o.LFG)(l.F0,8))},token:G,providedIn:"root"}),G=r([s(3,(0,o.FiY)())],G);const Y=(e,t,n)=>{if(!1!==t)return void 0!==n?n:"forward"===e||"back"===e?e:"root"===e&&!0===t?"forward":void 0},K="auto",W=void 0,X=(e,t)=>{const n=e.prototype;t.forEach(e=>{Object.defineProperty(n,e,{get(){return this.el[e]},set(t){this.z.runOutsideAngular(()=>this.el[e]=t)}})})},Q=(e,t)=>{const n=e.prototype;t.forEach(e=>{n[e]=function(){const t=arguments;return this.z.runOutsideAngular(()=>this.el[e].apply(this.el,t))}})},Z=(e,t,n)=>{n.forEach(n=>e[n]=(0,b.R)(t,n))};function J(e){return function(t){return e.inputs&&X(t,e.inputs),e.methods&&Q(t,e.methods),t}}let ee=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-app"]],ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),te=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-avatar"]],ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),ne=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],e),e})(),re=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","mode"]})],e),e})(),se=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),ie=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["collapse"]})],e),e})(),oe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),ae=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["mode"]})],e),e})(),ce=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","mode","translucent"]})],e),e})(),le=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","mode"]})],e),e})(),ue=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","mode"]})],e),e})(),he=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],e),e})(),de=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),fe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",dayNames:"dayNames",dayShortNames:"dayShortNames",dayValues:"dayValues",disabled:"disabled",displayFormat:"displayFormat",displayTimezone:"displayTimezone",doneText:"doneText",hourValues:"hourValues",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthNames:"monthNames",monthShortNames:"monthShortNames",monthValues:"monthValues",name:"name",pickerFormat:"pickerFormat",pickerOptions:"pickerOptions",placeholder:"placeholder",readonly:"readonly",value:"value",yearValues:"yearValues"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["cancelText","dayNames","dayShortNames","dayValues","disabled","displayFormat","displayTimezone","doneText","hourValues","max","min","minuteValues","mode","monthNames","monthShortNames","monthValues","name","pickerFormat","pickerOptions","placeholder","readonly","value","yearValues"],methods:["open"]})],e),e})(),pe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],e),e})(),ge=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],e),e})(),me=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["activated","side"]})],e),e})(),ye=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-footer"]],inputs:{mode:"mode",translucent:"translucent"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["mode","translucent"]})],e),e})(),ve=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["fixed"]})],e),e})(),we=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["collapse","mode","translucent"]})],e),e})(),be=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),_e=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["alt","src"]})],e),e})(),Se=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Ie=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),Ee=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","mode","position"]})],e),e})(),Te=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),Ce=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],e),e})(),ke=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["autoHide","menu"]})],e),e})(),Ae=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-radio"]],inputs:{color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","disabled","mode","name","value"]})],e),e})(),xe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionChange"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["allowEmptySelection","name","value"]})],e),e})(),Oe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-row"]],ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),Ne=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],e),e})(),De=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["disabled","value"]})],e),e})(),Re=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-slide"]],ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),Pe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-slides"]],inputs:{mode:"mode",options:"options",pager:"pager",scrollbar:"scrollbar"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],e),e})(),$e=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","mode"]})],e),e})(),Le=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],e),e})(),Me=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","size"]})],e),e})(),Fe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,Z(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["checked","color","disabled","mode","name","value"]})],e),e})(),Ue=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([J({inputs:["color","mode"]})],e),e})(),Ve=class{get(e,t){const n=qe();return n?n.get(e,t):null}getBoolean(e,t){const n=qe();return!!n&&n.getBoolean(e,t)}getNumber(e,t){const n=qe();return n?n.getNumber(e,t):0}set(e,t){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const n=qe();n&&n.set(e,t)}};Ve.\u0275fac=function(e){return new(e||Ve)},Ve.\u0275prov=o.Yz7({token:Ve,factory:function(e){return Ve.\u0275fac(e)},providedIn:"root"}),Ve.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Ve},token:Ve,providedIn:"root"});const je=new o.OlP("USERCONFIG"),qe=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null};class Be{constructor(e={}){this.data=e}get(e){return this.data[e]}}let ze=(()=>{let e=class{constructor(e,t){this.zone=e,this.appRef=t}create(e,t,n){return new He(e,t,n,this.appRef,this.zone)}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.R0b),o.LFG(o.z2F))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();class He{constructor(e,t,n,r,s){this.resolver=e,this.injector=t,this.location=n,this.appRef=r,this.zone=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,n,r){return this.zone.run(()=>new Promise(s=>{s(Ge(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,n,r))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(e=>{const n=this.elRefMap.get(t);if(n){n.destroy(),this.elRefMap.delete(t);const e=this.elEventsMap.get(t);e&&(e(),this.elEventsMap.delete(t))}e()}))}}const Ge=(e,t,n,r,s,i,a,c,l,u,h)=>{const d=t.resolveComponentFactory(l),f=o.zs3.create({providers:Xe(u),parent:n}),p=r?r.createComponent(d,r.length,f):d.create(f),g=p.instance,m=p.location.nativeElement;if(u&&Object.assign(g,u),h)for(const o of h)m.classList.add(o);const y=Ke(e,g,m);return c.appendChild(m),r||s.attachView(p.hostView),p.changeDetectorRef.reattach(),i.set(m,p),a.set(m,y),m},Ye=[g.L,g.a,g.b,g.c,g.d],Ke=(e,t,n)=>e.run(()=>{const e=Ye.filter(e=>"function"==typeof t[e]).map(e=>{const r=n=>t[e](n.detail);return n.addEventListener(e,r),()=>n.removeEventListener(e,r)});return()=>e.forEach(e=>e())}),We=new o.OlP("NavParamsToken"),Xe=e=>[{provide:We,useValue:e},{provide:Be,useFactory:Qe,deps:[We]}],Qe=e=>new Be(e),Ze=(e,t)=>((e=e.filter(e=>e.stackId!==t.stackId)).push(t),e),Je=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},et=(e,t)=>{if(!e)return;const n=tt(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},tt=e=>e.split("/").map(e=>e.trim()).filter(e=>""!==e),nt=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class rt{constructor(e,t,n,r,s,i){this.containerEl=t,this.router=n,this.navCtrl=r,this.zone=s,this.location=i,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?tt(e):void 0}createView(e,t){const n=Je(this.router,t),r=e&&e.location&&e.location.nativeElement,s=Ke(this.zone,e.instance,r);return{id:this.nextId++,stackId:et(this.tabsPrefix,n),unlistenEvents:s,element:r,ref:e,url:n}}getExistingView(e){const t=Je(this.router,e),n=this.views.find(e=>e.url===t);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(e){const t=this.navCtrl.consumeTransition();let{direction:n,animation:r,animationBuilder:s}=t;const i=this.activeView,o=((e,t)=>!t||e.stackId!==t.stackId)(e,i);o&&(n="back",r=void 0);const a=this.views.slice();let c;const l=this.router;l.getCurrentNavigation?c=l.getCurrentNavigation():l.navigations&&l.navigations.value&&(c=l.navigations.value),c&&c.extras&&c.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const u=this.views.includes(e),h=this.insertView(e,n);u||e.ref.changeDetectorRef.detectChanges();const d=e.animationBuilder;return void 0!==s||"back"!==n||o||void 0===d||(s=d),i&&(i.animationBuilder=s),this.zone.runOutsideAngular(()=>this.wait(()=>(i&&i.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,i,r,this.canGoBack(1),!1,s).then(()=>st(e,h,a,this.location)).then(()=>({enteringView:e,direction:n,animation:r,tabSwitch:o})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(t);if(n.length<=e)return Promise.resolve(!1);const r=n[n.length-e-1];let s=r.url;const i=r.savedData;if(i){const e=i.get("primary");e&&e.route&&e.route._routerState&&e.route._routerState.snapshot&&e.route._routerState.snapshot.url&&(s=e.route._routerState.snapshot.url)}const{animationBuilder:o}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(s,Object.assign({},r.savedExtras,{animation:o})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),n=t[t.length-2],r=n.animationBuilder;return this.wait(()=>this.transition(n,e,"back",this.canGoBack(2),!0,r))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&it(this.activeView,this.views,this.views,this.location)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(nt),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((e,t,n)=>"root"===n?Ze(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):Ze(e,t))(e,t))(this.views,e,t),this.views.slice()}transition(e,t,n,r,s,i){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const o=e?e.element:void 0,a=t?t.element:void 0,c=this.containerEl;return o&&o!==a&&(o.classList.add("ion-page"),o.classList.add("ion-page-invisible"),o.parentElement!==c&&c.appendChild(o),c.commit)?c.commit(o,a,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:s,animationBuilder:i}):Promise.resolve(!1)}wait(e){return i(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const st=(e,t,n,r)=>"function"==typeof requestAnimationFrame?new Promise(s=>{requestAnimationFrame(()=>{it(e,t,n,r),s()})}):Promise.resolve(),it=(e,t,n,r)=>{n.filter(e=>!t.includes(e)).forEach(nt),t.forEach(t=>{const n=r.path().split("?")[0].split("#")[0];if(t!==e&&t.url!==n){const e=t.element;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden"),t.ref.changeDetectorRef.detach()}})};let ot=(()=>{let e=class{constructor(e,t,n,r,s,i,a,c,u,h,d,f,p){this.parentContexts=e,this.location=t,this.resolver=n,this.config=i,this.navCtrl=a,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new _.X(null),this.stackEvents=new o.vpe,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.nativeEl=u.nativeElement,this.name=r||l.eC,this.tabsPrefix="true"===s?Je(h,f):void 0,this.stackCtrl=new rt(this.tabsPrefix,this.nativeEl,h,a,d,c),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:e=>this.stackCtrl.endBackTransition(e)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,p.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,t){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const e=this.getContext();this.activatedView.savedData=new Map(e.children.contexts);const t=this.activatedView.savedData.get("primary");if(t&&e.route&&(t.route=Object.assign({},e.route)),this.activatedView.savedExtras={},e.route){const t=e.route.snapshot;this.activatedView.savedExtras.queryParams=t.queryParams,this.activatedView.savedExtras.fragment=t.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let n;this._activatedRoute=e;let r=this.stackCtrl.getExistingView(e);if(r){n=this.activated=r.ref;const t=r.savedData;t&&(this.getContext().children.contexts=t),this.updateActivatedRouteProxy(n.instance,e)}else{const s=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new _.X(null),a=this.createActivatedRouteProxy(o,e),c=new at(a,i,this.location.injector);n=this.activated=this.location.createComponent(s,this.location.length,c),o.next(n.instance),r=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(n.instance,a),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:e})}this.activatedView=r,this.stackCtrl.setActive(r).then(e=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(n.instance),this.stackEvents.emit(e)})}canGoBack(e=1,t){return this.stackCtrl.canGoBack(e,t)}pop(e=1,t){return this.stackCtrl.pop(e,t)}getLastUrl(e){const t=this.stackCtrl.getLastUrl(e);return t?t.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,t){const n=new l.gz;return n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,n._paramMap=this.proxyObservable(e,"paramMap"),n._queryParamMap=this.proxyObservable(e,"queryParamMap"),n.url=this.proxyObservable(e,"url"),n.params=this.proxyObservable(e,"params"),n.queryParams=this.proxyObservable(e,"queryParams"),n.fragment=this.proxyObservable(e,"fragment"),n.data=this.proxyObservable(e,"data"),n}proxyObservable(e,t){return e.pipe((0,S.h)(e=>!!e),(0,I.w)(e=>this.currentActivatedRoute$.pipe((0,S.h)(t=>null!==t&&t.component===e),(0,I.w)(e=>e&&e.activatedRoute[t]),(0,E.x)())))}updateActivatedRouteProxy(e,t){const n=this.proxyMap.get(e);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,this.currentActivatedRoute$.next({component:e,activatedRoute:t})}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.y6),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.$8M("tabs"),o.Y36(Ve),o.Y36(G),o.Y36(c.Ye),o.Y36(o.SBq),o.Y36(l.F0),o.Y36(o.R0b),o.Y36(l.gz),o.Y36(e,12))},e.\u0275dir=o.lG2({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r([(0,o.r_U)()],e.prototype,"stackEvents",void 0),r([(0,o.r_U)("activate")],e.prototype,"activateEvents",void 0),r([(0,o.r_U)("deactivate")],e.prototype,"deactivateEvents",void 0),e=r([s(3,(0,o.ahi)("name")),s(4,(0,o.FiY)()),s(4,(0,o.ahi)("tabs")),s(12,(0,o.tp0)()),s(12,(0,o.FiY)())],e),e})();class at{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===l.gz?this.route:e===l.y6?this.childContexts:this.parent.get(e,t)}}let ct=(()=>{let e=class{constructor(e,t,n){this.routerOutlet=e,this.navCtrl=t,this.config=n}onClick(e){const t=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet&&this.routerOutlet.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=t&&(this.navCtrl.navigateBack(t,{animation:this.routerAnimation}),e.preventDefault())}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(ot,8),o.Y36(G),o.Y36(Ve))},e.\u0275dir=o.lG2({type:e,selectors:[["ion-back-button"]],hostBindings:function(e,t){1&e&&o.NdJ("click",function(e){return t.onClick(e)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),r([(0,o.L6J)("click",["$event"])],e.prototype,"onClick",null),e=r([s(0,(0,o.FiY)())],e),e})(),lt=(()=>{let e=class{constructor(e,t,n,r,s){this.locationStrategy=e,this.navCtrl=t,this.elementRef=n,this.router=r,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTargetUrlAndHref(){if(this.routerLink){const e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=e}}onClick(e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),e.preventDefault()}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.S$),o.Y36(G),o.Y36(o.SBq),o.Y36(l.F0),o.Y36(l.rH,8))},e.\u0275dir=o.lG2({type:e,selectors:[["","routerLink",""]],hostBindings:function(e,t){1&e&&o.NdJ("click",function(e){return t.onClick(e)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[o.TTD]}),r([(0,o.L6J)("click",["$event"])],e.prototype,"onClick",null),e=r([s(4,(0,o.FiY)())],e),e})();class ut{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,n){return this.ctrl.dismiss(e,t,n)}getTop(){return this.ctrl.getTop()}}let ht=class extends ut{constructor(){super(y.b)}};ht.\u0275fac=function(e){return new(e||ht)},ht.\u0275prov=o.Yz7({token:ht,factory:function(e){return ht.\u0275fac(e)},providedIn:"root"}),ht.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ht},token:ht,providedIn:"root"});let dt=class extends ut{constructor(){super(y.a)}};dt.\u0275fac=function(e){return new(e||dt)},dt.\u0275prov=o.Yz7({token:dt,factory:function(e){return dt.\u0275fac(e)},providedIn:"root"}),dt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new dt},token:dt,providedIn:"root"});let ft=class extends ut{constructor(){super(y.l)}};ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275prov=o.Yz7({token:ft,factory:function(e){return ft.\u0275fac(e)},providedIn:"root"}),ft.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ft},token:ft,providedIn:"root"});let pt=class{open(e){return m.m.open(e)}close(e){return m.m.close(e)}toggle(e){return m.m.toggle(e)}enable(e,t){return m.m.enable(e,t)}swipeGesture(e,t){return m.m.swipeGesture(e,t)}isOpen(e){return m.m.isOpen(e)}isEnabled(e){return m.m.isEnabled(e)}get(e){return m.m.get(e)}getOpen(){return m.m.getOpen()}getMenus(){return m.m.getMenus()}};pt.\u0275fac=function(e){return new(e||pt)},pt.\u0275prov=o.Yz7({token:pt,factory:function(e){return pt.\u0275fac(e)},providedIn:"root"}),pt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new pt},token:pt,providedIn:"root"});let gt=class extends ut{constructor(){super(y.p)}};gt.\u0275fac=function(e){return new(e||gt)},gt.\u0275prov=o.Yz7({token:gt,factory:function(e){return gt.\u0275fac(e)},providedIn:"root"}),gt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new gt},token:gt,providedIn:"root"});let mt=(()=>{let e=class extends ut{constructor(e,t,n){super(y.m),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(ze),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),yt=(()=>{let e=class extends ut{constructor(e,t,n){super(y.c),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(ze),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),vt=class extends ut{constructor(){super(y.t)}};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275prov=o.Yz7({token:vt,factory:function(e){return vt.\u0275fac(e)},providedIn:"root"}),vt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new vt},token:vt,providedIn:"root"});let wt=class{read(e){bt().read(e)}write(e){bt().write(e)}};wt.\u0275fac=function(e){return new(e||wt)},wt.\u0275prov=o.Yz7({token:wt,factory:function(e){return wt.\u0275fac(e)},providedIn:"root"}),wt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new wt},token:wt,providedIn:"root"});const bt=()=>{const e="undefined"!=typeof window?window:null;if(null!=e){const t=e.Ionic;return t&&t.queue?t.queue:{read:t=>e.requestAnimationFrame(t),write:t=>e.requestAnimationFrame(t)}}return{read:e=>e(),write:e=>e()}};let _t=class{create(e){return(0,u.c)(e)}easingTime(e,t,n,r,s){return(0,h.g)(e,t,n,r,s)}};_t.\u0275fac=function(e){return new(e||_t)},_t.\u0275prov=o.Yz7({token:_t,factory:function(e){return _t.\u0275fac(e)},providedIn:"root"}),_t.ngInjectableDef=(0,o.Yz7)({factory:function(){return new _t},token:_t,providedIn:"root"});let St=class{constructor(e){this.zone=e}create(e,t=!1){return t&&Object.getOwnPropertyNames(e).forEach(t=>{if("function"==typeof e[t]){const n=e[t];e[t]=(...e)=>this.zone.run(()=>n(...e))}}),(0,d.createGesture)(e)}};St.\u0275fac=function(e){return new(e||St)(o.LFG(o.R0b))},St.\u0275prov=o.Yz7({token:St,factory:function(e){return St.\u0275fac(e)},providedIn:"root"}),St.ngInjectableDef=(0,o.Yz7)({factory:function(){return new St((0,o.LFG)(o.R0b))},token:St,providedIn:"root"});class It{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const n=e.params,r=t.params,s=Object.keys(n),i=Object.keys(r);if(s.length!==i.length)return!1;for(const o of s)if(r[o]!==n[o])return!1;return!0}}const Et=(e,t,r)=>()=>{if(t.defaultView&&"undefined"!=typeof window){(e=>{const t=window,n=t.Ionic;n&&n.config&&"Object"!==n.config.constructor.name||(t.Ionic=t.Ionic||{},t.Ionic.config=Object.assign(Object.assign({},t.Ionic.config),e))})(Object.assign({},e,{_zoneGate:e=>r.run(e)}));const s="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var e=[];if("undefined"!=typeof window){var t=window;t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove&&t.Element.prototype.getRootNode)||e.push(n.e(6748).then(n.t.bind(n,6546,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()&&"undefined"!=typeof WeakMap||e.push(n.e(2214).then(n.t.bind(n,864,23)))}return Promise.all(e)}().then(()=>{return e={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:k,jmp:e=>r.runOutsideAngular(e),ael(e,t,n,r){e[s](t,n,r)},rel(e,t,n,r){e.removeEventListener(t,n,r)}},"undefined"==typeof window?Promise.resolve():(v.C&&v.C.supports&&v.C.supports("color","var(--c)")?(0,v.a)():n.e(1843).then(n.t.bind(n,5466,23)).then(()=>(v.p.$cssShim$=v.w.__cssshim)?v.p.$cssShim$.i():0)).then(()=>(T(),(0,v.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),e)));var e})}};var Tt;let Ct=Tt=class{static forRoot(e){return{ngModule:Tt,providers:[{provide:je,useValue:e},{provide:o.ip1,useFactory:Et,multi:!0,deps:[je,c.K0,o.R0b]}]}}};Ct.\u0275fac=function(e){return new(e||Ct)},Ct.\u0275mod=o.oAB({type:Ct}),Ct.\u0275inj=o.cJS({providers:[ze,mt,yt],imports:[[c.ez]]})},6760:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var r=n(5392);let s;const i=e=>{if(void 0===s){const t=void 0!==e.style.webkitAnimationName;s=void 0===e.style.animationName&&t?"-webkit-":""}return s},o=(e,t,n)=>{const r=t.startsWith("animation")?i(e):"";e.style.setProperty(r+t,n)},a=(e,t)=>{const n=t.startsWith("animation")?i(e):"";e.style.removeProperty(n+t)},c=[],l=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},u=e=>{let t,n,s,u,h,d,f,p,g,m,y,v,w,b=[],_=[],S=[],I=!1,E={},T=[],C=[],k={},A=0,x=!1,O=!1,N=!0,D=!1,R=!0;const P=e,$=[],L=[],M=[],F=[],U=[],V=[],j=[],q=[],B=[],z=[],H="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&H,Y=(e,t)=>((t&&t.oneTimeCallback?L:$).push({c:e,o:t}),w),K=()=>{if(G)z.forEach(e=>{e.cancel()}),z.length=0;else{const e=M.slice();(0,r.r)(()=>{e.forEach(e=>{a(e,"animation-name"),a(e,"animation-duration"),a(e,"animation-timing-function"),a(e,"animation-iteration-count"),a(e,"animation-delay"),a(e,"animation-play-state"),a(e,"animation-fill-mode"),a(e,"animation-direction")})})}},W=()=>{U.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),U.length=0},X=()=>void 0!==h?h:f?f.getFill():"both",Q=()=>void 0!==g?g:void 0!==d?d:f?f.getDirection():"normal",Z=()=>x?"linear":void 0!==s?s:f?f.getEasing():"linear",J=()=>O?0:void 0!==m?m:void 0!==n?n:f?f.getDuration():0,ee=()=>void 0!==u?u:f?f.getIterations():1,te=()=>void 0!==y?y:void 0!==t?t:f?f.getDelay():0,ne=()=>{0!==A&&(A--,0===A&&((()=>{ue(),q.forEach(e=>e()),B.forEach(e=>e());const e=N?1:0,t=T,n=C,r=k;M.forEach(e=>{const s=e.classList;t.forEach(e=>s.add(e)),n.forEach(e=>s.remove(e));for(const t in r)r.hasOwnProperty(t)&&o(e,t,r[t])}),$.forEach(t=>t.c(e,w)),L.forEach(t=>t.c(e,w)),L.length=0,R=!0,N&&(D=!0),N=!0})(),f&&f.animationFinish()))},re=(t=!0)=>{(()=>{V.forEach(e=>e()),j.forEach(e=>e());const e=_,t=S,n=E;M.forEach(r=>{const s=r.classList;e.forEach(e=>s.add(e)),t.forEach(e=>s.remove(e));for(const e in n)n.hasOwnProperty(e)&&o(r,e,n[e])})})(),b.length>0&&(G?(M.forEach(e=>{const t=e.animate(b,{id:P,delay:te(),duration:J(),easing:Z(),iterations:ee(),fill:X(),direction:Q()});t.pause(),z.push(t)}),z.length>0&&(z[0].onfinish=()=>{ne()})):((t=!0)=>{W();const n=((s=b).forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];if("easing"===t)e["animation-timing-function"]=n,delete e[t];else{const r=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();r!==t&&(e[r]=n,delete e[t])}}}),s);var s;M.forEach(s=>{if(n.length>0){const a=((e=[])=>e.map(e=>{const t=e.offset,n=[];for(const r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${e[r]};`);return`${100*t}% { ${n.join(" ")} }`}).join(" "))(n);v=void 0!==e?e:(e=>{let t=c.indexOf(e);return t<0&&(t=c.push(e)-1),`ion-animation-${t}`})(a);const l=((e,t,n)=>{const r=(e=>{const t=e.getRootNode();return t.head||t})(n),s=i(n),o=r.querySelector("#"+e);if(o)return o;const a=(n.ownerDocument||document).createElement("style");return a.id=e,a.textContent=`@${s}keyframes ${e} { ${t} } @${s}keyframes ${e}-alt { ${t} }`,r.appendChild(a),a})(v,a,s);U.push(l),o(s,"animation-duration",`${J()}ms`),o(s,"animation-timing-function",Z()),o(s,"animation-delay",`${te()}ms`),o(s,"animation-fill-mode",X()),o(s,"animation-direction",Q());const u=ee()===1/0?"infinite":ee().toString();o(s,"animation-iteration-count",u),o(s,"animation-play-state","paused"),t&&o(s,"animation-name",`${l.id}-alt`),(0,r.r)(()=>{o(s,"animation-name",l.id||null)})}})})(t)),I=!0},se=e=>{if(e=Math.min(Math.max(e,0),.9999),G)z.forEach(t=>{t.currentTime=t.effect.getComputedTiming().delay+J()*e,t.pause()});else{const t=`-${J()*e}ms`;M.forEach(e=>{b.length>0&&(o(e,"animation-delay",t),o(e,"animation-play-state","paused"))})}},ie=e=>{z.forEach(e=>{e.effect.updateTiming({delay:te(),duration:J(),easing:Z(),iterations:ee(),fill:X(),direction:Q()})}),void 0!==e&&se(e)},oe=(e=!0,t)=>{(0,r.r)(()=>{M.forEach(n=>{o(n,"animation-name",v||null),o(n,"animation-duration",`${J()}ms`),o(n,"animation-timing-function",Z()),o(n,"animation-delay",void 0!==t?`-${t*J()}ms`:`${te()}ms`),o(n,"animation-fill-mode",X()||null),o(n,"animation-direction",Q()||null);const s=ee()===1/0?"infinite":ee().toString();o(n,"animation-iteration-count",s),e&&o(n,"animation-name",`${v}-alt`),(0,r.r)(()=>{o(n,"animation-name",v||null)})})})},ae=(e=!1,t=!0,n)=>(e&&F.forEach(r=>{r.update(e,t,n)}),G?ie(n):oe(t,n),w),ce=()=>{I&&(G?z.forEach(e=>{e.pause()}):M.forEach(e=>{o(e,"animation-play-state","paused")}))},le=()=>{p=void 0,ne()},ue=()=>{p&&clearTimeout(p)},he=e=>new Promise(t=>{e&&e.sync&&(O=!0,Y(()=>O=!1,{oneTimeCallback:!0})),I||re(),D&&(G?(se(0),ie()):oe(),D=!1),R&&(A=F.length+1,R=!1),Y(()=>t(),{oneTimeCallback:!0}),F.forEach(e=>{e.play()}),G?(z.forEach(e=>{e.play()}),0!==b.length&&0!==M.length||ne()):(()=>{if(ue(),(0,r.r)(()=>{M.forEach(e=>{b.length>0&&o(e,"animation-play-state","running")})}),0===b.length||0===M.length)ne();else{const e=te()||0,t=J()||0,n=ee()||1;isFinite(n)&&(p=setTimeout(le,e+t*n+100)),((e,t)=>{let n;const s={passive:!0},i=t=>{e===t.target&&(n&&n(),ue(),(0,r.r)(()=>{M.forEach(e=>{a(e,"animation-duration"),a(e,"animation-delay"),a(e,"animation-play-state")}),(0,r.r)(ne)}))};e&&(e.addEventListener("webkitAnimationEnd",i,s),e.addEventListener("animationend",i,s),n=()=>{e.removeEventListener("webkitAnimationEnd",i,s),e.removeEventListener("animationend",i,s)})})(M[0])}})()}),de=(e,t)=>{const n=b[0];return void 0===n||void 0!==n.offset&&0!==n.offset?b=[{offset:0,[e]:t},...b]:n[e]=t,w};return w={parentAnimation:f,elements:M,childAnimations:F,id:P,animationFinish:ne,from:de,to:(e,t)=>{const n=b[b.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?b=[...b,{offset:1,[e]:t}]:n[e]=t,w},fromTo:(e,t,n)=>de(e,t).to(e,n),parent:e=>(f=e,w),play:he,pause:()=>(F.forEach(e=>{e.pause()}),ce(),w),stop:()=>{F.forEach(e=>{e.stop()}),I&&(K(),I=!1),x=!1,O=!1,R=!0,g=void 0,m=void 0,y=void 0,A=0,D=!1,N=!0},destroy:e=>(F.forEach(t=>{t.destroy(e)}),(e=>{K(),e&&W()})(e),M.length=0,F.length=0,b.length=0,$.length=0,L.length=0,I=!1,R=!0,w),keyframes:e=>(b=e,w),addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(w),F.push(t);else e.parent(w),F.push(e);return w},addElement:e=>{if(null!=e)if(1===e.nodeType)M.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)M.push(e[t]);else console.error("Invalid addElement value");return w},update:ae,fill:e=>(h=e,ae(!0),w),direction:e=>(d=e,ae(!0),w),iterations:e=>(u=e,ae(!0),w),duration:e=>(G||0!==e||(e=1),n=e,ae(!0),w),easing:e=>(s=e,ae(!0),w),delay:e=>(t=e,ae(!0),w),getWebAnimations:()=>z,getKeyframes:()=>b,getFill:X,getDirection:Q,getDelay:te,getIterations:ee,getEasing:Z,getDuration:J,afterAddRead:e=>(q.push(e),w),afterAddWrite:e=>(B.push(e),w),afterClearStyles:(e=[])=>{for(const t of e)k[t]="";return w},afterStyles:(e={})=>(k=e,w),afterRemoveClass:e=>(C=l(C,e),w),afterAddClass:e=>(T=l(T,e),w),beforeAddRead:e=>(V.push(e),w),beforeAddWrite:e=>(j.push(e),w),beforeClearStyles:(e=[])=>{for(const t of e)E[t]="";return w},beforeStyles:(e={})=>(E=e,w),beforeRemoveClass:e=>(S=l(S,e),w),beforeAddClass:e=>(_=l(_,e),w),onFinish:Y,progressStart:(e=!1,t)=>(F.forEach(n=>{n.progressStart(e,t)}),ce(),x=e,I?ae(!1,!0,t):re(),w),progressStep:e=>(F.forEach(t=>{t.progressStep(e)}),se(e),w),progressEnd:(e,t,n)=>(x=!1,F.forEach(r=>{r.progressEnd(e,t,n)}),void 0!==n&&(m=n),D=!1,N=!0,0===e?(g="reverse"===Q()?"normal":"reverse","reverse"===g&&(N=!1),G?(ae(),se(1-t)):(y=(1-t)*J()*-1,ae(!1,!1))):1===e&&(G?(ae(),se(t)):(y=t*J()*-1,ae(!1,!1))),void 0!==e&&(Y(()=>{m=void 0,g=void 0,y=void 0},{oneTimeCallback:!0}),f||he()),w)}}},6943:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});const r=(e,t,n,r,o)=>i(e[1],t[1],n[1],r[1],o).map(i=>s(e[0],t[0],n[0],r[0],i)),s=(e,t,n,r,s)=>s*(3*t*Math.pow(s-1,2)+s*(-3*n*s+3*n+r*s))-e*Math.pow(s-1,3),i=(e,t,n,r,s)=>o((r-=s)-3*(n-=s)+3*(t-=s)-(e-=s),3*n-6*t+3*e,3*t-3*e,e).filter(e=>e>=0&&e<=1),o=(e,t,n,r)=>{if(0===e)return((e,t,n)=>{const r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]})(t,n,r);const s=(3*(n/=e)-(t/=e)*t)/3,i=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===s)return[Math.pow(-i,1/3)];if(0===i)return[Math.sqrt(-s),-Math.sqrt(-s)];const o=Math.pow(i/2,2)+Math.pow(s/3,3);if(0===o)return[Math.pow(i/2,.5)-t/3];if(o>0)return[Math.pow(-i/2+Math.sqrt(o),1/3)-Math.pow(i/2+Math.sqrt(o),1/3)-t/3];const a=Math.sqrt(Math.pow(-s/3,3)),c=Math.acos(-i/(2*Math.sqrt(Math.pow(-s/3,3)))),l=2*Math.pow(a,1/3);return[l*Math.cos(c/3)-t/3,l*Math.cos((c+2*Math.PI)/3)-t/3,l*Math.cos((c+4*Math.PI)/3)-t/3]}},5901:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});class r{constructor(e,t,n,r,s){this.id=t,this.name=n,this.disableScroll=s,this.priority=1e6*r+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class s{constructor(e,t,n,r){this.id=t,this.disable=n,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const i="backdrop-no-scroll",o=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}createBlocker(e={}){return new s(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}capture(e,t,n){if(!this.start(e,t,n))return!1;const r=this.requestedStart;let s=-1e4;if(r.forEach(e=>{s=Math.max(s,e)}),s===n){this.capturedId=t,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(n),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}enableGesture(e,t){const n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(i)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(i)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}},8876:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:()=>o,OVERLAY_BACK_BUTTON_PRIORITY:()=>i,blockHardwareBackButton:()=>r,startHardwareBackButton:()=>s});const r=()=>{document.addEventListener("backbutton",()=>{})},s=()=>{const e=document;let t=!1;e.addEventListener("backbutton",()=>{if(t)return;let n=0,r=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){r.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(s);const i=()=>{if(r.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(t=>{t.priority>=e.priority&&(e=t)}),t=!0,r=r.filter(t=>t.id!==e.id),(async e=>{try{if(e&&e.handler){const t=e.handler(i);null!=t&&await t}}catch(t){console.error(t)}})(e).then(()=>t=!1)}};i()})},i=100,o=99},5392:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>o,c:()=>r,d:()=>h,e:()=>d,f:()=>v,g:()=>a,h:()=>u,i:()=>s,j:()=>f,k:()=>l,l:()=>p,m:()=>y,n:()=>w,o:()=>g,p:()=>m,r:()=>c});const r=(e,t)=>{e.componentOnReady?e.componentOnReady().then(e=>t(e)):c(()=>t(e))},s=(e,t=[])=>{const n={};return t.forEach(t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))}),n},i=(e,t,n,r)=>{if("undefined"!=typeof window){const s=window,i=s&&s.Ionic&&s.Ionic.config;if(i){const s=i.get("_ael");if(s)return s(e,t,n,r);if(i._ael)return i._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},o=(e,t,n,r)=>{if("undefined"!=typeof window){const s=window,i=s&&s.Ionic&&s.Ionic.config;if(i){const s=i.get("_rel");if(s)return s(e,t,n,r);if(i._rel)return i._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},a=(e,t=e)=>e.shadowRoot||t,c=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),l=e=>!!e.shadowRoot&&!!e.attachShadow,u=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},h=(e,t)=>{let n;const r=e.getAttribute("aria-labelledby"),s=e.id;let i=null!==r&&""!==r.trim()?r:t+"-lbl",o=null!==r&&""!==r.trim()?document.getElementById(r):u(e);return o?(null===r&&(o.id=i),n=o.textContent,o.setAttribute("aria-hidden","true")):""!==s.trim()&&(o=document.querySelector(`label[for="${s}"]`),o&&(""!==o.id?i=o.id:o.id=i=`${s}-lbl`,n=o.textContent)),{label:o,labelId:i,labelText:n}},d=(e,t,n,r,s)=>{if(e||l(t)){let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=s,e.name=n,e.value=r||""}},f=(e,t,n)=>Math.max(e,Math.min(t,n)),p=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},g=e=>e.timeStamp||Date.now(),m=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},y=e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},v=(e,t)=>{const n=e._original||e;return{_original:e,emit:w(n.emit.bind(n),t)}},w=(e,t=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(e,t,...r)}}},7501:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var r=n(8876),s=n(5392),i=n(4973),o=n(6760);const a=e=>(0,o.c)().duration(e?400:300),c=e=>{let t,n;const r=e.width+8,s=(0,o.c)(),c=(0,o.c)();e.isEndSide?(t=r+"px",n="0px"):(t=-r+"px",n="0px"),s.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${n})`);const l="ios"===(0,i.b)(e),u=l?.2:.25;return c.addElement(e.backdropEl).fromTo("opacity",.01,u),a(l).addAnimation([s,c])},l=e=>{let t,n;const r=(0,i.b)(e),s=e.width;e.isEndSide?(t=-s+"px",n=s+"px"):(t=s+"px",n=-s+"px");const c=(0,o.c)().addElement(e.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),l=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),u=(0,o.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return a("ios"===r).addAnimation([c,l,u])},u=e=>{const t=(0,i.b)(e),n=e.width*(e.isEndSide?-1:1)+"px",r=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return a("ios"===t).addAnimation(r)},h=(()=>{const e=new Map,t=[],n=async e=>(await p(),"start"===e||"end"===e?f(t=>t.side===e&&!t.disabled)||f(t=>t.side===e):null!=e?f(t=>t.menuId===e):f(e=>!e.disabled)||(t.length>0?t[0].el:void 0)),i=async()=>(await p(),h()),o=(t,n)=>{e.set(t,n)},a=e=>{const n=e.side;t.filter(t=>t.side===n&&t!==e).forEach(e=>e.disabled=!0)},h=()=>f(e=>e._isOpen),d=()=>t.some(e=>e.isAnimating),f=e=>{const n=t.find(e);if(void 0!==n)return n.el},p=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(e=>new Promise(t=>(0,s.c)(e,t))));return o("reveal",u),o("push",l),o("overlay",c),"undefined"!=typeof document&&document.addEventListener("ionBackButton",e=>{const t=h();t&&e.detail.register(r.MENU_BACK_BUTTON_PRIORITY,()=>t.close())}),{registerAnimation:o,get:n,getMenus:async()=>(await p(),t.map(e=>e.el)),getOpen:i,isEnabled:async e=>{const t=await n(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const r=await n(t);return r&&(r.swipeGesture=e),r},isAnimating:async()=>(await p(),d()),isOpen:async e=>{if(null!=e){const t=await n(e);return void 0!==t&&t.isOpen()}return void 0!==await i()},enable:async(e,t)=>{const r=await n(t);return r&&(r.disabled=!e),r},toggle:async e=>{const t=await n(e);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?n(e):i());return void 0!==t&&t.close()},open:async e=>{const t=await n(e);return!!t&&t.open()},_getOpenSync:h,_createAnimation:(t,n)=>{const r=e.get(t);if(!r)throw new Error("animation not registered");return r(n)},_register:e=>{t.indexOf(e)<0&&(e.disabled||a(e),t.push(e))},_unregister:e=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_setOpen:async(e,t,n)=>{if(d())return!1;if(t){const t=await i();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,n)},_setActiveMenu:a}})()},4366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GESTURE_CONTROLLER:()=>r.G,createGesture:()=>c});var r=n(5901);const s=(e,t,n,r)=>{const s=i(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let o,a;return e.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(o="addEventListener",a="removeEventListener"),e[o](t,n,s),()=>{e[a](t,n,s)}},i=e=>{if(void 0===o)try{const t=Object.defineProperty({},"passive",{get:()=>{o=!0}});e.addEventListener("optsTest",()=>{},t)}catch(t){o=!1}return!!o};let o;const a=e=>e instanceof Document?e:e.ownerDocument,c=e=>{let t=!1,n=!1,i=!0,o=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),d=c.canStart,f=c.onWillStart,p=c.onStart,g=c.onEnd,m=c.notCaptured,y=c.onMove,v=c.threshold,w=c.passive,b=c.blurOnStart,_={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},S=((e,t,n)=>{const r=n*(Math.PI/180),s="x"===e,i=Math.cos(r),o=t*t;let a=0,c=0,l=!1,u=0;return{start(e,t){a=e,c=t,u=0,l=!0},detect(e,t){if(!l)return!1;const n=e-a,r=t-c,h=n*n+r*r;if(h<o)return!1;const d=Math.sqrt(h),f=(s?n:r)/d;return u=f>i?1:f<-i?-1:0,l=!1,!0},isGesture:()=>0!==u,getDirection:()=>u}})(c.direction,c.threshold,c.maxAngle),I=r.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),E=()=>{t&&(o=!1,y&&y(_))},T=()=>!(I&&!I.capture()||(t=!0,i=!1,_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime,f?f(_).then(C):C(),0)),C=()=>{b&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;null!==e&&e.blur&&e.blur()}})(),p&&p(_),i=!0},k=()=>{t=!1,n=!1,o=!1,i=!0,I.release()},A=e=>{const n=t,r=i;k(),r&&(l(_,e),n?g&&g(_):m&&m(_))},x=((e,t,n,r,i)=>{let o,c,l,u,h,d,f,p=0;const g=r=>{p=Date.now()+2e3,t(r)&&(!c&&n&&(c=s(e,"touchmove",n,i)),l||(l=s(r.target,"touchend",y,i)),u||(u=s(r.target,"touchcancel",y,i)))},m=r=>{p>Date.now()||t(r)&&(!d&&n&&(d=s(a(e),"mousemove",n,i)),f||(f=s(a(e),"mouseup",v,i)))},y=e=>{w(),r&&r(e)},v=e=>{b(),r&&r(e)},w=()=>{c&&c(),l&&l(),u&&u(),c=l=u=void 0},b=()=>{d&&d(),f&&f(),d=f=void 0},_=()=>{w(),b()},S=(t=!0)=>{t?(o||(o=s(e,"touchstart",g,i)),h||(h=s(e,"mousedown",m,i))):(o&&o(),h&&h(),o=h=void 0,_())};return{enable:S,stop:_,destroy:()=>{S(!1),r=n=t=void 0}}})(c.el,e=>{const t=h(e);return!(n||!i)&&(u(e,_),_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime=t,_.velocityX=_.velocityY=_.deltaX=_.deltaY=0,_.event=e,(!d||!1!==d(_))&&(I.release(),!!I.start()&&(n=!0,0===v?T():(S.start(_.startX,_.startY),!0))))},e=>{t?!o&&i&&(o=!0,l(_,e),requestAnimationFrame(E)):(l(_,e),S.detect(_.currentX,_.currentY)&&(S.isGesture()&&T()||O()))},A,{capture:!1,passive:w}),O=()=>{k(),x.stop(),m&&m(_)};return{enable(e=!0){e||(t&&A(void 0),k()),x.enable(e)},destroy(){I.destroy(),x.destroy()}}},l=(e,t)=>{if(!t)return;const n=e.currentX,r=e.currentY,s=e.currentTime;u(t,e);const i=e.currentX,o=e.currentY,a=(e.currentTime=h(t))-s;if(a>0&&a<100){const t=(o-r)/a;e.velocityX=(i-n)/a*.7+.3*e.velocityX,e.velocityY=.7*t+.3*e.velocityY}e.deltaX=i-e.startX,e.deltaY=o-e.startY,e.event=t},u=(e,t)=>{let n=0,r=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];n=e.clientX,r=e.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},h=e=>e.timeStamp||Date.now()},5133:(e,t,n)=>{"use strict";n.d(t,{B:()=>qe,C:()=>d,H:()=>$,a:()=>m,b:()=>Se,c:()=>je,e:()=>re,f:()=>Ve,g:()=>O,h:()=>R,i:()=>ne,j:()=>he,k:()=>Ie,p:()=>p,r:()=>Ce,s:()=>x,w:()=>h});let r,s,i,o=!1,a=!1,c=!1,l=!1,u=!1;const h="undefined"!=typeof window?window:{},d=h.CSS,f=h.document||{head:{}},p={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},g=(()=>(f.head.attachShadow+"").indexOf("[native")>-1)(),m=e=>Promise.resolve(e),y=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1})(),v=(e,t,n,r)=>{n&&n.map(([n,r,s])=>{const i=b(e,n),o=w(t,s),a=_(n);p.ael(i,r,o,a),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>p.rel(i,r,o,a))})},w=(e,t)=>n=>{try{256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(r){xe(r)}},b=(e,t)=>4&t?f:8&t?h:16&t?f.body:e,_=e=>0!=(2&e),S="s-id",I="c-id",E="http://www.w3.org/1999/xlink",T=new WeakMap,C=(e,t,n)=>{let r=De.get(e);y&&n?(r=r||new CSSStyleSheet,r.replace(t)):r=t,De.set(e,r)},k=(e,t,n,r)=>{let s=A(t,n),i=De.get(s);if(e=11===e.nodeType?e:f,i)if("string"==typeof i){let n,o=T.get(e=e.head||e);if(o||T.set(e,o=new Set),!o.has(s)){if(e.host&&(n=e.querySelector(`[sty-id="${s}"]`)))n.innerHTML=i;else{if(p.$cssShim$){n=p.$cssShim$.createHostStyle(r,s,i,!!(10&t.$flags$));const e=n["s-sc"];e&&(s=e,o=null)}else n=f.createElement("style"),n.innerHTML=i;e.insertBefore(n,e.querySelector("link"))}o&&o.add(s)}}else e.adoptedStyleSheets.includes(i)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return s},A=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),x=e=>Re.push(e),O=e=>Te(e).$modeName$,N={},D=e=>"object"==(e=typeof e)||"function"===e,R=(e,t,...n)=>{let r=null,s=null,i=null,o=!1,a=!1,c=[];const l=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?l(r):null!=r&&"boolean"!=typeof r&&((o="function"!=typeof e&&!D(r))&&(r=String(r)),o&&a?c[c.length-1].$text$+=r:c.push(o?P(null,r):r),a=o)};if(l(n),t){t.key&&(s=t.key),t.name&&(i=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,c,L);const u=P(e,null);return u.$attrs$=t,c.length>0&&(u.$children$=c),u.$key$=s,u.$name$=i,u},P=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),$={},L={forEach:(e,t)=>e.map(M).forEach(t),map:(e,t)=>e.map(M).map(t).map(F)},M=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),F=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),R(e.vtag,t,...e.vchildren||[])}const t=P(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},U=(e,t,n,r,s,i)=>{if(n!==r){let a=Ae(e,t),c=t.toLowerCase();if("class"===t){const t=e.classList,s=j(n),i=j(r);t.remove(...s.filter(e=>e&&!i.includes(e))),t.add(...i.filter(e=>e&&!s.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(a||"o"!==t[0]||"n"!==t[1]){const l=D(r);if((a||l&&null!==r)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{let s=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==s||(e[t]=s)}}catch(o){}let u=!1;c!==(c=c.replace(/^xlink\:?/,""))&&(t=c,u=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(u?e.removeAttributeNS(E,t):e.removeAttribute(t)):(!a||4&i||s)&&!l&&(r=!0===r?"":r,u?e.setAttributeNS(E,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):Ae(h,c)?c.slice(2):c[2]+t.slice(3),n&&p.rel(e,t,n,!1),r&&p.ael(e,t,r,!1)}},V=/\s/,j=e=>e?e.split(V):[],q=(e,t,n,r)=>{const s=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||N,o=t.$attrs$||N;for(r in i)r in o||U(s,r,i[r],void 0,n,t.$flags$);for(r in o)U(s,r,i[r],o[r],n,t.$flags$)},B=(e,t,n,a)=>{let u,h,d,p=t.$children$[n],g=0;if(o||(c=!0,"slot"===p.$tag$&&(r&&a.classList.add(r+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)u=p.$elm$=f.createTextNode(p.$text$);else if(1&p.$flags$)u=p.$elm$=f.createTextNode("");else{if(l||(l="svg"===p.$tag$),u=p.$elm$=f.createElementNS(l?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),l&&"foreignObject"===p.$tag$&&(l=!1),q(null,p,l),null!=r&&u["s-si"]!==r&&u.classList.add(u["s-si"]=r),p.$children$)for(g=0;g<p.$children$.length;++g)h=B(e,p,g,u),h&&u.appendChild(h);"svg"===p.$tag$?l=!1:"foreignObject"===u.tagName&&(l=!0)}return u["s-hn"]=i,3&p.$flags$&&(u["s-sr"]=!0,u["s-cr"]=s,u["s-sn"]=p.$name$||"",d=e&&e.$children$&&e.$children$[n],d&&d.$tag$===p.$tag$&&e.$elm$&&z(e.$elm$,!1)),u},z=(e,t)=>{p.$flags$|=1;const n=e.childNodes;for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==i&&e["s-ol"]&&(W(e).insertBefore(e,K(e)),e["s-ol"].remove(),e["s-ol"]=void 0,c=!0),t&&z(e,t)}p.$flags$&=-2},H=(e,t,n,r,s,o)=>{let a,c=e["s-cr"]&&e["s-cr"].parentNode||e;for(c.shadowRoot&&c.tagName===i&&(c=c.shadowRoot);s<=o;++s)r[s]&&(a=B(null,n,s,e),a&&(r[s].$elm$=a,c.insertBefore(a,K(t))))},G=(e,t,n,r,s)=>{for(;t<=n;++t)(r=e[t])&&(s=r.$elm$,te(r),a=!0,s["s-ol"]?s["s-ol"].remove():z(s,!0),s.remove())},Y=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),K=e=>e&&e["s-ol"]||e,W=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,X=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,s=t.$children$,i=t.$tag$,o=t.$text$;let a;null===o?(l="svg"===i||"foreignObject"!==i&&l,"slot"===i||q(e,t,l),null!==r&&null!==s?((e,t,n,r)=>{let s,i,o=0,a=0,c=0,l=0,u=t.length-1,h=t[0],d=t[u],f=r.length-1,p=r[0],g=r[f];for(;o<=u&&a<=f;)if(null==h)h=t[++o];else if(null==d)d=t[--u];else if(null==p)p=r[++a];else if(null==g)g=r[--f];else if(Y(h,p))X(h,p),h=t[++o],p=r[++a];else if(Y(d,g))X(d,g),d=t[--u],g=r[--f];else if(Y(h,g))"slot"!==h.$tag$&&"slot"!==g.$tag$||z(h.$elm$.parentNode,!1),X(h,g),e.insertBefore(h.$elm$,d.$elm$.nextSibling),h=t[++o],g=r[--f];else if(Y(d,p))"slot"!==h.$tag$&&"slot"!==g.$tag$||z(d.$elm$.parentNode,!1),X(d,p),e.insertBefore(d.$elm$,h.$elm$),d=t[--u],p=r[++a];else{for(c=-1,l=o;l<=u;++l)if(t[l]&&null!==t[l].$key$&&t[l].$key$===p.$key$){c=l;break}c>=0?(i=t[c],i.$tag$!==p.$tag$?s=B(t&&t[a],n,c,e):(X(i,p),t[c]=void 0,s=i.$elm$),p=r[++a]):(s=B(t&&t[a],n,a,e),p=r[++a]),s&&W(h.$elm$).insertBefore(s,K(h.$elm$))}o>u?H(e,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&G(t,o,u)})(n,r,t,s):null!==s?(null!==e.$text$&&(n.textContent=""),H(n,null,t,s,0,s.length-1)):null!==r&&G(r,0,r.length-1),l&&"svg"===i&&(l=!1)):(a=n["s-cr"])?a.parentNode.textContent=o:e.$text$!==o&&(n.data=o)},Q=e=>{let t,n,r,s,i,o,a=e.childNodes;for(n=0,r=a.length;n<r;n++)if(t=a[n],1===t.nodeType){if(t["s-sr"])for(i=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(o=a[s].nodeType,a[s]["s-hn"]!==t["s-hn"]||""!==i){if(1===o&&i===a[s].getAttribute("slot")){t.hidden=!0;break}}else if(1===o||3===o&&""!==a[s].textContent.trim()){t.hidden=!0;break}Q(t)}},Z=[],J=e=>{let t,n,r,s,i,o,c=0,l=e.childNodes,u=l.length;for(;c<u;c++){if(t=l[c],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(r=n.parentNode.childNodes,s=t["s-sn"],o=r.length-1;o>=0;o--)n=r[o],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(ee(n,s)?(i=Z.find(e=>e.$nodeToRelocate$===n),a=!0,n["s-sn"]=n["s-sn"]||s,i?i.$slotRefNode$=t:Z.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&Z.map(e=>{ee(e.$nodeToRelocate$,n["s-sn"])&&(i=Z.find(e=>e.$nodeToRelocate$===n),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))})):Z.some(e=>e.$nodeToRelocate$===n)||Z.push({$nodeToRelocate$:n}));1===t.nodeType&&J(t)}},ee=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,te=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(te)},ne=e=>Te(e).$hostElement$,re=(e,t,n)=>{const r=ne(e);return{emit:e=>se(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},se=(e,t,n)=>{const r=p.ce(t,n);return e.dispatchEvent(r),r},ie=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},oe=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return ie(e,e.$ancestorComponent$),je(()=>ae(e,t));e.$flags$|=512},ae=(e,t)=>{const n=e.$lazyInstance$;let r;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([e,t])=>fe(n,e,t)),e.$queuedListeners$=null),r=fe(n,"componentWillLoad")),r=pe(r,()=>fe(n,"componentWillRender")),pe(r,()=>ce(e,n,t))},ce=async(e,t,n)=>{const r=e.$hostElement$,s=r["s-rc"];n&&(e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=k(g&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);10&r&&(n["s-sc"]=s,n.classList.add(s+"-h"),2&r&&n.classList.add(s+"-s"))})(e),le(e,t),p.$cssShim$&&p.$cssShim$.updateHost(r),s&&(s.map(e=>e()),r["s-rc"]=void 0);{const t=r["s-p"],n=()=>ue(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}},le=(e,t,n)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t)=>{const n=e.$hostElement$,l=e.$cmpMeta$,u=e.$vnode$||P(null,null),h=(d=t)&&d.$tag$===$?t:R(null,null,t);var d;if(i=n.tagName,l.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},l.$attrsToReflect$.map(([e,t])=>h.$attrs$[t]=n[e])),h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=u.$elm$=n.shadowRoot||n,r=n["s-sc"],s=n["s-cr"],o=g&&0!=(1&l.$flags$),a=!1,X(u,h),p.$flags$|=1,c){let e,t,n,r,s,i;J(h.$elm$);let o=0;for(;o<Z.length;o++)e=Z[o],t=e.$nodeToRelocate$,t["s-ol"]||(n=f.createTextNode(""),n["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=n,t));for(o=0;o<Z.length;o++)if(e=Z[o],t=e.$nodeToRelocate$,e.$slotRefNode$){for(r=e.$slotRefNode$.parentNode,s=e.$slotRefNode$.nextSibling,n=t["s-ol"];n=n.previousSibling;)if(i=n["s-nr"],i&&i["s-sn"]===t["s-sn"]&&r===i.parentNode&&(i=i.nextSibling,!i||!i["s-nr"])){s=i;break}(!s&&r!==t.parentNode||t.nextSibling!==s)&&t!==s&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),r.insertBefore(t,s))}else 1===t.nodeType&&(t.hidden=!0)}a&&Q(h.$elm$),p.$flags$&=-2,Z.length=0})(e,t)}catch(l){xe(l,e.$hostElement$)}return null},ue=e=>{const t=e.$hostElement$,n=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$?fe(n,"componentDidUpdate"):(e.$flags$|=64,ge(t),fe(n,"componentDidLoad"),e.$onReadyResolve$(t),r||de()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Ue(()=>oe(e,!1)),e.$flags$&=-517},he=e=>{{const t=Te(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&oe(t,!1),n}},de=e=>{ge(f.documentElement),Ue(()=>se(h,"appload",{detail:{namespace:"ionic"}}))},fe=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){xe(r)}},pe=(e,t)=>e&&e.then?e.then(t):t(),ge=e=>e.classList.add("hydrated"),me=(e,t,n,r,s,i,o)=>{let a,c,l,u;if(1===i.nodeType){for(a=i.getAttribute(I),a&&(c=a.split("."),c[0]!==o&&"0"!==c[0]||(l={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:i.tagName.toLowerCase(),$elm$:i,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(l),i.removeAttribute(I),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,e=l,r&&"0"===l.$depth$&&(r[l.$index$]=l.$elm$))),u=i.childNodes.length-1;u>=0;u--)me(e,t,n,r,s,i.childNodes[u],o);if(i.shadowRoot)for(u=i.shadowRoot.childNodes.length-1;u>=0;u--)me(e,t,n,r,s,i.shadowRoot.childNodes[u],o)}else if(8===i.nodeType)c=i.nodeValue.split("."),c[1]!==o&&"0"!==c[1]||(a=c[0],l={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:i,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(l.$elm$=i.nextSibling,l.$elm$&&3===l.$elm$.nodeType&&(l.$text$=l.$elm$.textContent,t.push(l),i.remove(),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,r&&"0"===l.$depth$&&(r[l.$index$]=l.$elm$))):l.$hostId$===o&&("s"===a?(l.$tag$="slot",i["s-sn"]=c[5]?l.$name$=c[5]:"",i["s-sr"]=!0,r&&(l.$elm$=f.createElement(l.$tag$),l.$name$&&l.$elm$.setAttribute("name",l.$name$),i.parentNode.insertBefore(l.$elm$,i),i.remove(),"0"===l.$depth$&&(r[l.$index$]=l.$elm$)),n.push(l),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l):"r"===a&&(r?i.remove():(s["s-cr"]=i,i["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=P(null,i.textContent);t.$elm$=i,t.$index$="0",e.$children$=[t]}},ye=(e,t)=>{if(1===e.nodeType){let n=0;for(;n<e.childNodes.length;n++)ye(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)ye(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},ve=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),s=e.prototype;if(r.map(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(s,e,{get(){return t=e,Te(this).$instanceValues$.get(t);var t},set(n){((e,t,n,r)=>{const s=Te(this),i=s.$hostElement$,o=s.$instanceValues$.get(t),a=s.$flags$,c=s.$lazyInstance$;var l,u;if(u=r.$members$[t][0],n=null==(l=n)||D(l)?l:4&u?"false"!==l&&(""===l||!!l):2&u?parseFloat(l):1&u?String(l):l,!(8&a&&void 0!==o||n===o)&&(s.$instanceValues$.set(t,n),c)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map(e=>{try{c[e](n,o,t)}catch(r){xe(r,i)}})}2==(18&a)&&oe(s,!1)}})(0,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(s,e,{value(...t){const n=Te(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const n=new Map;s.attributeChangedCallback=function(e,t,r){p.jmp(()=>{const t=n.get(e);this[t]=(null!==r||"boolean"!=typeof this[t])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,r])=>{const s=r[1]||e;return n.set(s,e),512&r[0]&&t.$attrsToReflect$.push([e,s]),s})}}return e},we=e=>{fe(e,"connectedCallback")},be=e=>{if(0==(1&p.$flags$)){const t=Te(e),r=t.$cmpMeta$,s=()=>{};if(1&t.$flags$)v(e,t,r.$listeners$),we(t.$lazyInstance$);else{let s;if(t.$flags$|=1,s=e.getAttribute(S),s){if(g&&1&r.$flags$){const t=k(e.shadowRoot,r,e.getAttribute("s-mode"));e.classList.remove(t+"-h",t+"-s")}((e,t,n,r)=>{const s=e.shadowRoot,i=[],o=s?[]:null,a=r.$vnode$=P(t,null);p.$orgLocNodes$||ye(f.body,p.$orgLocNodes$=new Map),e["s-id"]=n,e.removeAttribute(S),me(a,i,[],o,e,e,n),i.map(e=>{const n=e.$hostId$+"."+e.$nodeId$,r=p.$orgLocNodes$.get(n),i=e.$elm$;r&&g&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),s||(i["s-hn"]=t,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),p.$orgLocNodes$.delete(n)}),s&&o.map(e=>{e&&s.appendChild(e)})})(e,r.$tagName$,s,t)}s||12&r.$flags$&&_e(e);{let n=e;for(;n=n.parentNode||n.host;)if(1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){ie(t,t.$ancestorComponent$=n);break}}r.$members$&&Object.entries(r.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),Ue(()=>(async(e,t,r,s,i)=>{if(0==(32&t.$flags$)){{if(t.$flags$|=32,(i=Ne(r)).then){const e=()=>{};i=await i,e()}i.isProxied||(r.$watchers$=i.watchers,ve(i,r,2),i.isProxied=!0);const e=()=>{};t.$flags$|=8;try{new i(t)}catch(c){xe(c)}t.$flags$&=-9,t.$flags$|=128,e(),we(t.$lazyInstance$)}if(i.style){let s=i.style;"string"!=typeof s&&(s=s[t.$modeName$=(e=>Re.map(t=>t(e)).find(e=>!!e))(e)]);const o=A(r,t.$modeName$);if(!De.has(o)){const e=()=>{};8&r.$flags$&&(s=await n.e(5561).then(n.bind(n,5561)).then(e=>e.scopeCss(s,o,!1))),C(o,s,!!(1&r.$flags$)),e()}}}const o=t.$ancestorComponent$,a=()=>oe(t,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()})(e,t,r))}s()}},_e=e=>{const t=e["s-cr"]=f.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Se=(e,t={})=>{const n=[],r=t.exclude||[],s=h.customElements,i=f.head,o=i.querySelector("meta[charset]"),a=f.createElement("style"),c=[],l=f.querySelectorAll("[sty-id]");let u,d=!0,m=0;for(Object.assign(p,t),p.$resourcesUrl$=new URL(t.resourcesUrl||"./",f.baseURI).href,p.$flags$|=2;m<l.length;m++)C(l[m].getAttribute("sty-id"),l[m].innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0);e.map(e=>e[1].map(t=>{const i={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};i.$members$=t[2],i.$listeners$=t[3],i.$attrsToReflect$=[],i.$watchers$={},!g&&1&i.$flags$&&(i.$flags$|=8);const o=i.$tagName$,a=class extends HTMLElement{constructor(e){super(e),ke(e=this,i),1&i.$flags$&&(g?e.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)}):"shadowRoot"in e||(e.shadowRoot=e))}connectedCallback(){u&&(clearTimeout(u),u=null),d?c.push(this):p.jmp(()=>be(this))}disconnectedCallback(){p.jmp(()=>(e=>{if(0==(1&p.$flags$)){const t=Te(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(e=>e()),t.$rmListeners$=void 0),p.$cssShim$&&p.$cssShim$.removeHost(e),fe(n,"disconnectedCallback")}})(this))}componentOnReady(){return Te(this).$onReadyPromise$}};i.$lazyBundleId$=e[0],r.includes(o)||s.get(o)||(n.push(o),s.define(o,ve(a,i,1)))})),a.innerHTML=n+"{visibility:hidden}.hydrated{visibility:inherit}",a.setAttribute("data-styles",""),i.insertBefore(a,o?o.nextSibling:i.firstChild),d=!1,c.length?c.map(e=>e.connectedCallback()):p.jmp(()=>u=setTimeout(de,30))},Ie=e=>{const t=new URL(e,p.$resourcesUrl$);return t.origin!==h.location.origin?t.href:t.pathname},Ee=new WeakMap,Te=e=>Ee.get(e),Ce=(e,t)=>Ee.set(t.$lazyInstance$=e,t),ke=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(e=>n.$onInstanceResolve$=e),n.$onReadyPromise$=new Promise(e=>n.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],v(e,n,t.$listeners$),Ee.set(e,n)},Ae=(e,t)=>t in e,xe=(e,t)=>(0,console.error)(e,t),Oe=new Map,Ne=(e,t,r)=>{const s=e.$tagName$.replace(/-/g,"_"),i=e.$lazyBundleId$,o=Oe.get(i);return o?o[s]:n(863)(`./${i}.entry.js`).then(e=>(Oe.set(i,e),e[s]),xe)},De=new Map,Re=[],Pe=[],$e=[],Le=(e,t)=>n=>{e.push(n),u||(u=!0,t&&4&p.$flags$?Ue(Fe):p.raf(Fe))},Me=e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){xe(t)}e.length=0},Fe=()=>{Me(Pe),Me($e),(u=Pe.length>0)&&p.raf(Fe)},Ue=e=>m().then(e),Ve=Le(Pe,!1),je=Le($e,!0),qe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5614:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,a:()=>o,b:()=>a,c:()=>c,d:()=>l,e:()=>E,g:()=>k,l:()=>S,s:()=>T,t:()=>u});var r=n(5133),s=n(5392);const i="ionViewWillEnter",o="ionViewDidEnter",a="ionViewWillLeave",c="ionViewDidLeave",l="ionViewWillUnload",u=e=>new Promise((t,n)=>{(0,r.c)(()=>{h(e),d(e).then(n=>{n.animation&&n.animation.destroy(),f(e),t(n)},t=>{f(e),n(t)})})}),h=e=>{const t=e.enteringEl,n=e.leavingEl;C(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),T(t,!1),t.style.setProperty("pointer-events","none"),n&&(T(n,!1),n.style.setProperty("pointer-events","none"))},d=async e=>{const t=await p(e);return t&&r.B.isBrowser?g(t,e):m(e)},f=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},p=async e=>{if(e.leavingEl&&e.animated&&0!==e.duration)return e.animationBuilder?e.animationBuilder:"ios"===e.mode?(await Promise.resolve().then(n.bind(n,7438))).iosTransitionAnimation:(await Promise.resolve().then(n.bind(n,765))).mdTransitionAnimation},g=async(e,t)=>{await y(t,!0);const n=e(t.baseEl,t);b(t.enteringEl,t.leavingEl);const r=await w(n,t);return t.progressCallback&&t.progressCallback(void 0),r&&_(t.enteringEl,t.leavingEl),{hasCompleted:r,animation:n}},m=async e=>{const t=e.enteringEl,n=e.leavingEl;return await y(e,!1),b(t,n),_(t,n),{hasCompleted:!0}},y=async(e,t)=>{const n=(void 0!==e.deepWait?e.deepWait:t)?[E(e.enteringEl),E(e.leavingEl)]:[I(e.enteringEl),I(e.leavingEl)];await Promise.all(n),await v(e.viewIsReady,e.enteringEl)},v=async(e,t)=>{e&&await e(t)},w=(e,t)=>{const n=t.progressCallback,r=new Promise(t=>{e.onFinish(e=>t(1===e))});return n?(e.progressStart(!0),n(e)):e.play(),r},b=(e,t)=>{S(t,a),S(e,i)},_=(e,t)=>{S(e,o),S(t,c)},S=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},I=e=>e?new Promise(t=>(0,s.c)(e,t)):Promise.resolve(),E=async e=>{const t=e;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(E))}},T=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},C=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},k=e=>e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e},4973:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>S,c:()=>v,g:()=>s,i:()=>I});var r=n(5133);const s=e=>o(e),i=(e,t)=>("string"==typeof e&&(t=e,e=void 0),s(e).includes(t)),o=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=a(e),t.forEach(t=>e.document.documentElement.classList.add(`plt-${t}`))),t},a=e=>Object.keys(m).filter(t=>m[t](e)),c=e=>!!p(e,/iPad/i)||!(!p(e,/Macintosh/i)||!u(e)),l=e=>p(e,/android|sink/i),u=e=>g(e,"(any-pointer:coarse)"),h=e=>d(e)||f(e),d=e=>!!(e.cordova||e.phonegap||e.PhoneGap),f=e=>{const t=e.Capacitor;return!(!t||!t.isNative)},p=(e,t)=>t.test(e.navigator.userAgent),g=(e,t)=>e.matchMedia(t).matches,m={ipad:c,iphone:e=>p(e,/iPhone/i),ios:e=>p(e,/iPhone|iPod/i)||c(e),android:l,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),s=Math.max(t,n);return r>390&&r<520&&s>620&&s<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),s=Math.max(t,n);return c(e)||(e=>l(e)&&!p(e,/mobile/i))(e)||r>460&&r<820&&s>780&&s<1400},cordova:d,capacitor:f,electron:e=>p(e,/electron/i),pwa:e=>!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone),mobile:u,mobileweb:e=>u(e)&&!h(e),desktop:e=>!u(e),hybrid:h};class y{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}}const v=new y,w="ionic:",b="ionic-persist-config";let _;const S=e=>e&&(0,r.g)(e)||_,I=(e={})=>{if("undefined"==typeof window)return;const t=window.document,n=window,s=n.Ionic=n.Ionic||{};o(n);const a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const t=e.sessionStorage.getItem(b);return null!==t?JSON.parse(t):{}}catch(t){return{}}})(n)),{persistConfig:!1}),s.config),(e=>{const t={};return e.location.search.slice(1).split("&").map(e=>e.split("=")).map(([e,t])=>[decodeURIComponent(e),decodeURIComponent(t)]).filter(([e])=>"ionic:"===e.substr(0,w.length)).map(([e,t])=>[e.slice(w.length),t]).forEach(([e,n])=>{t[e]=n}),t})(n)),e);v.reset(a),v.getBoolean("persistConfig")&&((e,t)=>{try{e.sessionStorage.setItem(b,JSON.stringify(t))}catch(n){return}})(n,a),s.config=v,s.mode=_=v.get("mode",t.documentElement.getAttribute("mode")||(i(n,"ios")?"ios":"md")),v.set("mode",_),t.documentElement.setAttribute("mode",_),t.documentElement.classList.add(_),v.getBoolean("_testing")&&v.set("animated",!1);const c=e=>e.tagName&&e.tagName.startsWith("ION-"),l=e=>["ios","md"].includes(e);(0,r.s)(e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t){if(l(t))return t;c(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return _})}},7438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{iosTransitionAnimation:()=>h,shadow:()=>o});var r=n(6760),s=n(5614);n(5133);const i=e=>document.querySelector(`${e}.ion-cloned-element`),o=e=>e.shadowRoot||e,a=e=>{const t="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=t){const e=t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=e?e.querySelector(n):null}return e.querySelector(n)},c=(e,t)=>{const n="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs");let r=[];if(null!=n){const e=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=e&&(r=e.querySelectorAll("ion-buttons"))}else r=e.querySelectorAll("ion-buttons");for(const s of r){const e=s.closest("ion-header"),n=e&&!e.classList.contains("header-collapse-condense-inactive"),r=s.querySelector("ion-back-button"),i=s.classList.contains("buttons-collapse"),o="start"===s.slot||""===s.slot;if(null!==r&&o&&(i&&n&&t||!i))return r}return null},l=(e,t,n,s,a,c)=>{const l=t?`calc(100% - ${c.right+4}px)`:c.left-4+"px",u=t?"7px":"-7px",h=t?"-4px":"4px",d=t?"-4px":"4px",f=t?"right":"left",p=t?"left":"right",g=n?[{offset:0,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${u}, ${a.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${u}, ${a.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`}],m=n?[{offset:0,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`}],y=(0,r.c)(),v=(0,r.c)(),w=i("ion-back-button"),b=o(w).querySelector(".button-text"),_=o(w).querySelector("ion-icon");w.text=s.text,w.mode=s.mode,w.icon=s.icon,w.color=s.color,w.disabled=s.disabled,w.style.setProperty("display","block"),w.style.setProperty("position","fixed"),v.addElement(_),y.addElement(b),y.beforeStyles({"transform-origin":`${f} center`}).beforeAddWrite(()=>{s.style.setProperty("display","none"),w.style.setProperty(f,l)}).afterAddWrite(()=>{s.style.setProperty("display",""),w.style.setProperty("display","none"),w.style.removeProperty(f)}).keyframes(g),v.beforeStyles({"transform-origin":`${p} center`}).keyframes(m),e.addAnimation([y,v])},u=(e,t,n,s,o,a)=>{const c=t?`calc(100% - ${o.right}px)`:`${o.left}px`,l=t?"-18px":"18px",u=t?"right":"left",h=n?[{offset:0,opacity:0,transform:`translate3d(${l}, ${a.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${l}, ${a.top-4}px, 0) scale(0.5)`}],d=i("ion-title"),f=(0,r.c)();d.innerText=s.innerText,d.size=s.size,d.color=s.color,f.addElement(d),f.beforeStyles({"transform-origin":`${u} center`,height:"46px",display:"",position:"relative",[u]:c}).beforeAddWrite(()=>{s.style.setProperty("display","none")}).afterAddWrite(()=>{s.style.setProperty("display",""),d.style.setProperty("display","none")}).keyframes(h),e.addAnimation(f)},h=(e,t)=>{try{const n="cubic-bezier(0.32,0.72,0,1)",i="opacity",h="transform",d="0%",f=.8,p="rtl"===e.ownerDocument.dir,g=p?"-99.5%":"99.5%",m=p?"33%":"-33%",y=t.enteringEl,v=t.leavingEl,w="back"===t.direction,b=y.querySelector(":scope > ion-content"),_=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),S=y.querySelectorAll(":scope > ion-header > ion-toolbar"),I=(0,r.c)(),E=(0,r.c)();if(I.addElement(y).duration(t.duration||540).easing(t.easing||n).fill("both").beforeRemoveClass("ion-page-invisible"),v&&e){const t=(0,r.c)();t.addElement(e),I.addAnimation(t)}if(b||0!==S.length||0!==_.length?(E.addElement(b),E.addElement(_)):E.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),I.addAnimation(E),w?E.beforeClearStyles([i]).fromTo("transform",`translateX(${m})`,`translateX(${d})`).fromTo(i,f,1):E.beforeClearStyles([i]).fromTo("transform",`translateX(${g})`,`translateX(${d})`),b){const e=o(b).querySelector(".transition-effect");if(e){const t=e.querySelector(".transition-cover"),n=e.querySelector(".transition-shadow"),s=(0,r.c)(),o=(0,r.c)(),a=(0,r.c)();s.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),o.addElement(t).beforeClearStyles([i]).fromTo(i,0,.1),a.addElement(n).beforeClearStyles([i]).fromTo(i,.03,.7),s.addAnimation([o,a]),E.addAnimation([s])}}const T=y.querySelector("ion-header.header-collapse-condense"),{forward:C,backward:k}=((e,t,n,r,s)=>{const i=c(r,n),o=a(s),h=a(r),d=c(s,n),f=null!==i&&null!==o&&!n,p=null!==h&&null!==d&&n;if(f){const r=o.getBoundingClientRect(),s=i.getBoundingClientRect();u(e,t,n,o,r,s),l(e,t,n,i,r,s)}else if(p){const r=h.getBoundingClientRect(),s=d.getBoundingClientRect();u(e,t,n,h,r,s),l(e,t,n,d,r,s)}return{forward:f,backward:p}})(I,p,w,y,v);if(S.forEach(e=>{const t=(0,r.c)();t.addElement(e),I.addAnimation(t);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const s=(0,r.c)(),a=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),c=e.closest("ion-header"),l=c&&c.classList.contains("header-collapse-condense-inactive");let u;u=a.filter(w?e=>{const t=e.classList.contains("buttons-collapse");return t&&!l||!t}:e=>!e.classList.contains("buttons-collapse")),s.addElement(u);const h=(0,r.c)();h.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const f=(0,r.c)();f.addElement(o(e).querySelector(".toolbar-background"));const y=(0,r.c)(),v=e.querySelector("ion-back-button");if(v&&y.addElement(v),t.addAnimation([n,s,h,f,y]),s.fromTo(i,.01,1),h.fromTo(i,.01,1),w)l||n.fromTo("transform",`translateX(${m})`,`translateX(${d})`).fromTo(i,.01,1),h.fromTo("transform",`translateX(${m})`,`translateX(${d})`),y.fromTo(i,.01,1);else if(T||n.fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(i,.01,1),h.fromTo("transform",`translateX(${g})`,`translateX(${d})`),f.beforeClearStyles([i,"transform"]),(null==c?void 0:c.translucent)?f.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):f.fromTo(i,.01,"var(--opacity)"),C||y.fromTo(i,.01,1),v&&!C){const e=(0,r.c)();e.addElement(o(v).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),t.addAnimation(e)}}),v){const e=(0,r.c)(),t=v.querySelector(":scope > ion-content"),n=v.querySelectorAll(":scope > ion-header > ion-toolbar"),a=v.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(t||0!==n.length||0!==a.length?(e.addElement(t),e.addElement(a)):e.addElement(v.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),I.addAnimation(e),w){e.beforeClearStyles([i]).fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)");const t=(0,s.g)(v);I.afterAddWrite(()=>{"normal"===I.getDirection()&&t.style.setProperty("display","none")})}else e.fromTo("transform",`translateX(${d})`,`translateX(${m})`).fromTo(i,1,f);if(t){const n=o(t).querySelector(".transition-effect");if(n){const t=n.querySelector(".transition-cover"),s=n.querySelector(".transition-shadow"),o=(0,r.c)(),a=(0,r.c)(),c=(0,r.c)();o.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(t).beforeClearStyles([i]).fromTo(i,.1,0),c.addElement(s).beforeClearStyles([i]).fromTo(i,.7,.03),o.addAnimation([a,c]),e.addAnimation([o])}}n.forEach(e=>{const t=(0,r.c)();t.addElement(e);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const s=(0,r.c)(),a=e.querySelectorAll("ion-buttons,[menuToggle]"),c=e.closest("ion-header"),l=c&&c.classList.contains("header-collapse-condense-inactive"),u=Array.from(a).filter(e=>{const t=e.classList.contains("buttons-collapse");return t&&!l||!t});s.addElement(u);const f=(0,r.c)(),g=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");g.length>0&&f.addElement(g);const y=(0,r.c)();y.addElement(o(e).querySelector(".toolbar-background"));const v=(0,r.c)(),b=e.querySelector("ion-back-button");if(b&&v.addElement(b),t.addAnimation([n,s,f,v,y]),I.addAnimation(t),v.fromTo(i,.99,0),s.fromTo(i,.99,0),f.fromTo(i,.99,0),w){if(l||n.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)").fromTo(i,.99,0),f.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)"),y.beforeClearStyles([i,"transform"]),(null==c?void 0:c.translucent)?y.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):y.fromTo(i,"var(--opacity)",0),b&&!k){const e=(0,r.c)();e.addElement(o(b).querySelector(".button-text")).fromTo("transform",`translateX(${d})`,`translateX(${(p?-124:124)+"px"})`),t.addAnimation(e)}}else l||n.fromTo("transform",`translateX(${d})`,`translateX(${m})`).fromTo(i,.99,0).afterClearStyles([h,i]),f.fromTo("transform",`translateX(${d})`,`translateX(${m})`).afterClearStyles([h,i]),v.afterClearStyles([i]),n.afterClearStyles([i]),s.afterClearStyles([i])})}return I}catch(n){throw n}}},765:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mdTransitionAnimation:()=>i});var r=n(6760),s=n(5614);n(5133);const i=(e,t)=>{const n="back"===t.direction,i=t.leavingEl,o=(0,s.g)(t.enteringEl),a=o.querySelector("ion-toolbar"),c=(0,r.c)();if(c.addElement(o).fill("both").beforeRemoveClass("ion-page-invisible"),n?c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration(t.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),a){const e=(0,r.c)();e.addElement(a),c.addAnimation(e)}if(i&&n){c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const e=(0,r.c)();e.addElement((0,s.g)(i)).onFinish(t=>{1===t&&e.elements.length>0&&e.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),c.addAnimation(e)}return c}},1092:(e,t,n)=>{"use strict";n.d(t,{B:()=>P,a:()=>l,b:()=>u,c:()=>p,d:()=>E,e:()=>m,f:()=>C,g:()=>x,h:()=>a,i:()=>N,l:()=>h,m:()=>d,p:()=>f,s:()=>R,t:()=>g});var r=n(4973),s=n(8876),i=n(5392);let o=0;const a=new WeakMap,c=e=>({create:t=>y(e,t),dismiss:(t,n,r)=>_(document,t,n,e,r),getTop:async()=>S(document,e)}),l=c("ion-alert"),u=c("ion-action-sheet"),h=c("ion-loading"),d=c("ion-modal"),f=c("ion-picker"),p=c("ion-popover"),g=c("ion-toast"),m=e=>{"undefined"!=typeof document&&b(document);const t=o++;e.overlayIndex=t,e.hasAttribute("id")||(e.id=`ion-overlay-${t}`)},y=(e,t)=>"undefined"!=typeof customElements?customElements.whenDefined(e).then(()=>{const n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,t),k(document).appendChild(n),new Promise(e=>(0,i.c)(n,e))}):Promise.resolve(),v='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',w="input:not([type=hidden]), textarea, button, select",b=e=>{0===o&&(o=1,e.addEventListener("focus",t=>((e,t)=>{const n=S(t),r=e.target;if(n&&r)if(n===r)n.lastFocus=void 0;else{const e=(0,i.g)(n);if(!e.contains(r))return;const s=e.querySelector(".ion-overlay-wrapper");if(!s)return;if(s.contains(r))n.lastFocus=r;else{const e=n.lastFocus;((e,t)=>{let n=e.querySelector(v);const r=n&&n.shadowRoot;r&&(n=r.querySelector(w)||n),n?n.focus():t.focus()})(s,n),e===t.activeElement&&((e,t)=>{const n=Array.from(e.querySelectorAll(v));let r=n.length>0?n[n.length-1]:null;const s=r&&r.shadowRoot;s&&(r=s.querySelector(w)||r),r?r.focus():t.focus()})(s,n),n.lastFocus=t.activeElement}}})(t,e),!0),e.addEventListener("ionBackButton",t=>{const n=S(e);n&&n.backdropDismiss&&t.detail.register(s.OVERLAY_BACK_BUTTON_PRIORITY,()=>n.dismiss(void 0,P))}),e.addEventListener("keyup",t=>{if("Escape"===t.key){const t=S(e);t&&t.backdropDismiss&&t.dismiss(void 0,P)}}))},_=(e,t,n,r,s)=>{const i=S(e,r,s);return i?i.dismiss(t,n):Promise.reject("overlay does not exist")},S=(e,t,n)=>{const r=((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(e=>e.overlayIndex>0)))(e,t);return void 0===n?r[r.length-1]:r.find(e=>e.id===n)},I=(e=!1)=>{const t=k(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},E=async(e,t,n,s,i)=>{if(e.presented)return;I(!0),e.presented=!0,e.willPresent.emit();const o=(0,r.b)(e),a=e.enterAnimation?e.enterAnimation:r.c.get(t,"ios"===o?n:s);await A(e,a,e.el,i)&&e.didPresent.emit(),"ION-TOAST"!==e.el.tagName&&T(e.el),e.keyboardClose&&e.el.focus()},T=async e=>{let t=document.activeElement;if(!t)return;const n=t&&t.shadowRoot;n&&(t=n.querySelector(w)||t),await e.onDidDismiss(),t.focus()},C=async(e,t,n,s,i,o,c)=>{if(!e.presented)return!1;I(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n});const l=(0,r.b)(e),u=e.leaveAnimation?e.leaveAnimation:r.c.get(s,"ios"===l?i:o);"gesture"!==n&&await A(e,u,e.el,c),e.didDismiss.emit({data:t,role:n}),a.delete(e)}catch(l){console.error(l)}return e.el.remove(),!0},k=e=>e.querySelector("ion-app")||e.body,A=async(e,t,n,s)=>{n.classList.remove("overlay-hidden");const i=t(n.shadowRoot||e.el,s);e.animated&&r.c.getBoolean("animated",!0)||i.duration(0),e.keyboardClose&&i.beforeAddWrite(()=>{const e=n.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()});const o=a.get(e)||[];return a.set(e,[...o,i]),await i.play(),!0},x=(e,t)=>{let n;const r=new Promise(e=>n=e);return O(e,t,e=>{n(e.detail)}),r},O=(e,t,n)=>{const r=s=>{(0,i.b)(e,t,r),n(s)};(0,i.a)(e,t,r)},N=e=>"cancel"===e||e===P,D=e=>e(),R=(e,t)=>{if("function"==typeof e)return r.c.get("_zoneGate",D)(()=>{try{return e(t)}catch(n){console.error(n)}})},P="backdrop"},9074:(e,t,n)=>{"use strict";n.d(t,{H:()=>U,a:()=>P,b:()=>oe,c:()=>ae,d:()=>ce,g:()=>le,h:()=>M,r:()=>v});let r,s,i=0,o=!1,a=!1;const c="undefined"!=typeof window?window:{},l=c.CSS,u=c.document||{head:{}},h={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r)},d=(()=>(u.head.attachShadow+"").indexOf("[native")>-1)(),f=e=>Promise.resolve(e),p=(()=>{try{return new CSSStyleSheet,!0}catch(e){}return!1})(),g={},m=new WeakMap,y=e=>m.get(e),v=(e,t)=>m.set(t.$lazyInstance$=e,t),w=(e,t)=>t in e,b=e=>console.error(e),_=new Map,S=new Map,I=[],E=[],T=[],C=(e,t)=>n=>{e.push(n),o||(o=!0,t&&4&h.$flags$?x(A):h.raf(A))},k=(e,t)=>{let n=0,r=0;for(;n<e.length&&(r=performance.now())<t;)try{e[n++](r)}catch(s){b(s)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},A=()=>{i++,(e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){b(t)}e.length=0})(I);const e=2==(6&h.$flags$)?performance.now()+10*Math.ceil(i*(1/22)):1/0;k(E,e),k(T,e),E.length>0&&(T.push(...E),E.length=0),(o=I.length+E.length+T.length>0)?h.raf(A):i=0},x=e=>f().then(e),O=C(I,!1),N=C(E,!0),D={},R=e=>"object"==(e=typeof e)||"function"===e,P=()=>l&&l.supports&&l.supports("color","var(--c)")?f():n.e(4952).then(n.t.bind(n,6866,23)).then(()=>(h.$cssShim$=c.__cssshim)?h.$cssShim$.i():0),$=new WeakMap,L=(e,t)=>"sc-"+e,M=(e,t,...n)=>{let r=null,s=!1,i=!1,o=[];const a=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?a(r):null!=r&&"boolean"!=typeof r&&((s="function"!=typeof e&&!R(r))&&(r=String(r)),s&&i?o[o.length-1].$text$+=r:o.push(s?F(null,r):r),i=s)};if(a(n),t){const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}const c=F(e,null);return c.$attrs$=t,o.length>0&&(c.$children$=o),c},F=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null}),U={},V=(e,t,n,r,s,i)=>{if(n!==r){let a=w(e,t),l=t.toLowerCase();if("class"===t){const t=e.classList,s=q(n),i=q(r);t.remove(...s.filter(e=>e&&!i.includes(e))),t.add(...i.filter(e=>e&&!s.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("ref"===t)r&&r(e);else if(a||"o"!==t[0]||"n"!==t[1]){const c=R(r);if((a||c&&null!==r)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{let s=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==s||(e[t]=s)}}catch(o){}null==r||!1===r?e.removeAttribute(t):(!a||4&i||s)&&!c&&e.setAttribute(t,r=!0===r?"":r)}else t="-"===t[2]?t.slice(3):w(c,l)?l.slice(2):l[2]+t.slice(3),n&&h.rel(e,t,n,!1),r&&h.ael(e,t,r,!1)}},j=/\s/,q=e=>e?e.split(j):[],B=(e,t,n,r)=>{const s=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||D,o=t.$attrs$||D;for(r in i)r in o||V(s,r,i[r],void 0,n,t.$flags$);for(r in o)V(s,r,i[r],o[r],n,t.$flags$)},z=(e,t,n,s)=>{let i,o,c=t.$children$[n],l=0;if(null!==c.$text$)i=c.$elm$=u.createTextNode(c.$text$);else{if(a||(a="svg"===c.$tag$),i=c.$elm$=u.createElementNS(a?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",c.$tag$),a&&"foreignObject"===c.$tag$&&(a=!1),B(null,c,a),null!=r&&i["s-si"]!==r&&i.classList.add(i["s-si"]=r),c.$children$)for(l=0;l<c.$children$.length;++l)o=z(e,c,l),o&&i.appendChild(o);"svg"===c.$tag$?a=!1:"foreignObject"===i.tagName&&(a=!0)}return i},H=(e,t,n,r,i,o)=>{let a,c=e;for(c.shadowRoot&&c.tagName===s&&(c=c.shadowRoot);i<=o;++i)r[i]&&(a=z(null,n,i),a&&(r[i].$elm$=a,c.insertBefore(a,t)))},G=(e,t,n,r,s)=>{for(;t<=n;++t)(r=e[t])&&(s=r.$elm$,W(r),s.remove())},Y=(e,t)=>e.$tag$===t.$tag$,K=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,s=t.$children$,i=t.$tag$,o=t.$text$;null===o?(a="svg"===i||"foreignObject"!==i&&a,B(e,t,a),null!==r&&null!==s?((e,t,n,r)=>{let s,i=0,o=0,a=t.length-1,c=t[0],l=t[a],u=r.length-1,h=r[0],d=r[u];for(;i<=a&&o<=u;)null==c?c=t[++i]:null==l?l=t[--a]:null==h?h=r[++o]:null==d?d=r[--u]:Y(c,h)?(K(c,h),c=t[++i],h=r[++o]):Y(l,d)?(K(l,d),l=t[--a],d=r[--u]):Y(c,d)?(K(c,d),e.insertBefore(c.$elm$,l.$elm$.nextSibling),c=t[++i],d=r[--u]):Y(l,h)?(K(l,h),e.insertBefore(l.$elm$,c.$elm$),l=t[--a],h=r[++o]):(s=z(t&&t[o],n,o),h=r[++o],s&&c.$elm$.parentNode.insertBefore(s,c.$elm$));i>a?H(e,null==r[u+1]?null:r[u+1].$elm$,n,r,o,u):o>u&&G(t,i,a)})(n,r,t,s):null!==s?(null!==e.$text$&&(n.textContent=""),H(n,null,t,s,0,s.length-1)):null!==r&&G(r,0,r.length-1),a&&"svg"===i&&(a=!1)):e.$text$!==o&&(n.data=o)},W=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.forEach(W)},X=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},Q=(e,t,n,r)=>{if(t.$flags$|=16,4&t.$flags$)return void(t.$flags$|=512);const s=t.$lazyInstance$,i=()=>Z(e,t,n,s,r);return X(t,t.$ancestorComponent$),r&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.forEach(([e,t])=>ne(s,e,t)),t.$queuedListeners$=null)),re(void 0,()=>N(i))},Z=(e,t,n,i,o)=>{const a=e["s-rc"];o&&((e,t,n)=>{const r=((e,t,n,r)=>{let s=L(t.$tagName$),i=S.get(s);if(e=11===e.nodeType?e:u,i)if("string"==typeof i){let n,o=$.get(e=e.head||e);if(o||$.set(e,o=new Set),!o.has(s)){if(h.$cssShim$){n=h.$cssShim$.createHostStyle(r,s,i,!!(10&t.$flags$));const e=n["s-sc"];e&&(s=e,o=null)}else n=u.createElement("style"),n.innerHTML=i;e.insertBefore(n,e.querySelector("link")),o&&o.add(s)}}else e.adoptedStyleSheets.includes(i)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return s})(d&&e.shadowRoot?e.shadowRoot:e.getRootNode(),t,0,e);10&t.$flags$&&(e["s-sc"]=r,e.classList.add(r+"-h"))})(e,n),((e,t,n,i)=>{s=e.tagName;const o=t.$vnode$||F(null,null),a=(c=i)&&c.$tag$===U?i:M(null,null,i);var c;a.$tag$=null,a.$flags$|=4,t.$vnode$=a,a.$elm$=o.$elm$=e.shadowRoot||e,r=e["s-sc"],K(o,a)})(e,t,0,J(i)),h.$cssShim$&&h.$cssShim$.updateHost(e),t.$flags$&=-17,t.$flags$|=2,a&&(a.forEach(e=>e()),e["s-rc"]=void 0);{const r=e["s-p"],s=()=>ee(e,t,n);0===r.length?s():(Promise.all(r).then(s),t.$flags$|=4,r.length=0)}},J=(e,t)=>{try{e=e.render()}catch(n){b(n)}return e},ee=(e,t,n)=>{const r=t.$lazyInstance$,s=t.$ancestorComponent$;64&t.$flags$||(t.$flags$|=64,se(e),ne(r,"componentDidLoad"),t.$onReadyResolve$(e),s||te()),t.$onInstanceResolve$(e),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&x(()=>Q(e,t,n,!1)),t.$flags$&=-517},te=e=>{se(u.documentElement),h.$flags$|=2},ne=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){b(r)}},re=(e,t)=>e&&e.then?e.then(t):t(),se=e=>e.classList.add("hydrated"),ie=(e,t,n)=>{if(t.$members$){const r=Object.entries(t.$members$),s=e.prototype;if(r.forEach(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(s,e,{get(){return t=e,y(this).$instanceValues$.get(t);var t},set(n){((e,t,n,r)=>{const s=y(this),i=s.$hostElement$,o=s.$instanceValues$.get(t),a=s.$flags$,c=s.$lazyInstance$;var l,u;u=r.$members$[t][0],(n=null==(l=n)||R(l)?l:4&u?"false"!==l&&(""===l||!!l):2&u?parseFloat(l):1&u?String(l):l)===o||8&a&&void 0!==o||(s.$instanceValues$.set(t,n),c&&2==(18&a)&&Q(i,s,r,!1))})(0,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(s,e,{value(...t){const n=y(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const t=new Map;s.attributeChangedCallback=function(e,n,r){h.jmp(()=>{const n=t.get(e);this[n]=(null!==r||"boolean"!=typeof this[n])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,n])=>{const r=n[1]||e;return t.set(r,e),r})}}return e},oe=(e,t={})=>{const r=[],s=t.exclude||[],i=c.customElements,o=u.head,a=o.querySelector("meta[charset]"),l=u.createElement("style"),f=[];let g,v=!0;Object.assign(h,t),h.$resourcesUrl$=new URL(t.resourcesUrl||"./",u.baseURI).href,t.syncQueue&&(h.$flags$|=4),e.forEach(e=>e[1].forEach(t=>{const o={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};o.$members$=t[2],o.$listeners$=t[3],!d&&1&o.$flags$&&(o.$flags$|=8);const a=o.$tagName$,c=class extends HTMLElement{constructor(e){super(e),(e=>{const t={$flags$:0,$hostElement$:e,$instanceValues$:new Map};t.$onInstancePromise$=new Promise(e=>t.$onInstanceResolve$=e),t.$onReadyPromise$=new Promise(e=>t.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],m.set(e,t)})(e=this),1&o.$flags$&&(d?e.attachShadow({mode:"open"}):"shadowRoot"in e||(e.shadowRoot=e))}connectedCallback(){g&&(clearTimeout(g),g=null),v?f.push(this):h.jmp(()=>((e,t)=>{if(0==(1&h.$flags$)){const r=()=>{},s=y(e);if(t.$listeners$&&(s.$rmListeners$=((e,t,n)=>{t.$queuedListeners$=t.$queuedListeners$||[];const r=n.map(([n,r,s])=>{const i=((e,t)=>32&t?u.body:e)(e,n),o=((e,t)=>n=>{256&e.$flags$?e.$lazyInstance$[t](n):e.$queuedListeners$.push([t,n])})(t,s),a=(e=>0!=(2&e))(n);return h.ael(i,r,o,a),()=>h.rel(i,r,o,a)});return()=>r.forEach(e=>e())})(e,s,t.$listeners$)),!(1&s.$flags$)){s.$flags$|=1;{let t=e;for(;t=t.parentNode||t.host;)if(t["s-p"]){X(s,s.$ancestorComponent$=t);break}}t.$members$&&Object.entries(t.$members$).forEach(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),x(()=>(async(e,t,r,s,i)=>{if(0==(32&t.$flags$)){t.$flags$|=32;{if((i=((e,t,r)=>{const s=e.$tagName$.replace(/-/g,"_"),i=e.$lazyBundleIds$,o=_.get(i);return o?o[s]:n(5899)(`./${i}.entry.js`).then(e=>(_.set(i,e),e[s]),b)})(r)).then){const e=()=>{};i=await i,e()}i.isProxied||(ie(i,r,2),i.isProxied=!0);const e=()=>{};t.$flags$|=8;try{new i(t)}catch(c){b(c)}t.$flags$&=-9,e()}const e=L(r.$tagName$);if(!S.has(e)&&i.style){const t=()=>{};let s=i.style;8&r.$flags$&&(s=await n.e(5751).then(n.bind(n,5751)).then(t=>t.scopeCss(s,e,!1))),((e,t,n)=>{let r=S.get(e);p&&n?(r=r||new CSSStyleSheet,r.replace(t)):r=t,S.set(e,r)})(e,s,!!(1&r.$flags$)),t()}}const o=t.$ancestorComponent$,a=()=>Q(e,t,r,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()})(e,s,t))}r()}})(this,o))}disconnectedCallback(){h.jmp(()=>(e=>{if(0==(1&h.$flags$)){const t=y(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$(),t.$rmListeners$=void 0),h.$cssShim$&&h.$cssShim$.removeHost(e),ne(n,"componentDidUnload")}})(this))}forceUpdate(){((e,t)=>{{const n=y(e);n.$hostElement$.isConnected&&2==(18&n.$flags$)&&Q(e,n,t,!1)}})(this,o)}componentOnReady(){return y(this).$onReadyPromise$}};o.$lazyBundleIds$=e[0],s.includes(a)||i.get(a)||(r.push(a),i.define(a,ie(c,o,1)))})),l.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",l.setAttribute("data-styles",""),o.insertBefore(l,a?a.nextSibling:o.firstChild),v=!1,f.length>0?f.forEach(e=>e.connectedCallback()):h.jmp(()=>g=setTimeout(te,30))},ae=(e,t,n)=>{const r=le(e);return{emit:e=>{const s=new CustomEvent(t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e});return r.dispatchEvent(s),s}}},ce=(e,t)=>t in g?g[t]:"window"===t?c:"document"===t?u:"isServer"!==t&&"isPrerender"!==t&&("isClient"===t||("resourcesUrl"===t||"publicPath"===t?(e=>{const t=new URL(".",h.$resourcesUrl$);return t.origin!==c.location.origin?t.href:t.pathname})():"queue"===t?{write:N,read:O,tick:{then:e=>x(e)}}:void 0)),le=e=>y(e).$hostElement$},2604:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(680),s=n.n(r);const i={SecureStorage:"ionicSecureStorage",IndexedDB:s().INDEXEDDB,LocalStorage:s().LOCALSTORAGE},o={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[i.SecureStorage,i.IndexedDB,i.LocalStorage]};class a{constructor(e=o){this._db=null,this._secureStorageDriver=null;const t=Object.assign({},o,e||{});this._config=t}async create(){const e=s().createInstance(this._config);return this._db=e,await e.setDriver(this._config.driverOrder||[]),this}async defineDriver(e){return e._driver===i.SecureStorage&&(this._secureStorageDriver=e),s().defineDriver(e)}get driver(){var e;return(null===(e=this._db)||void 0===e?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,t){return this.assertDb().setItem(e,t)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var t;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(t=this._secureStorageDriver)||void 0===t||t.setEncryptionKey(e)}}},1665:(e,t,n)=>{"use strict";n.d(t,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=n(5871);(0,r.registerVersion)("firebase","9.6.8","app")},2837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(159);r.Z.registerVersion("firebase","9.6.8","app-compat")},5524:(e,t,n)=>{"use strict";n.r(t);var r=n(159),s=n(9870),i=n(5871),o=n(1855),a=n(4560),c=n(9171);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},u=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new a.Yd("@firebase/auth");function d(e,...t){h.logLevel<=a.in.ERROR&&h.error(`Auth (${i.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw y(e,...t)}function p(e,...t){return y(e,...t)}function g(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),g(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return u.create(e,...t)}function v(e,t,...n){if(!e)throw y(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function b(e,t){e||w(t)}const _=new Map;function S(e){b(e instanceof Function,"Expected a class definition");let t=_.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_.set(e,t),t)}function I(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function k(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},O=new C(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function D(e,t,n,r,i={}){return R(e,i,async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),A.fetch()($(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})}async function R(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),t);try{const t=new L(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw M(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw M(e,"email-already-in-use",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(e,a,o);f(e,a)}}catch(i){if(i instanceof s.ZR)throw i;f(e,"network-request-failed")}}async function P(e,t,n,r,s={}){const i=await D(e,t,n,r,s);return"mfaPendingCredential"in i&&f(e,"multi-factor-auth-required",{_serverResponse:i}),i}function $(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?k(e.config,s):`${e.config.apiScheme}://${s}`}class L{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),O.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function M(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=p(e,t,r);return s.customData._tokenResponse=n,s}function F(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function U(e){return 1e3*Number(e)}function V(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(i){return d("Caught error parsing JWT payload as JSON",i),null}}async function j(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof s.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class B{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=F(this.lastLoginAt),this.creationTime=F(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function z(e){var t;const n=e.auth,r=await e.getIdToken(),s=await j(e,async function(e,t){return D(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));v(null==s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,o._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],c=(l=a,[...e.providerData.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var l;const u=!!e.isAnonymous&&!(e.email&&i.passwordHash||(null==c?void 0:c.length)),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new B(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=V(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return v(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await R(e,{},async()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=$(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new H;return n&&(v("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(v("number"==typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return w("not implemented")}}function G(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Y{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=(0,o._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new B(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await j(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,s.m9)(e),r=await n.getIdToken(t),i=V(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:F(U(i.auth_time)),issuedAtTime:F(U(i.iat)),expirationTime:F(U(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,s.m9)(e);await z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Y(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await j(this,async function(e,t){return D(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:b,isAnonymous:_,providerData:S,stsTokenManager:I}=t;v(w&&I,e,"internal-error");const E=H.fromJSON(this.name,I);v("string"==typeof w,e,"internal-error"),G(u,e.name),G(h,e.name),v("boolean"==typeof b,e,"internal-error"),v("boolean"==typeof _,e,"internal-error"),G(d,e.name),G(f,e.name),G(p,e.name),G(g,e.name),G(m,e.name),G(y,e.name);const T=new Y({uid:w,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:y});return S&&Array.isArray(S)&&(T.providerData=S.map(e=>Object.assign({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new H;r.updateFromServerResponse(t);const s=new Y({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await z(s),s}}const K=(()=>{class e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function W(e,t,n){return`firebase:${e}:${t}:${n}`}class X{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=W(this.userKey,r.apiKey,s),this.fullPersistenceKey=W("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Y._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new X(S(K),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||S(K);const i=W(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(i);if(t){const n=Y._fromJSON(e,t);l!==s&&(o=n),s=l;break}}catch(c){}const a=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&a.length?(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(c){}})),new X(s,e,n)):new X(s,e,n)}}function Q(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(te(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Z(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(re(t))return"Blackberry";if(se(t))return"Webos";if(J(t))return"Safari";if((t.includes("chrome/")||ee(t))&&!t.includes("edge/"))return"Chrome";if(ne(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function Z(e=(0,s.z$)()){return/firefox\//i.test(e)}function J(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ee(e=(0,s.z$)()){return/crios\//i.test(e)}function te(e=(0,s.z$)()){return/iemobile/i.test(e)}function ne(e=(0,s.z$)()){return/android/i.test(e)}function re(e=(0,s.z$)()){return/blackberry/i.test(e)}function se(e=(0,s.z$)()){return/webos/i.test(e)}function ie(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function oe(e=(0,s.z$)()){return ie(e)||ne(e)||se(e)||re(e)||/windows phone/i.test(e)||te(e)}function ae(e,t=[]){let n;switch(e){case"Browser":n=Q((0,s.z$)());break;case"Worker":n=`${Q((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${r}`}class ce{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ue(this),this.idTokenSubscription=new ue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await X.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e)):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,i=await this.tryRedirectSignIn(e);r&&r!==s||!(null==i?void 0:i.user)||(n=i.user)}return n?n._redirectEventId?(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await z(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,s.m9)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(S(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&S(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await X.create(this,[S(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return v(i,this,"internal-error"),i.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function le(e){return(0,s.m9)(e)}class ue{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function he(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function de(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function pe(e,t){return D(e,"POST","/v1/accounts:resetPassword",N(e,t))}async function ge(e,t){return D(e,"POST","/v1/accounts:update",t)}async function me(e,t){return D(e,"POST","/v1/accounts:sendOobCode",N(e,t))}class ye extends fe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ge(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ve(e,t){return P(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}class we extends fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new we(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=(0,o._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new we(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}const be={USER_NOT_FOUND:"user-not-found"};class _e extends fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _e({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _e({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await P(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw M(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),be)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new _e({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class Se{constructor(e){var t,n,r,i,o,a;const c=(0,s.zd)((0,s.pd)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);v(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new Se(t)}catch(n){return null}}}let Ie=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Se.parseLink(t);return v(n,"argument-error"),ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Ee{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Te extends Ee{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ce extends Te{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),we._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ce.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ce.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:s,nonce:i,providerId:o}=e;if(!(n||r||t||s))return null;if(!o)return null;try{return new Ce(o)._credential({idToken:t,accessToken:n,nonce:i,pendingToken:s})}catch(a){return null}}}let ke=(()=>{class e extends Te{constructor(){super("facebook.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),Ae=(()=>{class e extends Te{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(s){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),xe=(()=>{class e extends Te{constructor(){super("github.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class Oe extends fe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:s}=t;return n&&r&&s&&n===r?new Oe(n,s):null}static _create(e,t){return new Oe(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ne extends Ee{constructor(e){v(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ne.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ne.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Oe.fromJSON(e);return v(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Oe._create(n,t)}catch(r){return null}}}let De=(()=>{class e extends Te{constructor(){super("twitter.com")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(s){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();async function Re(e,t){return P(e,"POST","/v1/accounts:signUp",N(e,t))}class Pe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await Y._fromIdTokenResponse(e,n,r),i=$e(n);return new Pe({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=$e(n);return new Pe({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function $e(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Le extends s.ZR{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Le.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Le(e,t,n,r)}}function Me(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Le._fromErrorAndOperation(e,n,t,r);throw n})}function Fe(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function Ue(e,t,n=!1){const r=await j(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pe._forOperation(e,"link",r)}async function Ve(e,t,n){await z(t);const r=!1===e?"provider-already-linked":"no-such-provider";v(Fe(t.providerData).has(n)===e,t.auth,r)}async function je(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const i=await j(e,Me(r,s,t,e),n);v(i.idToken,r,"internal-error");const o=V(i.idToken);v(o,r,"internal-error");const{sub:a}=o;return v(e.uid===a,r,"user-mismatch"),Pe._forOperation(e,s,i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&f(r,"user-mismatch"),i}}async function qe(e,t,n=!1){const r="signIn",s=await Me(e,r,t),i=await Pe._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function Be(e,t){return qe(le(e),t)}async function ze(e,t){const n=(0,s.m9)(e);return await Ve(!1,n,t.providerId),Ue(n,t)}async function He(e,t){return je((0,s.m9)(e),t)}class Ge{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ye._fromServerResponse(e,t):f(e,"internal-error")}}class Ye extends Ge{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ye(t)}}function Ke(e,t,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function We(e,t){const n=(0,s.m9)(e),r=await pe(n,{oobCode:t}),i=r.requestType;switch(v(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(r.mfaInfo,n,"internal-error");default:v(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ge._fromServerResponse(le(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Xe(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const i=await j(e,ge(r,s));await e._updateTokensIfNecessary(i,!0)}class Qe{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Ze extends Qe{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Je extends Qe{constructor(e,t){super(e,"facebook.com",t)}}class et extends Ze{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class tt extends Qe{constructor(e,t){super(e,"google.com",t)}}class nt extends Ze{constructor(e,t,n){super(e,"twitter.com",t,n)}}function rt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,s=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},i=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=V(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Qe(i,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Je(i,s);case"github.com":return new et(i,s);case"google.com":return new tt(i,s);case"twitter.com":return new nt(i,s,e.screenName||null);case"custom":case"anonymous":return new Qe(i,null);default:return new Qe(i,r,s)}}(n)}class st{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new st("enroll",e)}static _fromMfaPendingCredential(e){return new st("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return st._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return st._fromIdtoken(e.multiFactorSession.idToken)}return null}}class it{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=le(e),r=t.customData._serverResponse,s=(r.mfaInfo||[]).map(e=>Ge._fromServerResponse(n,e));v(r.mfaPendingCredential,n,"internal-error");const i=st._fromMfaPendingCredential(r.mfaPendingCredential);return new it(i,s,async e=>{const s=await e._process(n,i);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:s.idToken,refreshToken:s.refreshToken});switch(t.operationType){case"signIn":const e=await Pe._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return v(t.user,n,"internal-error"),Pe._forOperation(t.user,t.operationType,o);default:f(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}class ot{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Ge._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new ot(e)}async getSession(){return st._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),s=await j(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await j(this.user,(s=this.user.auth,i={idToken:n,mfaEnrollmentId:t},D(s,"POST","/v2/accounts/mfaEnrollment:withdraw",N(s,i))));var s,i;this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(o){if("auth/user-token-expired"!==o.code)throw o}}}const at=new WeakMap,ct="__sak";class lt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ct,"1"),this.storage.removeItem(ct),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ut=(()=>{class e extends lt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return J(e)||ie(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=oe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}return e.type="LOCAL",e})(),ht=(()=>{class e extends lt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let dt=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async e=>e(t.origin,s)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function ft(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class pt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((o,a)=>{const c=ft("",20);r.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(t.data.response);break;default:clearTimeout(l),clearTimeout(s),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function gt(){return window}function mt(){return void 0!==gt().WorkerGlobalScope&&"function"==typeof gt().importScripts}const yt="firebaseLocalStorageDb",vt="firebaseLocalStorage",wt="fbase_key";class bt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _t(e,t){return e.transaction([vt],t?"readwrite":"readonly").objectStore(vt)}function St(){const e=indexedDB.open(yt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(vt,{keyPath:wt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(vt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(yt);return new bt(e).toPromise()}(),t(await St()))})})}async function It(e,t,n){const r=_t(e,!0).put({[wt]:t,value:n});return new bt(r).toPromise()}function Et(e,t){const n=_t(e,!0).delete(t);return new bt(n).toPromise()}const Tt=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await St()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dt._getInstance(mt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new pt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await St();return await It(e,ct,"1"),await Et(e,ct),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>It(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=_t(e,!1).get(t),r=await new bt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Et(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=_t(e,!1).getAll();return new bt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Ct(e){return new Promise((t,n)=>{const r=document.createElement("script");var s,i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(i=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==i?i:document).appendChild(r)})}function kt(e){return`__${e}${Math.floor(1e6*Math.random())}`}const At=1e12;class xt{constructor(e){this.auth=e,this.counter=At,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ot(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||At;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||At))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;return null===(t=this._widgets.get(e||At))||void 0===t||t.execute(),""}}class Ot{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;v(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nt=kt("rcb"),Dt=new C(3e4,6e4);class Rt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gt().grecaptcha}load(e,t=""){return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(gt().grecaptcha):new Promise((n,r)=>{const i=gt().setTimeout(()=>{r(p(e,"network-request-failed"))},Dt.get());gt()[Nt]=()=>{gt().clearTimeout(i),delete gt()[Nt];const s=gt().grecaptcha;if(!s)return void r(p(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Ct(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Nt,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(p(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!gt().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pt{async load(e){return new xt(e)}clearedOneInstance(){}}const $t="recaptcha",Lt={theme:"light",type:"image"};class Mt{constructor(e,t=Object.assign({},Lt),n){this.parameters=t,this.type=$t,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=le(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pt:new Rt,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=gt()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){v(E()&&!mt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await D(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);v(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ft{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_e._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ut(e,t,n){var r;const s=await n.verify();try{let i;if(v("string"==typeof s,e,"argument-error"),v(n.type===$t,e,"argument-error"),i="string"==typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i)return v("enroll"===t.type,e,"internal-error"),(await function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(await function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}let Vt=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=le(t)}verifyPhoneNumber(e,t){return Ut(this.auth,e,(0,s.m9)(t))}static credential(e,t){return _e._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?_e._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function jt(e,t){return t?S(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class qt extends fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ve(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ve(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ve(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bt(e){return qe(e.auth,new qt(e),e.bypassAuthState)}function zt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),je(n,new qt(e),e.bypassAuthState)}async function Ht(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Ue(n,new qt(e),e.bypassAuthState)}class Gt{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:o}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return Ht;case"reauthViaPopup":case"reauthViaRedirect":return zt;default:f(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yt=new C(2e3,1e4);let Kt=(()=>{class e extends Gt{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=ft();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Yt.get())};e()}}return e.currentPopupAction=null,e})();const Wt=new Map;class Xt extends Gt{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Jt(t),r=Zt(e);if(!(await r._isAvailable()))return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return this.bypassAuthState||Wt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Qt(e,t){return Zt(e)._set(Jt(t),"true")}function Zt(e){return S(e._redirectPersistence)}function Jt(e){return W("pendingRedirect",e.config.apiKey,e.name)}async function en(e,t,n=!1){const r=le(e),s=jt(r,t),i=new Xt(r,s,n),o=await i.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function tn(e){const t=ft(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class nn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rn(e))}saveEventToCache(e){this.cachedEventUids.add(rn(e)),this.lastProcessedEventTime=Date.now()}}function rn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function sn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function on(e,t={}){return D(e,"GET","/v1/projects",t)}const an=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cn=/^https?/;function ln(e){const t=I(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!cn.test(n))return!1;if(an.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const un=new C(3e4,6e4);function hn(){const e=gt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let dn=null;function fn(e){return dn=dn||function(e){return new Promise((t,n)=>{var r,s,i;function o(){hn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hn(),n(p(e,"network-request-failed"))},timeout:un.get()})}if(null===(s=null===(r=gt().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=gt().gapi)||void 0===i?void 0:i.load)){const t=kt("iframefcb");return gt()[t]=()=>{gapi.load?o():n(p(e,"network-request-failed"))},Ct(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw dn=null,e})}(e),dn}const pn=new C(5e3,15e3),gn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},o=mn.get(e.config.apiHost);o&&(r.eid=o);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}const vn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function bn(e,t,n,r,o,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:i.SDK_VERSION,eventId:o};if(t instanceof Ee){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Te){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const s of Object.keys(l))void 0===l[s]&&delete l[s];return`${function({config:e}){return e.emulator?k(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(l).slice(1)}`}const _n="webStorageSupport";class Sn extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Sn(e)}_finalizeEnroll(e,t,n){return function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let In=(()=>{class e{constructor(){}static assertion(e){return Sn._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var En,Tn="@firebase/auth",Cn="0.19.9";class kn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function An(){return window}En="Browser",(0,i._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=n.options;return(e=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:s,clientPlatform:En,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ae(En)},i=new ce(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(i,t),i})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,i._registerComponent)(new c.wA("auth-internal",e=>{return t=le(e.getProvider("auth").getImmediate()),new kn(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.registerVersion)(Tn,Cn,void 0),(0,i.registerVersion)(Tn,Cn,"esm2017");class xn extends nn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function On(e){const t=await Dn()._get(Rn(e));return t&&await Dn()._remove(Rn(e)),t}function Nn(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Dn(){return S(ut)}function Rn(e){return W("authEvent",e.config.apiKey,e.name)}function Pn(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function $n(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:p("no-auth-event")}}function Ln(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Mn(e=(0,s.z$)()){return!("file:"!==Ln()&&"ionic:"!==Ln()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fn(){try{const e=self.localStorage,t=ft();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Un()&&(0,s.hl)()}return!1}function Un(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return("http:"===Ln()||"https:"===Ln()||(0,s.ru)()||Mn())&&!((0,s.b$)()||(0,s.UG)())&&Fn()&&!Un()}function jn(){return Mn()&&"undefined"!=typeof document}const qn={LOCAL:"local",NONE:"none",SESSION:"session"},Bn=v,zn="persistence";async function Hn(e){await e._initializationPromise;const t=Gn(),n=W(zn,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Gn(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Yn=v;class Kn{constructor(){this.browserResolver=S(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ht,this._completeRedirectFn=en}async _openPopup(e,t,n,r){var i;return b(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},vn),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(c=ee(u)?"_blank":n),Z(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return ie(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new wn(null);const d=window.open(t||"",c,h);v(d,e,"popup-blocked");try{d.focus()}catch(f){}return new wn(d)}(e,bn(e,t,n,I(),r),ft())}async _openRedirect(e,t,n,r){var s;return await this._originValidation(e),s=bn(e,t,n,I(),r),gt().location.href=s,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await fn(e),n=gt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:yn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=p(e,"network-request-failed"),i=gt().setTimeout(()=>{r(s)},pn.get());function o(){gt().clearTimeout(i),n(t)}t.ping(o).then(o,()=>{r(s)})}))}(e),n=new nn(e);return t.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_n,{type:_n},n=>{var r;const s=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==s&&t(!!s),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await on(e);for(const r of t)try{if(ln(r))return}catch(n){}f(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oe()||J()||ie()}}),this.cordovaResolver=S(class{constructor(){this._redirectPersistence=ht,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=en}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new xn(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,s,i,o,a,c,l,u;const h=An();v("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(i=null===(s=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===s?void 0:s.browsertab)||void 0===i?void 0:i.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Wt.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Nn(),postBody:null,tenantId:e.tenantId,error:p(e,"no-auth-event")}}(e,n,r);await function(e,t){return Dn()._set(Rn(e),t)}(e,o);const a=await async function(e,t,n){var r;const{BuildInfo:s}=An();b(t.sessionId,"AuthEvent did not contain a session ID");const i=await async function(e){const t=function(e){if(b(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),o={};return ie()?o.ibi=s.packageName:ne()?o.apn=s.packageName:f(e,"operation-not-supported-in-this-environment"),s.displayName&&(o.appDisplayName=s.displayName),o.sessionId=i,bn(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,o,t);return async function(e,t,n){const{cordova:r}=An();let s=()=>{};try{await new Promise((i,o)=>{let a=null;function c(){var e;i();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(p(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),ne()&&document.addEventListener("visibilitychange",u,!1),s=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{s()}}(e,i,await function(e){const{cordova:t}=An();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=An(),n={};ie()?n.iosBundleId=t.packageName:ne()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),await on(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:s}=An(),i=setTimeout(async()=>{await On(e),t.onEvent($n())},500),o=async n=>{clearTimeout(i);const r=await On(e);let s=null;r&&(null==n?void 0:n.url)&&(s=function(e,t){var n,r;const s=function(e){const t=Pn(e),n=t.link?decodeURIComponent(t.link):void 0,r=Pn(n).link,s=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Pn(s).link||s||r||n||e}(t);if(s.includes("/__/auth/callback")){const t=Pn(s),i=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==i?void 0:i.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?p(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}(r,n.url)),t.onEvent(s||$n())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,c=`${s.packageName.toLowerCase()}://`;An().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"==typeof a)try{a(e)}catch(t){console.error(t)}}}}),this.underlyingResolver=null,this._redirectPersistence=ht,this._completeRedirectFn=en}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yn(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!jn()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Wn(e){return e.unwrap()}function Xn(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Vt.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=Ae;break;case"facebook.com":r=ke;break;case"github.com":r=xe;break;case"twitter.com":r=De;break;default:const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:i,pendingToken:o,nonce:a}=t;return s||i||e||o?o?n.startsWith("saml.")?Oe._create(n,o):we._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:s}):new Ce(n).credential({idToken:e,accessToken:s,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Qn(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Jn(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return v(t.customData.operationType,r,"argument-error"),v(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),it._fromError(r,i)}(e,t));else if(r){const e=Xn(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,Xn(n)),additionalUserInfo:rt(e),user:er.getOrCreate(t)};var n})}async function Zn(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Qn(e,n.confirm(t))}}class Jn{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Qn(Wn(this.auth),this.resolver.resolveSignIn(e))}}class er{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return at.has(t)||at.set(t,ot._fromUser(t)),at.get(t)}(e)}static getOrCreate(e){return er.USER_MAP.has(e)||er.USER_MAP.set(e,new er(e)),er.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Qn(this.auth,ze(this._delegate,e))}async linkWithPhoneNumber(e,t){return Zn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);await Ve(!1,r,"phone");const i=await Ut(r.auth,t,(0,s.m9)(n));return new Ft(i,e=>ze(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return Qn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);m(r.auth,t,Ee);const i=jt(r.auth,n);return new Kt(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Kn))}async linkWithRedirect(e){return await Hn(le(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,s.m9)(e);m(r.auth,t,Ee);const i=jt(r.auth,n);await Ve(!1,r,t.providerId),await Qt(i,r.auth);const o=await tn(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,Kn)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Qn(this.auth,He(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Zn(this.auth,async function(e,t,n){const r=(0,s.m9)(e),i=await Ut(r.auth,t,(0,s.m9)(n));return new Ft(i,e=>He(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Qn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);m(r.auth,t,Ee);const i=jt(r.auth,n);return new Kt(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Kn))}async reauthenticateWithRedirect(e){return await Hn(le(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,s.m9)(e);m(r.auth,t,Ee);const i=jt(r.auth,n);await Qt(i,r.auth);const o=await tn(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,Kn)}sendEmailVerification(e){return async function(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ke(n.auth,r,t);const{email:i}=await async function(e,t){return me(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=(0,s.m9)(e);await Ve(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return D(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Fe(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Xe((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Xe((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Ue((0,s.m9)(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await j(r,async function(e,t){return D(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ke(r.auth,i,n);const{email:o}=await async function(e,t){return me(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}er.USER_MAP=new WeakMap;const tr=v;let nr=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;tr(n,"invalid-api-key",{appName:e.name}),tr(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Kn:void 0;this._delegate=t.initialize({options:{persistence:sr(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=le(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null==n?void 0:n.disableWarnings),i=he(t),{host:o,port:a}=function(e){const t=he(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:de(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:de(t)}}}(t);r.config.emulator={url:`${i}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return D(e,"POST","/v1/accounts:update",N(e,t))}((0,s.m9)(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return We(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await pe((0,s.m9)(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Qn(this._delegate,async function(e,t,n){const r=le(e),s=await Re(r,{returnSecureToken:!0,email:t,password:n}),i=await Pe._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:E()?I():"http://localhost"},{signinMethods:r}=await async function(e,t){return D(e,"POST","/v1/accounts:createAuthUri",N(e,t))}((0,s.m9)(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Se.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}async getRedirectResult(){tr(Vn(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await le(e)._initializationPromise,en(e,t,!1)}(this._delegate,Kn);return e?Qn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){le(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:s,complete:i}=rr(e,t,n);return this._delegate.onAuthStateChanged(r,s,i)}onIdTokenChanged(e,t,n){const{next:r,error:s,complete:i}=rr(e,t,n);return this._delegate.onIdTokenChanged(r,s,i)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};v(n.handleCodeInApp,r,"argument-error"),n&&Ke(r,i,n),await async function(e,t){return me(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Ke(r,i,n),await async function(e,t){return me(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Bn(Object.values(qn).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Bn(t!==qn.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Bn(t===qn.NONE,e,"unsupported-persistence-type"):Un()?Bn(t===qn.NONE||t===qn.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Bn(t===qn.NONE||Fn(),e,"unsupported-persistence-type")}(this._delegate,e),e){case qn.SESSION:t=ht;break;case qn.LOCAL:t=await S(Tt)._isAvailable()?Tt:ut;break;case qn.NONE:t=K;break;default:return f("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Qn(this._delegate,async function(e){var t;const n=le(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Pe({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Re(n,{returnSecureToken:!0}),s=await Pe._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}(this._delegate))}signInWithCredential(e){return Qn(this._delegate,Be(this._delegate,e))}signInWithCustomToken(e){return Qn(this._delegate,async function(e,t){const n=le(e),r=await async function(e,t){return P(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))}(n,{token:t,returnSecureToken:!0}),s=await Pe._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Qn(this._delegate,function(e,t,n){return Be((0,s.m9)(e),Ie.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Qn(this._delegate,async function(e,t,n){const r=(0,s.m9)(e),i=Ie.credentialWithLink(t,n||I());return v(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Be(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Zn(this._delegate,async function(e,t,n){const r=le(e),i=await Ut(r,t,(0,s.m9)(n));return new Ft(i,e=>Be(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return tr(Vn(),this._delegate,"operation-not-supported-in-this-environment"),Qn(this._delegate,async function(e,t,n){const r=le(e);m(e,t,Ee);const s=jt(r,n);return new Kt(r,"signInViaPopup",t,s).executeNotNull()}(this._delegate,e,Kn))}async signInWithRedirect(e){return tr(Vn(),this._delegate,"operation-not-supported-in-this-environment"),await Hn(this._delegate),function(e,t,n){return async function(e,t,n){const r=le(e);m(e,t,Ee);const s=jt(r,n);return await Qt(s,r),s._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,Kn)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await We((0,s.m9)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=qn,e})();function rr(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const s=r;return{next:e=>s(e&&er.getOrCreate(e)),error:t,complete:n}}function sr(e,t){const n=function(e,t){const n=Gn();if(!n)return[];const r=W(zn,e,t);switch(n.getItem(r)){case qn.NONE:return[K];case qn.LOCAL:return[Tt,ht];case qn.SESSION:return[ht];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(Tt)||n.push(Tt),"undefined"!=typeof window)for(const r of[ut,ht])n.includes(r)||n.push(r);return n.includes(K)||n.push(K),n}class ir{constructor(){this.providerId="phone",this._delegate=new Vt(Wn(r.Z.auth()))}static credential(e,t){return Vt.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ir.PHONE_SIGN_IN_METHOD=Vt.PHONE_SIGN_IN_METHOD,ir.PROVIDER_ID=Vt.PROVIDER_ID;const or=v;var ar;(ar=r.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new nr(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ie,FacebookAuthProvider:ke,GithubAuthProvider:xe,GoogleAuthProvider:Ae,OAuthProvider:Ce,SAMLAuthProvider:Ne,PhoneAuthProvider:ir,PhoneMultiFactorGenerator:In,RecaptchaVerifier:class{constructor(e,t,n=r.Z.app()){var s;or(null===(s=n.options)||void 0===s?void 0:s.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Mt(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:De,Auth:nr,AuthCredential:fe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ar.registerVersion("@firebase/auth-compat","0.2.9")},2842:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var s,i=new Promise(function(i,o){n(s=e[t].apply(e,r)).then(i,o)});return i.request=s,i}function s(e,t,n){var s=r(e,t,n);return s.then(function(e){if(e)return new u(e,s.request)})}function i(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,s){s.forEach(function(s){s in n.prototype&&(e.prototype[s]=function(){return r(this[t],s,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return s(this[t],r,arguments)})})}function l(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}i(l,"_index",["name","keyPath","multiEntry","unique"]),o(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new u(e,t._request)})})})}),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},i(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},i(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},i(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},i(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,l].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],s=this._store||this._index,i=s[e].apply(s,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})})}),[l,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(s){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():s(r)):s(r)})})})}),e.openDb=function(e,t,n){var s=r(indexedDB,"open",[e,t]),i=s.request;return i&&(i.onupgradeneeded=function(e){n&&n(new f(i.result,e.oldVersion,i.transaction))}),s.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},680:e=>{e.exports=function e(t,n,r){function s(o,a){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return s(t[o][1][e]||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i=void 0,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){(function(e){"use strict";var n,r,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var i=0,o=new s(u),a=e.document.createTextNode("");o.observe(a,{characterData:!0}),n=function(){a.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function s(){}var i={},o=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==s&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r(function(){var r;try{r=t(n)}catch(s){return i.reject(e,s)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function s(t){n||(n=!0,i.resolve(e,t))}var o=p(function(){t(s,r)});"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(s);return this.state!==c?h(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=a,e.outcome=t;for(var s=-1,o=e.queue.length;++s<o;)e.queue[s].callFulfilled(t)}return e},i.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:i.resolve(new this(s),e)},l.reject=function(e){var t=new this(s);return i.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,c=-1,l=new this(s);++c<n;)u(e[c],c);return l;function u(e,s){t.resolve(e).then(function(e){o[s]=e,++a!==n||r||(r=!0,i.resolve(l,o))},function(e){r||(r=!0,i.reject(l,e))})}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r=-1,o=new this(s);++r<t;)this.resolve(e[r]).then(function(e){n||(n=!0,i.resolve(o,e))},function(e){n||(n=!0,i.reject(o,e))});return o}},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(s){if("TypeError"!==s.name)throw s;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var o=Promise;function a(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",d=void 0,f={},p=Object.prototype.toString,g="readonly",m="readwrite";function y(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),s=0;s<t;s++)r[s]=e.charCodeAt(s);return n}function v(e){var t=f[e.name],n={};n.promise=new o(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady=t.dbReady?t.dbReady.then(function(){return n.promise}):n.promise}function w(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function b(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function _(e,t){return new o(function(n,r){if(f[e.name]=f[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);v(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=s.open.apply(s,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),w(e)}})}function S(e){return _(e,!1)}function I(e){return _(e,!0)}function E(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version>e.db.version;if(e.version<e.db.version&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var s=e.db.version+1;s>e.version&&(e.version=s)}return!0}return!1}function T(e){return i([y(atob(e.data))],{type:e.type})}function C(e){return e&&e.__local_forage_encoded_blob}function k(e){var t=this,n=t._initReady().then(function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(n,e,e),n}function A(e,t,n,r){void 0===r&&(r=1);try{var s=e.db.transaction(e.storeName,t);n(null,s)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return o.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)}).then(function(){return function(e){v(e);for(var t=f[e.name],n=t.forages,r=0;r<n.length;r++){var s=n[r];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,S(e).then(function(t){return e.db=t,E(e)?I(e):t}).then(function(r){e.db=t.db=r;for(var s=0;s<n.length;s++)n[s]._dbInfo.db=r}).catch(function(t){throw b(e,t),t})}(e).then(function(){A(e,t,n,r-1)})}).catch(n);n(i)}}var x={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var s=f[n.name];s||(f[n.name]=s={forages:[],db:null,dbReady:null,deferredOperations:[]}),s.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=k);var i=[];function a(){return o.resolve()}for(var c=0;c<s.forages.length;c++){var l=s.forages[c];l!==t&&i.push(l._initReady().catch(a))}var u=s.forages.slice(0);return o.all(i).then(function(){return n.db=s.db,S(n)}).then(function(e){return n.db=e,E(n,t._defaultConfig.version)?I(n):e}).then(function(e){n.db=s.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var i=u[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function(){try{if(!s||!s.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){A(n._dbInfo,g,function(s,i){if(s)return r(s);try{var o=i.objectStore(n._dbInfo.storeName).openCursor(),a=1;o.onsuccess=function(){var n=o.result;if(n){var r=n.value;C(r)&&(r=T(r));var s=e(r,n.key,a++);void 0!==s?t(s):n.continue()}else t()},o.onerror=function(){r(o.error)}}catch(c){r(c)}})}).catch(r)});return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){A(n._dbInfo,g,function(s,i){if(s)return r(s);try{var o=i.objectStore(n._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),C(e)&&(e=T(e)),t(e)},o.onerror=function(){r(o.error)}}catch(a){r(a)}})}).catch(r)});return a(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var s=new o(function(n,s){var a;r.ready().then(function(){return a=r._dbInfo,"[object Blob]"===p.call(t)?function(e){return"boolean"==typeof d?o.resolve(d):function(e){return new o(function(t){var n=e.transaction(h,m),r=i([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return d=e})}(a.db).then(function(e){return e?t:(n=t,new o(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):t}).then(function(t){A(r._dbInfo,m,function(i,o){if(i)return s(i);try{var a=o.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=a.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),n(t)},o.onabort=o.onerror=function(){s(c.error?c.error:c.transaction.error)}}catch(l){s(l)}})}).catch(s)});return a(s,n),s},removeItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){A(n._dbInfo,m,function(s,i){if(s)return r(s);try{var o=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(o.error)},i.onabort=function(){r(o.error?o.error:o.transaction.error)}}catch(a){r(a)}})}).catch(r)});return a(r,t),r},clear:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){A(t._dbInfo,m,function(r,s){if(r)return n(r);try{var i=s.objectStore(t._dbInfo.storeName).clear();s.oncomplete=function(){e()},s.onabort=s.onerror=function(){n(i.error?i.error:i.transaction.error)}}catch(o){n(o)}})}).catch(n)});return a(n,e),n},length:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){A(t._dbInfo,g,function(r,s){if(r)return n(r);try{var i=s.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(o){n(o)}})}).catch(n)});return a(n,e),n},key:function(e,t){var n=this,r=new o(function(t,r){e<0?t(null):n.ready().then(function(){A(n._dbInfo,g,function(s,i){if(s)return r(s);try{var o=i.objectStore(n._dbInfo.storeName),a=!1,c=o.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(l){r(l)}})}).catch(r)});return a(r,t),r},keys:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){A(t._dbInfo,g,function(r,s){if(r)return n(r);try{var i=s.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];i.onsuccess=function(){var t=i.result;t?(o.push(t.key),t.continue()):e(o)},i.onerror=function(){n(i.error)}}catch(a){n(a)}})}).catch(n)});return a(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var c=e.name===n.name&&i._dbInfo.db?o.resolve(i._dbInfo.db):S(e).then(function(t){var n=f[e.name],r=n.forages;n.db=t;for(var s=0;s<r.length;s++)r[s]._dbInfo.db=t;return t});r=c.then(e.storeName?function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;v(e);var r=f[e.name],i=r.forages;t.close();for(var a=0;a<i.length;a++){var c=i[a];c._dbInfo.db=null,c._dbInfo.version=n}return new o(function(t,r){var i=s.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,w(n._dbInfo)}}).catch(function(t){throw(b(e,t)||o.resolve()).catch(function(){}),t})}}:function(t){v(e);var n=f[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new o(function(t,n){var r=s.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)w(r[t]._dbInfo)}).catch(function(t){throw(b(e,t)||o.resolve()).catch(function(){}),t})})}else r=o.reject("Invalid arguments");return a(r,t),r}},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:",R=D.length,P="arbf",$="blob",L="si08",M="ui08",F="uic8",U="si16",V="si32",j="ur16",q="ui32",B="fl32",z="fl64",H=R+P.length,G=Object.prototype.toString;function Y(e){var t,n,r,s,i,o=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l=new ArrayBuffer(o),u=new Uint8Array(l);for(t=0;t<a;t+=4)n=O.indexOf(e[t]),r=O.indexOf(e[t+1]),s=O.indexOf(e[t+2]),i=O.indexOf(e[t+3]),u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|s>>2,u[c++]=(3&s)<<6|63&i;return l}function K(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=O[n[t]>>2],r+=O[(3&n[t])<<4|n[t+1]>>4],r+=O[(15&n[t+1])<<2|n[t+2]>>6],r+=O[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var W={serialize:function(e,t){var n="";if(e&&(n=G.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===G.call(e.buffer))){var r,s=D;e instanceof ArrayBuffer?(r=e,s+=P):(r=e.buffer,"[object Int8Array]"===n?s+=L:"[object Uint8Array]"===n?s+=M:"[object Uint8ClampedArray]"===n?s+=F:"[object Int16Array]"===n?s+=U:"[object Uint16Array]"===n?s+=j:"[object Int32Array]"===n?s+=V:"[object Uint32Array]"===n?s+=q:"[object Float32Array]"===n?s+=B:"[object Float64Array]"===n?s+=z:t(new Error("Failed to get type for BinaryArray"))),t(s+K(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+e.type+"~"+K(this.result);t("__lfsc__:blob"+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(o){console.error("Couldn't convert value into a JSON string: ",e),t(null,o)}},deserialize:function(e){if(e.substring(0,R)!==D)return JSON.parse(e);var t,n=e.substring(H),r=e.substring(R,H);if(r===$&&N.test(n)){var s=n.match(N);t=s[1],n=n.substring(s[0].length)}var o=Y(n);switch(r){case P:return o;case $:return i([o],{type:t});case L:return new Int8Array(o);case M:return new Uint8Array(o);case F:return new Uint8ClampedArray(o);case U:return new Int16Array(o);case j:return new Uint16Array(o);case V:return new Int32Array(o);case q:return new Uint32Array(o);case B:return new Float32Array(o);case z:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Y,bufferToString:K};function X(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Q(e,t,n,r,s,i){e.executeSql(n,r,s,function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,a){a.rows.length?i(e,o):X(e,t,function(){e.executeSql(n,r,s,i)},i)},i):i(e,o)},i)}function Z(e,t,n,r){var s=this;e=l(e);var i=new o(function(i,o){s.ready().then(function(){void 0===t&&(t=null);var a=t,c=s._dbInfo;c.serializer.serialize(t,function(t,l){l?o(l):c.db.transaction(function(n){Q(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){i(a)},function(e,t){o(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(Z.apply(s,[e,a,n,r-1]));o(t)}})})}).catch(o)});return a(i,n),i}function J(e){return new o(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var s=[],i=0;i<r.rows.length;i++)s.push(r.rows.item(i).name);t({db:e,storeNames:s})},function(e,t){n(t)})},function(e){n(e)})})}var ee={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var s=new o(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(s){return r(s)}n.db.transaction(function(s){X(s,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=W,s},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){var s=n._dbInfo;s.db.transaction(function(n){Q(n,s,"SELECT * FROM "+s.storeName,[],function(n,r){for(var i=r.rows,o=i.length,a=0;a<o;a++){var c=i.item(a),l=c.value;if(l&&(l=s.serializer.deserialize(l)),void 0!==(l=e(l,c.key,a+1)))return void t(l)}t()},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){var s=n._dbInfo;s.db.transaction(function(n){Q(n,s,"SELECT * FROM "+s.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=s.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},setItem:function(e,t,n){return Z.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){var s=n._dbInfo;s.db.transaction(function(n){Q(n,s,"DELETE FROM "+s.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},clear:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Q(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return a(n,e),n},length:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Q(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return a(n,e),n},key:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){var s=n._dbInfo;s.db.transaction(function(n){Q(n,s,"SELECT key FROM "+s.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},keys:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Q(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],s=0;s<n.rows.length;s++)r.push(n.rows.item(s).key);e(r)},function(e,t){n(t)})})}).catch(n)});return a(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,s=this;return a(r=e.name?new o(function(t){var r;r=e.name===n.name?s._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:r,storeNames:[e.storeName]}:J(r))}).then(function(e){return new o(function(t,n){e.db.transaction(function(r){function s(e){return new o(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var i=[],a=0,c=e.storeNames.length;a<c;a++)i.push(s(e.storeNames[a]));o.all(i).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):o.reject("Invalid arguments"),t),r}};function te(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var ne={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=te(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}()||localStorage.length>0?(this._dbInfo=t,t.serializer=W,o.resolve()):o.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,s=r.length,i=localStorage.length,o=1,a=0;a<i;a++){var c=localStorage.key(a);if(0===c.indexOf(r)){var l=localStorage.getItem(c);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,c.substring(s),o++)))return l}}});return a(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return a(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var s=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new o(function(s,i){var o=r._dbInfo;o.serializer.serialize(t,function(t,r){if(r)i(r);else try{localStorage.setItem(o.keyPrefix+e,t),s(n)}catch(a){"QuotaExceededError"!==a.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==a.name||i(a),i(a)}})})});return a(s,n),s},removeItem:function(e,t){var n=this;e=l(e);var r=n.ready().then(function(){localStorage.removeItem(n._dbInfo.keyPrefix+e)});return a(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return a(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return a(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(s){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return a(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],s=0;s<n;s++){var i=localStorage.key(s);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return a(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,s=this;return a(r=e.name?new o(function(t){t(e.storeName?te(e,s._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):o.reject("Invalid arguments"),t),r}},re=function(e,t){for(var n=e.length,r=0;r<n;){if((s=e[r])===(i=t)||"number"==typeof s&&"number"==typeof i&&isNaN(s)&&isNaN(i))return!0;r++}var s,i;return!1},se=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},ae={INDEXEDDB:x,WEBSQL:ee,LOCALSTORAGE:ne},ce=[ae.INDEXEDDB._driver,ae.WEBSQL._driver,ae.LOCALSTORAGE._driver],le=["dropInstance"],ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),he={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function fe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(arguments[0][n]=se(t[n])?t[n].slice():t[n])}return arguments[0]}var pe=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ae)if(ae.hasOwnProperty(n)){var r=ae[n],s=r._driver;this[n]=s,ie[s]||this.defineDriver(r)}this._defaultConfig=fe({},he),this._config=fe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new o(function(t,n){try{var r=e._driver,s=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(s);for(var i=ue.concat("_initStorage"),c=0,l=i.length;c<l;c++){var u=i[c];if((!re(le,u)||e[u])&&"function"!=typeof e[u])return void n(s)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=o.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,r=le.length;n<r;n++){var s=le[n];e[s]||(e[s]=t(s))}}();var h=function(n){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,oe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(d){n(d)}});return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?o.resolve(ie[e]):o.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=o.resolve(W);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;se(e)||(e=[e]);var s=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}var l=null!==this._driverSet?this._driverSet.catch(function(){return o.resolve()}):o.resolve();return this._driverSet=l.then(function(){var e=s[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var s=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(s).then(a).catch(n)}i();var c=new Error("No available storage method found.");return r._driverSet=o.reject(c),r._driverSet}()}}(s)})}).catch(function(){i();var e=new Error("No available storage method found.");return r._driverSet=o.reject(e),r._driverSet}),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!oe[e]},e.prototype._extend=function(e){fe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var s=e[n];this.supports(s)&&t.push(s)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ue.length;e<t;e++)de(this,ue[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=pe},{3:3}]},{},[4])(4)},9923:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(6006),s=n(7078);class i extends r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.N;return this._value}next(e){super.next(this._value=e)}}},3585:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(3974),s=n(267),i=n(7535);class o{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,i._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new o("N",e):o.undefinedValueNotification}static createError(e){return new o("E",void 0,e)}static createComplete(){return o.completeNotification}}o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},3948:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(8744),s=n(9754),i=n(5669),o=n(7631),a=n(7846),c=n(6633);let l=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[s.b])return e[s.b]()}return e||t||n?new r.L(e,t,n):new r.L(i.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:s}=e;if(t||s)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(s){n(s),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},5669:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6633),s=n(3863);const i={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,s.z)(e)},complete(){}}},6006:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>u});var r=n(3948),s=n(8744),i=n(9734),o=n(7078),a=n(2417),c=n(9754);class l extends s.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new l(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),i.w.EMPTY):this.isStopped?(e.complete(),i.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):i.w.EMPTY}}},2417:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(9734);class s extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},8744:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(3673),s=n(5669),i=n(9734),o=n(9754),a=n(6633),c=n(3863);class l extends i.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.c;break;case 1:if(!e){this.destination=s.c;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new l(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends l{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==s.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},9734:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9622),s=n(153),i=n(3673);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,i.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,s.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function l(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},6633:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6790:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>c});var r=n(8744),s=n(3948),i=n(7040);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof s.y)return e.subscribe(t);let n;try{n=(0,i.s)(e)(t)}catch(r){t.error(r)}return n}},955:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>c});var r=n(6006),s=n(3948),i=n(9734),o=n(5290);class a extends s.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new i.w,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=i.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class l extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},1144:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(267),s=n(4540);function i(...e){return(0,s.J)(1)((0,r.of)(...e))}},9765:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(3948),s=n(2850),i=n(3974);function o(e){return new r.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,s.D)(n):(0,i.c)()).subscribe(t)})}},3974:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,c:()=>i});var r=n(3948);const s=new r.y(e=>e.complete());function i(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):s}},2850:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(3948),s=n(7040),i=n(9734),o=n(7631),a=n(9112),c=n(5389),l=n(8253),u=n(1292);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new i.w;return r.add(t.schedule(()=>{const s=e[o.L]();r.add(s.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,l.t)(e))return function(e,t){return new r.y(n=>{const r=new i.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new i.w;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(t.schedule(()=>{s=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,s.s)(e))}},6431:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(3948),s=n(4537),i=n(9112);function o(e,t){return t?(0,i.r)(e,t):new r.y((0,s.V)(e))}},4958:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(3948),s=n(9622),i=n(3673),o=n(8561);function a(e,t,n,l){return(0,i.m)(n)&&(l=n,n=void 0),l?a(e,t,n).pipe((0,o.U)(e=>(0,s.k)(e)?l(...e):l(e))):new r.y(r=>{c(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function c(e,t,n,r,s){let i;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,s),i=()=>r.removeEventListener(t,n,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),i=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),i=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let i=0,o=e.length;i<o;i++)c(e[i],t,n,r,s)}r.add(i)}},636:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(3948),s=n(7204),i=n(4540),o=n(6431);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,s.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,i.J)(t)((0,o.n)(e,n))}},267:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(7204),s=n(6431),i=n(9112);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,i.r)(e,t)):(0,s.n)(e)}},7535:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var r=n(3948);function s(e,t){return new r.y(t?n=>t.schedule(i,0,{error:e,subscriber:n}):t=>t.error(e))}function i({error:e,subscriber:t}){t.error(e)}},3748:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(6513);function s(e,t){return(0,r.zg)(e,t,1)}},395:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(8744);function s(e=null){return t=>t.lift(new i(e))}class i{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends r.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7689:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(8744);function s(e,t){return n=>n.lift(new i(e,t))}class i{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},3305:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(8744);function s(e,t){return function(n){return n.lift(new i(e,t))}}class i{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},3987:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(6507),s=n(3305),i=n(9917),o=n(395),a=n(3369),c=n(7846);function l(e,t){const n=arguments.length>=2;return l=>l.pipe(e?(0,s.h)((t,n)=>e(t,n,l)):c.y,(0,i.q)(1),n?(0,o.d)(t):(0,a.T)(()=>new r.K))}},8561:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(8744);function s(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}}class i{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},4540:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(6513),s=n(7846);function i(e=Number.POSITIVE_INFINITY){return(0,r.zg)(s.y,e)}},6513:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(8561),s=n(2850),i=n(6790);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(o((n,i)=>(0,s.D)(e(n,i)).pipe((0,r.U)((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends i.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new i.IY(this),n=this.destination;n.add(t);const r=(0,i.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6544:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(955);function s(e,t){return function(n){let s;if(s="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new i(s,t));const o=Object.create(n,r.N);return o.source=n,o.subjectFactory=s,o}}class i{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),s=n(r).subscribe(e);return s.add(t.subscribe(r)),s}}},4475:(e,t,n)=>{"use strict";n.d(t,{QV:()=>i,ht:()=>a});var r=n(8744),s=n(3585);function i(e,t=0){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(e,this.destination)))}_next(e){this.scheduleMessage(s.P.createNext(e))}_error(e){this.scheduleMessage(s.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(s.P.createComplete()),this.unsubscribe()}}class c{constructor(e,t){this.notification=e,this.destination=t}}},5290:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(8744);function s(){return function(e){return e.lift(new i(e))}}class i{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1310:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(8744);function s(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new i(e,t,n))}}class i{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},3543:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(1144),s=n(7204);function i(...e){const t=e[e.length-1];return(0,s.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},6515:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var r=n(3948);let s=1;const i=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const c={setImmediate(e){const t=s++;return o[t]=!0,i.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var l=n(5464),u=n(708);const h=new class extends u.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=c.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(c.clearImmediate(t),e.scheduled=void 0)}});var d=n(9622);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},2812:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(8561),s=n(2850),i=n(6790);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,i)=>(0,s.D)(e(n,i)).pipe((0,r.U)((e,r)=>t(n,e,i,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new c(e,this.project))}}class c extends i.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new i.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,i.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},9917:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(8744),s=n(9862),i=n(3974);function o(e){return t=>0===e?(0,i.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new s.W}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},4089:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(8744),s=n(1859),i=n(3673);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=s.Z,this._tapError=s.Z,this._tapComplete=s.Z,this._tapError=n||s.Z,this._tapComplete=r||s.Z,(0,i.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||s.Z,this._tapError=t.error||s.Z,this._tapComplete=t.complete||s.Z)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},3369:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(6507),s=n(8744);function i(e=c){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends s.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function c(){return new r.K}},9112:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(3948),s=n(9734);function i(e,t){return new r.y(n=>{const r=new s.w;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},5464:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(9734);class s extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class i extends s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(s){r=!0,n=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},708:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class s extends r{constructor(e,t=r.now){super(e,()=>s.delegate&&s.delegate!==this?s.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return s.delegate&&s.delegate!==this?s.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},8846:(e,t,n)=>{"use strict";n.d(t,{z:()=>s,P:()=>i});var r=n(5464);const s=new(n(708).v)(r.o),i=s},6511:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>i});var r=n(5464),s=n(708);const i=new class extends s.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=i},5389:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},7631:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9754:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},9862:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},6507:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},7078:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},3863:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},7846:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9622:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},1292:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},3673:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},153:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},8253:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},7204:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},1859:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},7040:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(4537),s=n(3863),i=n(5389),o=n(7631),a=n(1292),c=n(8253),l=n(153);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s.z),e);if(e&&"function"==typeof e[i.hZ])return t=e,e=>{const n=t[i.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,l.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},4537:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},4422:(e,t,n)=>{"use strict";n.d(t,{C:()=>l});var r=n(1855),s=n(7272),i=n(4259),o=n(8620),a=n(2149),c=n(6880);let l=(()=>{class e{constructor(e,t,n,r){this.auth=e,this.alertController=t,this.databaseService=n,this.commonService=r}login(e,t){return(0,r.mG)(this,void 0,void 0,function*(){try{const n=yield this.auth.signInWithEmailAndPassword(e,t);return console.log("Login correcto",n.user.uid),this.uid=n.user.uid,!0}catch(n){console.log("error en el login",n),this.showErrorEmailOrPasswordIncorrect(n.message)}})}logout(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.databaseService.changeDataUser(this.databaseService.dataUserDefault),yield this.auth.signOut()})}register(e,t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.auth.createUserWithEmailAndPassword(e,t)})}getUid(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.uid})}getStateUser(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.auth.authState})}showErrorEmailOrPasswordIncorrect(e){this.commonService.errorAlert("Sorry","Data incorrect in one o more fields",e,"OK")}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(i.zQ),s.LFG(o.Br),s.LFG(a.k),s.LFG(c.v))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},6880:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(1855),s=n(7272),i=n(8620);let o=(()=>{class e{constructor(e){this.alertController=e}errorAlert(e,t,n,s){return(0,r.mG)(this,void 0,void 0,function*(){const r=yield this.alertController.create({cssClass:"my-custom-class",header:e,subHeader:t,message:n,buttons:[s]});yield r.present()})}dateFirestoreToDate(e){return e.toDate()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(i.Br))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5136:(e,t,n)=>{"use strict";n.d(t,{D:()=>u});var r=n(9923);class s{constructor(e="",t="",n=""){this.typeShow=e,this.iconSrc=t,this.bkgColor=n}}class i{constructor(e=0,t=0){this.totalPrice=e,this.totalAmount=t}}var o=n(7272),a=n(1887),c=n(2149),l=n(6880);let u=(()=>{class e{constructor(e,t,n){this.http=e,this.databaseService=t,this.commonService=n,this.drink=new s("drink","/assets/icon/food/forkandknife.png","medium"),this.food=new s("food","/assets/icon/drink/bottle-water.png","warning"),this.foodOrDrink=new r.X(new s),this.currentFoodOrDrink=this.foodOrDrink.asObservable(),this.cartData=new r.X(new i),this.currendCartData=this.cartData.asObservable(),this.arrRestaurantMenuData=new r.X([]),this.currentArrRestaurantMenuData=this.arrRestaurantMenuData.asObservable(),this.arrRestaurantMenuCategory=new r.X([]),this.currentArrRestaurantMenuCategory=this.arrRestaurantMenuCategory.asObservable(),this.restaurantData=new r.X(""),this.currentRestaurantData=this.restaurantData.asObservable(),this.qrData=new r.X(""),this.currentQrData=this.qrData.asObservable(),this.order=new r.X(""),this.currentOrder=this.order.asObservable(),this.arrRestaurantsFromOrdersUsers=new r.X({array:[]}),this.currentArrRestaurantsFromOrdersUsers=this.arrRestaurantsFromOrdersUsers.asObservable(),this.ordersPath=new r.X(""),this.currentOrdersPath=this.ordersPath.asObservable()}selectedFoodOrDrink(e){this.foodOrDrink.next(e)}updateCartData(e){this.cartData.next(e)}updateArrRestaurantMenuData(e){this.arrRestaurantMenuData.next(e)}updateArrRestaurantMenuCategory(e){this.arrRestaurantMenuCategory.next(e)}updateRestaurantData(e){this.restaurantData.next(e)}updateQrData(e){this.qrData.next(e)}updateOrder(e){this.order.next(e)}updateRestaurantFromOrdersUsers(e){this.arrRestaurantsFromOrdersUsers.next(e)}updateOrderPath(e){this.ordersPath.next(e)}getRestaurantMenu(e,t){return this.databaseService.getById(e,t)}sortArray(e){e.sort((e,t)=>e.idProduct===t.idProduct?0:e.idProduct<t.idProduct?-1:e.idProduct>t.idProduct?1:void 0)}getRestaurantCategories(e,t){return this.databaseService.getById(e,t)}getRestaurantData(e,t){return this.databaseService.getById(e,t)}getRestaurantOrder(e,t){return console.log("DATOS QUE PASO EN LA PETICI\xd3N FIRESTORE",e,t),this.databaseService.getById(e,t)}getRestaurantUserOrdersFromOneRestaurant(e){return this.databaseService.getAllCollection(e)}getRestaurantUserOrders(e,t,n,r,s,i){return this.databaseService.getAllCollectionGroup(e,t,n,r,s,i)}createNewOrder(e,t,n){return this.databaseService.create(e,t,n)}getRestaurantsFromOrdersUsers(e,t){return this.databaseService.getById(e,t)}saveNewRestaurantInUserOrders(e,t,n){return this.databaseService.create(e,t,n)}showErrorRestaurantNotExist(){this.commonService.errorAlert("Sorry","The restaurant entered does not exist. Please try again","","OK")}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.eN),o.LFG(c.k),o.LFG(l.v))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2149:(e,t,n)=>{"use strict";n.d(t,{k:()=>zp});var r=n(1855),s=n(9923),i=n(7272),o=n(8846),a=n(3948),c=n(2850),l=n(267),u=n(4235),h=n(3543),d=n(8744);function f(){return e=>e.lift(new p)}class p{call(e,t){return t.subscribe(new g(e))}}class g extends d.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var m,y=n(8561),v=n(1310),w=n(7689),b=n(3305),_=n(9106),S=n(6274),I=(n(5524),n(159)),E=n(5871),T=n(9171),C=n(4560),k=n(9870),A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x={},O=O||{},N=A||self;function D(){}function R(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function P(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $="closure_uid_"+(1e9*Math.random()>>>0),L=0;function M(e,t,n){return e.call.apply(e.bind,arguments)}function F(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function U(e,t,n){return(U=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?M:F).apply(null,arguments)}function V(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function j(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function q(){this.s=this.s,this.o=this.o}var B={};q.prototype.s=!1,q.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,$)&&e[$]||(e[$]=++L)}(this);delete B[e]}},q.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,s="string"==typeof e?e.split(""):e;for(let i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function G(e){return Array.prototype.concat.apply([],arguments)}function Y(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function K(e){return/^[\s\xa0]*$/.test(e)}var W,X=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Q(e,t){return-1!=e.indexOf(t)}function Z(e,t){return e<t?-1:e>t?1:0}e:{var J=N.navigator;if(J){var ee=J.userAgent;if(ee){W=ee;break e}}W=""}function te(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ne(e){const t={};for(const n in e)t[n]=e[n];return t}var re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<re.length;t++)n=re[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ie(e){return ie[" "](e),e}ie[" "]=D;var oe,ae,ce=Q(W,"Opera"),le=Q(W,"Trident")||Q(W,"MSIE"),ue=Q(W,"Edge"),he=ue||le,de=Q(W,"Gecko")&&!(Q(W.toLowerCase(),"webkit")&&!Q(W,"Edge"))&&!(Q(W,"Trident")||Q(W,"MSIE"))&&!Q(W,"Edge"),fe=Q(W.toLowerCase(),"webkit")&&!Q(W,"Edge");function pe(){var e=N.document;return e?e.documentMode:void 0}e:{var ge="",me=(ae=W,de?/rv:([^\);]+)(\)|;)/.exec(ae):ue?/Edge\/([\d\.]+)/.exec(ae):le?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ae):fe?/WebKit\/(\S+)/.exec(ae):ce?/(?:Version)[ \/]?(\S+)/.exec(ae):void 0);if(me&&(ge=me?me[1]:""),le){var ye=pe();if(null!=ye&&ye>parseFloat(ge)){oe=String(ye);break e}}oe=ge}var ve={};var we=N.document&&le&&(pe()||parseInt(oe,10))||void 0,be=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{N.addEventListener("test",D,t),N.removeEventListener("test",D,t)}catch(n){}return e}();function _e(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Se(e,t){if(_e.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(de){e:{try{ie(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ie[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Se.Z.h.call(this)}}_e.prototype.h=function(){this.defaultPrevented=!0},j(Se,_e);var Ie={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Ce(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++Te,this.ca=this.fa=!1}function ke(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ae(e){this.src=e,this.g={},this.h=0}function xe(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=z(s,t);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(ke(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Oe(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}Ae.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=Oe(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ce(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var Ne="closure_lm_"+(1e6*Math.random()|0),De={};function Re(e,t,n,r,s){if(r&&r.once)return $e(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Re(e,t[i],n,r,s);return null}return n=qe(n),e&&e[Ee]?e.N(t,n,P(r)?!!r.capture:!!r,s):Pe(e,t,n,!1,r,s)}function Pe(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=P(s)?!!s.capture:!!s,a=Ve(e);if(a||(e[Ne]=a=new Ae(e)),(n=a.add(t,n,r,o,i)).proxy)return n;if(r=function(){var e=Ue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)be||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Fe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $e(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)$e(e,t[i],n,r,s);return null}return n=qe(n),e&&e[Ee]?e.O(t,n,P(r)?!!r.capture:!!r,s):Pe(e,t,n,!0,r,s)}function Le(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Le(e,t[i],n,r,s);else r=P(r)?!!r.capture:!!r,n=qe(n),e&&e[Ee]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Oe(i=e.g[t],n,r,s))&&(ke(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--))):e&&(e=Ve(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oe(t,n,r,s)),(n=-1<e?t[e]:null)&&Me(n))}function Me(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ee])xe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ve(t))?(xe(n,e),0==n.h&&(n.src=null,t[Ne]=null)):ke(e)}}}function Fe(e){return e in De?De[e]:De[e]="on"+e}function Ue(e,t){if(e.ca)e=!0;else{t=new Se(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Me(e),e=n.call(r,t)}return e}function Ve(e){return(e=e[Ne])instanceof Ae?e:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(e){return"function"==typeof e?e:(e[je]||(e[je]=function(t){return e.handleEvent(t)}),e[je])}function Be(){q.call(this),this.i=new Ae(this),this.P=this,this.I=null}function ze(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new _e(t,e);else if(t instanceof _e)t.target=t.target||e;else{var s=t;se(t=new _e(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=He(o,r,!0,t)&&s}if(s=He(o=t.g=e,r,!0,t)&&s,s=He(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=He(o=t.g=n[i],r,!1,t)&&s}function He(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&xe(e.i,o),s=!1!==a.call(c,r)&&s}}return s&&!r.defaultPrevented}j(Be,q),Be.prototype[Ee]=!0,Be.prototype.removeEventListener=function(e,t,n,r){Le(this,e,t,n,r)},Be.prototype.M=function(){if(Be.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ke(n[r]);delete t.g[e],t.h--}}this.I=null},Be.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Be.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ge=N.JSON.stringify;function Ye(){var e=et;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ke,We=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Xe,e=>e.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qe(e){N.setTimeout(()=>{throw e},0)}function Ze(e,t){Ke||function(){var e=N.Promise.resolve(void 0);Ke=function(){e.then(tt)}}(),Je||(Ke(),Je=!0),et.add(e,t)}var Je=!1,et=new class{constructor(){this.h=this.g=null}add(e,t){const n=We.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function tt(){for(var e;e=Ye();){try{e.h.call(e.g)}catch(n){Qe(n)}var t=We;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Je=!1}function nt(e,t){Be.call(this),this.h=e||1,this.g=t||N,this.j=U(this.kb,this),this.l=Date.now()}function rt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function st(e,t,n){if("function"==typeof e)n&&(e=U(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=U(e.handleEvent,e)}return 2147483647<Number(t)?-1:N.setTimeout(e,t||0)}function it(e){e.g=st(()=>{e.g=null,e.i&&(e.i=!1,it(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}j(nt,Be),(m=nt.prototype).da=!1,m.S=null,m.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ze(this,"tick"),this.da&&(rt(this),this.start()))}},m.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},m.M=function(){nt.Z.M.call(this),rt(this),delete this.g};class ot extends q{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:it(this)}M(){super.M(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(e){q.call(this),this.h=e,this.g={}}j(at,q);var ct=[];function lt(e,t,n,r){Array.isArray(n)||(n&&(ct[0]=n.toString()),n=ct);for(var s=0;s<n.length;s++){var i=Re(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function ut(e){te(e.g,function(e,t){this.g.hasOwnProperty(t)&&Me(e)},e),e.g={}}function ht(){this.g=!0}function dt(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return Ge(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}at.prototype.M=function(){at.Z.M.call(this),ut(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ht.prototype.Aa=function(){this.g=!1},ht.prototype.info=function(){};var ft={},pt=null;function gt(){return pt=pt||new Be}function mt(e){_e.call(this,ft.Ma,e)}function yt(e){const t=gt();ze(t,new mt(t,e))}function vt(e,t){_e.call(this,ft.STAT_EVENT,e),this.stat=t}function wt(e){const t=gt();ze(t,new vt(t,e))}function bt(e,t){_e.call(this,ft.Na,e),this.size=t}function _t(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){e()},t)}ft.Ma="serverreachability",j(mt,_e),ft.STAT_EVENT="statevent",j(vt,_e),ft.Na="timingevent",j(bt,_e);var St={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},It={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Et(){}function Tt(){}Et.prototype.h=null;var Ct,kt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function At(){_e.call(this,"d")}function xt(){_e.call(this,"c")}function Ot(){}function Nt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new at(this),this.P=Rt,this.W=new nt(e=he?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}j(At,_e),j(xt,_e),j(Ot,Et),Ot.prototype.g=function(){return new XMLHttpRequest},Ot.prototype.i=function(){return{}},Ct=new Ot;var Rt=45e3,Pt={},$t={};function Lt(e,t,n){e.K=1,e.v=on(Jt(t)),e.s=n,e.U=!0,Mt(e,null)}function Mt(e,t){e.F=Date.now(),jt(e),e.A=Jt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Dt,e.g=wr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ot(U(e.Ia,e,e.g),e.O)),lt(e.V,e.g,"readystatechange",e.gb),t=e.H?ne(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),yt(1),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ft(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ut(e,t,n){let r,s=!0;for(;!e.I&&e.C<n.length;){if(r=Vt(e,n),r==$t){4==t&&(e.o=4,wt(14),s=!1),dt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pt){e.o=4,wt(15),dt(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}dt(e.j,e.m,r,null),Gt(e,r)}Ft(e)&&r!=$t&&r!=Pt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,wt(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hr(t),t.L=!0,wt(11))):(dt(e.j,e.m,n,"[Invalid Chunked Response]"),Ht(e),zt(e))}function Vt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$t:(n=Number(t.substring(n,r)),isNaN(n)?Pt:(r+=1)+n>t.length?$t:(t=t.substr(r,n),e.C=r+n,t))}function jt(e){e.Y=Date.now()+e.P,qt(e,e.P)}function qt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_t(U(e.eb,e),t)}function Bt(e){e.B&&(N.clearTimeout(e.B),e.B=null)}function zt(e){0==e.l.G||e.I||pr(e.l,e)}function Ht(e){Bt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,rt(e.W),ut(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Gt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Tn(n.i,e)))if(n.I=e.N,!e.J&&Tn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fr(n),nr(n)}ur(n),wt(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=_t(U(n.ab,n),6e3));if(1>=En(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else mr(n,11)}else if((e.J||n.g==e)&&fr(n),!K(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){let l=s[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const s=l[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.i;!i.g&&(Q(e,"spdy")||Q(e,"quic")||Q(e,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Cn(i,i.h),i.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,sn(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=vr(r,r.H?r.la:null,r.W),o.J){kn(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Bt(a),jt(a)),r.g=o}else lr(r);0<n.l.length&&ir(n)}else"stop"!=l[0]&&"close"!=l[0]||mr(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mr(n,7):tr(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}yt(4)}catch(l){}}function Yt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(R(e)||"string"==typeof e)H(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(R(e)||"string"==typeof e){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;s=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(R(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function Kt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Kt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Xt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)Xt(s,r=e.g[t])||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}function Xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(m=Nt.prototype).setTimeout=function(e){this.P=e},m.gb=function(e){e=e.target;const t=this.L;t&&3==Xn(e)?t.l():this.Ia(e)},m.Ia=function(e){try{if(e==this.g)e:{const u=Xn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||he||this.g&&(this.h.h||this.g.ga()||Qn(this.g)))){this.I||4!=u||7==t||yt(8==t||0>=h?3:2),Bt(this);var n=this.g.ba();this.N=n;t:if(Ft(this)){var r=Qn(this.g);e="";var s=r.length,i=4==Xn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ht(this),zt(this);var o="";break t}this.h.i=new N.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,wt(12),Ht(this),zt(this);break e}dt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gt(this,n)}this.U?(Ut(this,u,o),he&&this.i&&3==u&&(lt(this.V,this.W,"tick",this.fb),this.W.start())):(dt(this.j,this.m,o,null),Gt(this,o)),4==u&&Ht(this),this.i&&!this.I&&(4==u?pr(this.l,this):(this.i=!1,jt(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,wt(12)):(this.o=0,wt(13)),Ht(this),zt(this)}}}catch(u){}},m.fb=function(){if(this.g){var e=Xn(this.g),t=this.g.ga();this.C<t.length&&(Bt(this),Ut(this,e,t),this.i&&4!=e&&jt(this))}},m.cancel=function(){this.I=!0,Ht(this)},m.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(yt(3),wt(17)),Ht(this),this.o=2,zt(this)):qt(this,this.Y-e)},(m=Kt.prototype).R=function(){Wt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},m.T=function(){return Wt(this),this.g.concat()},m.get=function(e,t){return Xt(this.h,e)?this.h[e]:t},m.set=function(e,t){Xt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},m.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};var Qt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Zt){this.g=void 0!==t?t:e.g,en(this,e.j),this.s=e.s,tn(this,e.i),nn(this,e.m),this.l=e.l,t=e.h;var n=new gn;n.i=t.i,t.g&&(n.g=new Kt(t.g),n.h=t.h),rn(this,n),this.o=e.o}else e&&(n=String(e).match(Qt))?(this.g=!!t,en(this,n[1]||"",!0),this.s=an(n[2]||""),tn(this,n[3]||"",!0),nn(this,n[4]),this.l=an(n[5]||"",!0),rn(this,n[6]||"",!0),this.o=an(n[7]||"")):(this.g=!!t,this.h=new gn(null,this.g))}function Jt(e){return new Zt(e)}function en(e,t,n){e.j=n?an(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tn(e,t,n){e.i=n?an(t,!0):t}function nn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rn(e,t,n){t instanceof gn?(e.h=t,function(e,t){t&&!e.j&&(mn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(yn(this,t),wn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=cn(t,fn)),e.h=new gn(t,e.g))}function sn(e,t,n){e.h.set(t,n)}function on(e){return sn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function an(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ln),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ln(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cn(t,un,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cn(t,un,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(cn(n,"/"==n.charAt(0)?dn:hn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cn(n,pn)),e.join("")};var un=/[#\/\?@]/g,hn=/[#\?:]/g,dn=/[#\?]/g,fn=/[#\?@]/g,pn=/#/g;function gn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mn(e){e.g||(e.g=new Kt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function yn(e,t){mn(e),t=bn(e,t),Xt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Xt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Wt(e)))}function vn(e,t){return mn(e),t=bn(e,t),Xt(e.g.h,t)}function wn(e,t,n){yn(e,t),0<n.length&&(e.i=null,e.g.set(bn(e,t),Y(n)),e.h+=n.length)}function bn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _n(e){this.l=e||Sn,e=N.PerformanceNavigationTiming?0<(e=N.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(N.g&&N.g.Ea&&N.g.Ea()&&N.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(m=gn.prototype).add=function(e,t){mn(this),this.i=null,e=bn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},m.forEach=function(e,t){mn(this),this.g.forEach(function(n,r){H(n,function(n){e.call(t,n,r,this)},this)},this)},m.T=function(){mn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n},m.R=function(e){mn(this);var t=[];if("string"==typeof e)vn(this,e)&&(t=G(t,this.g.get(bn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},m.set=function(e,t){return mn(this),this.i=null,vn(this,e=bn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},m.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},m.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;""!==r[i]&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};var Sn=10;function In(e){return!!e.h||!!e.g&&e.g.size>=e.j}function En(e){return e.h?1:e.g?e.g.size:0}function Tn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cn(e,t){e.g?e.g.add(t):e.h=t}function kn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function An(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Y(e.i)}function xn(){}function On(){this.g=new xn}function Nn(e,t,n){const r=n||"";try{Yt(e,function(e,n){let s=e;P(e)&&(s=Ge(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Dn(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(i){}}function Rn(e){this.l=e.$b||null,this.j=e.ib||!1}function Pn(e,t){Be.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=$n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},xn.prototype.stringify=function(e){return N.JSON.stringify(e,void 0)},xn.prototype.parse=function(e){return N.JSON.parse(e,void 0)},j(Rn,Et),Rn.prototype.g=function(){return new Pn(this.l,this.j)},Rn.prototype.i=function(e){return function(){return e}}({}),j(Pn,Be);var $n=0;function Ln(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Mn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fn(e)}function Fn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(m=Pn.prototype).open=function(e,t){if(this.readyState!=$n)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fn(this)},m.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||N).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},m.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mn(this)),this.readyState=$n},m.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==N.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ln(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},m.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mn(this):Fn(this),3==this.readyState&&Ln(this)}},m.Ua=function(e){this.g&&(this.response=this.responseText=e,Mn(this))},m.Ta=function(e){this.g&&(this.response=e,Mn(this))},m.ha=function(){this.g&&Mn(this)},m.setRequestHeader=function(e,t){this.v.append(e,t)},m.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},m.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Un=N.JSON.parse;function Vn(e){Be.call(this),this.headers=new Kt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jn,this.K=this.L=!1}j(Vn,Be);var jn="",qn=/^https?$/i,Bn=["POST","PUT"];function zn(e){return"content-type"==e.toLowerCase()}function Hn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gn(e),Kn(e)}function Gn(e){e.D||(e.D=!0,ze(e,"complete"),ze(e,"error"))}function Yn(e){if(e.h&&void 0!==O&&(!e.C[1]||4!=Xn(e)||2!=e.ba()))if(e.v&&4==Xn(e))st(e.Fa,0,e);else if(ze(e,"readystatechange"),4==Xn(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var s=String(e.H).match(Qt)[1]||null;if(!s&&N.self&&N.self.location){var i=N.self.location.protocol;s=i.substr(0,i.length-1)}r=!qn.test(s?s.toLowerCase():"")}n=r}if(n)ze(e,"complete"),ze(e,"success");else{e.m=6;try{var o=2<Xn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Gn(e)}}finally{Kn(e)}}}function Kn(e,t){if(e.g){Wn(e);const r=e.g,s=e.C[0]?D:null;e.g=null,e.C=null,t||ze(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function Wn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(N.clearTimeout(e.A),e.A=null)}function Xn(e){return e.g?e.g.readyState:0}function Qn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return te(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):sn(e,t,n))}function Jn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function er(e){this.za=0,this.l=[],this.h=new ht,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jn("baseRetryDelayMs",5e3,e),this.$a=Jn("retryDelaySeedMs",1e4,e),this.Ya=Jn("forwardChannelMaxRetries",2,e),this.ra=Jn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _n(e&&e.concurrentRequestLimit),this.Ca=new On,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function tr(e){if(rr(e),3==e.G){var t=e.V++,n=Jt(e.F);sn(n,"SID",e.J),sn(n,"RID",t),sn(n,"TYPE","terminate"),ar(e,n),(t=new Nt(e,e.h,t,void 0)).K=2,t.v=on(Jt(n)),n=!1,N.navigator&&N.navigator.sendBeacon&&(n=N.navigator.sendBeacon(t.v.toString(),"")),!n&&N.Image&&((new Image).src=t.v,n=!0),n||(t.g=wr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),jt(t)}yr(e)}function nr(e){e.g&&(hr(e),e.g.cancel(),e.g=null)}function rr(e){nr(e),e.u&&(N.clearTimeout(e.u),e.u=null),fr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&N.clearTimeout(e.m),e.m=null)}function sr(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&ir(e)}function ir(e){In(e.i)||e.m||(e.m=!0,Ze(e.Ha,e),e.C=0)}function or(e,t){var n;n=t?t.m:e.V++;const r=Jt(e.F);sn(r,"SID",e.J),sn(r,"RID",n),sn(r,"AID",e.U),ar(e,r),e.o&&e.s&&Zn(r,e.o,e.s),n=new Nt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=cr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Cn(e.i,n),Lt(n,r,t)}function ar(e,t){e.j&&Yt({},function(e,n){sn(t,n,e)})}function cr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?U(e.j.Oa,e.j,e):null;e:{var s=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=s[o].h;const a=s[o].g;if(n-=t,0>n)t=Math.max(0,s[o].h-100),i=!1;else try{Nn(a,e,"req"+n+"_")}catch(Yr){r&&r(a)}}if(i){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function lr(e){e.g||e.u||(e.Y=1,Ze(e.Ga,e),e.A=0)}function ur(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=_t(U(e.Ga,e),gr(e,e.A)),e.A++,0))}function hr(e){null!=e.B&&(N.clearTimeout(e.B),e.B=null)}function dr(e){e.g=new Nt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Jt(e.oa);sn(t,"RID","rpc"),sn(t,"SID",e.J),sn(t,"CI",e.N?"0":"1"),sn(t,"AID",e.U),ar(e,t),sn(t,"TYPE","xmlhttp"),e.o&&e.s&&Zn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=on(Jt(t)),n.s=null,n.U=!0,Mt(n,e)}function fr(e){null!=e.v&&(N.clearTimeout(e.v),e.v=null)}function pr(e,t){var n=null;if(e.g==t){fr(e),hr(e),e.g=null;var r=2}else{if(!Tn(e.i,t))return;n=t.D,kn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;ze(r=gt(),new bt(r,n,t,s)),ir(e)}else lr(e);else if(3==(s=t.o)||0==s&&0<e.I||!(1==r&&function(e,t){return!(En(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=_t(U(e.Ha,e,t),gr(e,e.C)),e.C++,0)))}(e,t)||2==r&&ur(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:mr(e,5);break;case 4:mr(e,10);break;case 3:mr(e,6);break;default:mr(e,2)}}function gr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=U(e.jb,e);n||(n=new Zt("//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||en(n,"https"),on(n)),function(e,t){const n=new ht;if(N.Image){const r=new Image;r.onload=V(Dn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=V(Dn,n,r,"TestLoadImage: error",!1,t),r.onabort=V(Dn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=V(Dn,n,r,"TestLoadImage: timeout",!1,t),N.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else wt(2);e.G=0,e.j&&e.j.va(t),yr(e),rr(e)}function yr(e){e.G=0,e.I=-1,e.j&&(0==An(e.i).length&&0==e.l.length||(e.i.i.length=0,Y(e.l),e.l.length=0),e.j.ua())}function vr(e,t,n){let r=function(e){return e instanceof Zt?Jt(e):new Zt(e,void 0)}(n);if(""!=r.i)t&&tn(r,t+"."+r.i),nn(r,r.m);else{const e=N.location;r=function(e,t,n,r){var s=new Zt(null,void 0);return e&&en(s,e),t&&tn(s,t),n&&nn(s,n),r&&(s.l=r),s}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&te(e.aa,function(e,t){sn(r,t,e)}),n=e.sa,(t=e.D)&&n&&sn(r,t,n),sn(r,"VER",e.ma),ar(e,r),r}function wr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Vn(n&&e.Ba&&!e.qa?new Rn({ib:!0}):e.qa)).L=e.H,t}function br(){}function _r(){if(le&&!(10<=Number(we)))throw Error("Environmental error: no available transport.")}function Sr(e,t){Be.call(this),this.g=new er(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!K(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!K(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Tr(this)}function Ir(e){At.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Er(){xt.call(this),this.status=1}function Tr(e){this.g=e}(m=Vn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ct.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Ct),this.g.onreadystatechange=U(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void Hn(this,i)}e=n||"";const s=new Kt(this.headers);r&&Yt(r,function(e,t){s.set(t,e)}),r=function(e){e:{var t=zn;const n=e.length,r="string"==typeof e?e.split(""):e;for(let s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(s.T()),n=N.FormData&&e instanceof N.FormData,!(0<=z(Bn,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wn(this),0<this.B&&((this.K=function(e){return le&&function(){return e=ve,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=X(String(oe)).split("."),n=X("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var s=t[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],0==s[0].length&&0==i[0].length)break;e=Z(0==s[1].length?0:parseInt(s[1],10),0==i[1].length?0:parseInt(i[1],10))||Z(0==s[2].length,0==i[2].length)||Z(s[2],i[2]),s=s[3],i=i[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=U(this.pa,this)):this.A=st(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Hn(this,i)}},m.pa=function(){void 0!==O&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ze(this,"timeout"),this.abort(8))},m.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ze(this,"complete"),ze(this,"abort"),Kn(this))},m.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kn(this,!0)),Vn.Z.M.call(this)},m.Fa=function(){this.s||(this.F||this.v||this.l?Yn(this):this.cb())},m.cb=function(){Yn(this)},m.ba=function(){try{return 2<Xn(this)?this.g.status:-1}catch(ae){return-1}},m.ga=function(){try{return this.g?this.g.responseText:""}catch(ae){return""}},m.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Un(t)}},m.Da=function(){return this.m},m.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(m=er.prototype).ma=8,m.G=1,m.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},m.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Nt(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=ne(i),se(i,this.P)):i=this.P),null===this.o&&(s.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=cr(this,s,t),sn(n=Jt(this.F),"RID",e),sn(n,"CVER",22),this.D&&sn(n,"X-HTTP-Session-Id",this.D),ar(this,n),this.o&&i&&Zn(n,this.o,i),Cn(this.i,s),this.Ra&&sn(n,"TYPE","init"),this.ja?(sn(n,"$req",t),sn(n,"SID","null"),s.$=!0,Lt(s,n,null)):Lt(s,n,t),this.G=2}}else 3==this.G&&(e?or(this,e):0==this.l.length||In(this.i)||or(this))},m.Ga=function(){if(this.u=null,dr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=_t(U(this.bb,this),e)}},m.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wt(10),nr(this),dr(this))},m.ab=function(){null!=this.v&&(this.v=null,nr(this),ur(this),wt(19))},m.jb=function(e){e?(this.h.info("Successfully pinged google.com"),wt(2)):(this.h.info("Failed to ping google.com"),wt(1))},(m=br.prototype).xa=function(){},m.wa=function(){},m.va=function(){},m.ua=function(){},m.Oa=function(){},_r.prototype.g=function(e,t){return new Sr(e,t)},j(Sr,Be),Sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ze(U(e.hb,e,t))),wt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vr(e,null,e.W),ir(e)},Sr.prototype.close=function(){tr(this.g)},Sr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,sr(this.g,t)}else this.v?((t={}).__data__=Ge(e),sr(this.g,t)):sr(this.g,e)},Sr.prototype.M=function(){this.g.j=null,delete this.j,tr(this.g),delete this.g,Sr.Z.M.call(this)},j(Ir,At),j(Er,xt),j(Tr,br),Tr.prototype.xa=function(){ze(this.g,"a")},Tr.prototype.wa=function(e){ze(this.g,new Ir(e))},Tr.prototype.va=function(e){ze(this.g,new Er(e))},Tr.prototype.ua=function(){ze(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,Sr.prototype.send=Sr.prototype.u,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,It.COMPLETE="complete",Tt.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",Be.prototype.listen=Be.prototype.N,Vn.prototype.listenOnce=Vn.prototype.O,Vn.prototype.getLastError=Vn.prototype.La,Vn.prototype.getLastErrorCode=Vn.prototype.Da,Vn.prototype.getStatus=Vn.prototype.ba,Vn.prototype.getResponseJson=Vn.prototype.Qa,Vn.prototype.getResponseText=Vn.prototype.ga,Vn.prototype.send=Vn.prototype.ea;var Cr=x.createWebChannelTransport=function(){return new _r},kr=x.getStatEventTarget=function(){return gt()},Ar=x.ErrorCode=St,xr=x.EventType=It,Or=x.Event=ft,Nr=x.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Dr=x.FetchXmlHttpFactory=Rn,Rr=x.WebChannel=Tt,Pr=x.XhrIo=Vn;const $r="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Mr="9.6.7";const Fr=new C.Yd("@firebase/firestore");function Ur(){return Fr.logLevel}function Vr(e,...t){if(Fr.logLevel<=C.in.DEBUG){const n=t.map(Br);Fr.debug(`Firestore (${Mr}): ${e}`,...n)}}function jr(e,...t){if(Fr.logLevel<=C.in.ERROR){const n=t.map(Br);Fr.error(`Firestore (${Mr}): ${e}`,...n)}}function qr(e,...t){if(Fr.logLevel<=C.in.WARN){const n=t.map(Br);Fr.warn(`Firestore (${Mr}): ${e}`,...n)}}function Br(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function zr(e="Unexpected state"){const t=`FIRESTORE (${Mr}) INTERNAL ASSERTION FAILED: `+e;throw jr(t),new Error(t)}function Hr(e,t){e||zr()}function Gr(e,t){return e}const Yr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kr extends k.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Xr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class Zr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jr{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wr,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Vr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Vr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wr)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Vr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Hr("string"==typeof t.accessToken),new Xr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hr(null===e||"string"==typeof e),new Lr(e)}}class es{constructor(e,t,n){this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ts{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new es(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ns{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rs{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Vr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Vr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Vr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Vr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Hr("string"==typeof e.token),this.p=e.token,new ns(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ss{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function is(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ss.A=-1;class os{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=is(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%e.length))}return n}}function as(e,t){return e<t?-1:e>t?1:0}function cs(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ls(e){return e+"\0"}class us{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Kr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Kr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Kr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Kr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return us.fromMillis(Date.now())}static fromDate(e){return us.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new us(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?as(this.nanoseconds,e.nanoseconds):as(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hs(e)}static min(){return new hs(new us(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ds(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ps(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gs{constructor(e,t,n){void 0===t?t=0:t>e.length&&zr(),void 0===n?n=e.length-t:n>e.length-t&&zr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===gs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ms extends gs{construct(e,t,n){return new ms(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Kr(Yr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new ms(t)}static emptyPath(){return new ms([])}}const ys=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vs extends gs{construct(e,t,n){return new vs(e,t,n)}static isValidIdentifier(e){return ys.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Kr(Yr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Kr(Yr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Kr(Yr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Kr(Yr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vs(t)}static emptyPath(){return new vs([])}}class ws{constructor(e){this.fields=e,e.sort(vs.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new bs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new bs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return as(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const _s=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(e){if(Hr(!!e),"string"==typeof e){let t=0;const n=_s.exec(e);if(Hr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Is(e.seconds),nanos:Is(e.nanos)}}function Is(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Es(e){return"string"==typeof e?bs.fromBase64String(e):bs.fromUint8Array(e)}function Ts(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cs(e){const t=e.mapValue.fields.__previous_value__;return Ts(t)?Cs(t):t}function ks(e){const t=Ss(e.mapValue.fields.__local_write_time__.timestampValue);return new us(t.seconds,t.nanos)}class As{constructor(e,t,n,r,s,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class xs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xs&&e.projectId===this.projectId&&e.database===this.database}}function Os(e){return null==e}function Ns(e){return 0===e&&1/e==-1/0}function Ds(e){return"number"==typeof e&&Number.isInteger(e)&&!Ns(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Rs{constructor(e){this.path=e}static fromPath(e){return new Rs(ms.fromString(e))}static fromName(e){return new Rs(ms.fromString(e).popFirst(5))}static empty(){return new Rs(ms.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ms.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ms.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rs(new ms(e.slice()))}}const Ps={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function $s(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ts(e)?4:10:zr()}function Ls(e,t){if(e===t)return!0;const n=$s(e);if(n!==$s(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ks(e).isEqual(ks(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ss(e.timestampValue),r=Ss(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Es(e.bytesValue).isEqual(Es(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Is(e.geoPointValue.latitude)===Is(t.geoPointValue.latitude)&&Is(e.geoPointValue.longitude)===Is(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Is(e.integerValue)===Is(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Is(e.doubleValue),r=Is(t.doubleValue);return n===r?Ns(n)===Ns(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return cs(e.arrayValue.values||[],t.arrayValue.values||[],Ls);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ds(n)!==ds(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Ls(n[s],r[s])))return!1;return!0}(e,t);default:return zr()}}function Ms(e,t){return void 0!==(e.values||[]).find(e=>Ls(e,t))}function Fs(e,t){if(e===t)return 0;const n=$s(e),r=$s(t);if(n!==r)return as(n,r);switch(n){case 0:return 0;case 1:return as(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Is(e.integerValue||e.doubleValue),r=Is(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Us(e.timestampValue,t.timestampValue);case 4:return Us(ks(e),ks(t));case 5:return as(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Es(e),r=Es(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=as(n[s],r[s]);if(0!==e)return e}return as(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=as(Is(e.latitude),Is(t.latitude));return 0!==n?n:as(Is(e.longitude),Is(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Fs(n[s],r[s]);if(e)return e}return as(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=as(r[o],i[o]);if(0!==e)return e;const t=Fs(n[r[o]],s[i[o]]);if(0!==t)return t}return as(r.length,i.length)}(e.mapValue,t.mapValue);default:throw zr()}}function Us(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return as(e,t);const n=Ss(e),r=Ss(t),s=as(n.seconds,r.seconds);return 0!==s?s:as(n.nanos,r.nanos)}function Vs(e){return js(e)}function js(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ss(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Es(e.bytesValue).toBase64():"referenceValue"in e?Rs.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=js(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${js(e.fields[s])}`;return n+"}"}(e.mapValue):zr();var t}function qs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Bs(e){return!!e&&"integerValue"in e}function zs(e){return!!e&&"arrayValue"in e}function Hs(e){return!!e&&"nullValue"in e}function Gs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ys(e){return!!e&&"mapValue"in e}function Ks(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ks(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ks(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ys(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ks(t)}setAll(e){let t=vs.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Ks(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Ys(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ys(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){fs(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ws(Ks(this.value))}}function Xs(e){const t=[];return fs(e.fields,(e,n)=>{const r=new vs([e]);if(Ys(n)){const e=Xs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ws(t)}class Qs{constructor(e,t,n,r,s,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=s,this.documentState=i}static newInvalidDocument(e){return new Qs(e,0,hs.min(),hs.min(),Ws.empty(),0)}static newFoundDocument(e,t,n){return new Qs(e,1,t,hs.min(),n,0)}static newNoDocument(e,t){return new Qs(e,2,t,hs.min(),Ws.empty(),0)}static newUnknownDocument(e,t){return new Qs(e,3,t,hs.min(),Ws.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Zs=(()=>{class e{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}return e.UNKNOWN_ID=-1,e})();class Js{constructor(e,t){this.fieldPath=e,this.kind=t}}class ei{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ei(0,ti.min())}}class ti{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ti(hs.min(),Rs.empty(),-1)}}class ni{constructor(e,t=null,n=[],r=[],s=null,i=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.P=null}}function ri(e,t=null,n=[],r=[],s=null,i=null,o=null){return new ni(e,t,n,r,s,i,o)}function si(e){const t=Gr(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>{return(t=e).field.canonicalString()+t.op.toString()+Vs(t.value);var t}).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Os(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Vs(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Vs(e)).join(",")),t.P=e}return t.P}function ii(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!vi(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if((n=e.filters[s]).op!==(r=t.filters[s]).op||!n.field.isEqual(r.field)||!Ls(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bi(e.startAt,t.startAt)&&bi(e.endAt,t.endAt)}function oi(e){return Rs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ai extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,n):new ci(e,t,n):"array-contains"===t?new di(e,n):"in"===t?new fi(e,n):"not-in"===t?new pi(e,n):"array-contains-any"===t?new gi(e,n):new ai(e,t,n)}static v(e,t,n){return"in"===t?new li(e,n):new ui(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Fs(t,this.value)):null!==t&&$s(this.value)===$s(t)&&this.V(Fs(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zr()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ci extends ai{constructor(e,t,n){super(e,t,n),this.key=Rs.fromName(n.referenceValue)}matches(e){const t=Rs.comparator(e.key,this.key);return this.V(t)}}class li extends ai{constructor(e,t){super(e,"in",t),this.keys=hi(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ui extends ai{constructor(e,t){super(e,"not-in",t),this.keys=hi(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Rs.fromName(e.referenceValue))}class di extends ai{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zs(t)&&Ms(t.arrayValue,this.value)}}class fi extends ai{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ms(this.value.arrayValue,t)}}class pi extends ai{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ms(this.value.arrayValue,t)}}class gi extends ai{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ms(this.value.arrayValue,e))}}class mi{constructor(e,t){this.position=e,this.inclusive=t}}class yi{constructor(e,t="asc"){this.field=e,this.dir=t}}function vi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wi(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(r=i.field.isKeyField()?Rs.comparator(Rs.fromName(o.referenceValue),n.key):Fs(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function bi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ls(e.position[n],t.position[n]))return!1;return!0}class _i{constructor(e,t=null,n=[],r=[],s=null,i="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.D=null,this.C=null}}function Si(e,t,n,r,s,i,o,a){return new _i(e,t,n,r,s,i,o,a)}function Ii(e){return new _i(e)}function Ei(e){return!Os(e.limit)&&"F"===e.limitType}function Ti(e){return!Os(e.limit)&&"L"===e.limitType}function Ci(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ki(e){for(const t of e.filters)if(t.S())return t.field;return null}function Ai(e){return null!==e.collectionGroup}function xi(e){const t=Gr(e);if(null===t.D){t.D=[];const e=ki(t),n=Ci(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new yi(e)),t.D.push(new yi(vs.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new yi(vs.keyField(),e))}}}return t.D}function Oi(e){const t=Gr(e);if(!t.C)if("F"===t.limitType)t.C=ri(t.path,t.collectionGroup,xi(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of xi(t))e.push(new yi(s.field,"desc"===s.dir?"asc":"desc"));const n=t.endAt?new mi(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new mi(t.startAt.position,!t.startAt.inclusive):null;t.C=ri(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function Ni(e,t,n){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Di(e,t){return ii(Oi(e),Oi(t))&&e.limitType===t.limitType}function Ri(e){return`${si(Oi(e))}|lt:${e.limitType}`}function Pi(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Vs(t.value)}`;var t}).join(", ")}]`),Os(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Vs(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Vs(e)).join(",")),`Target(${t})`}(Oi(e))}; limitType=${e.limitType})`}function $i(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=wi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xi(e),t)||e.endAt&&!function(e,t,n){const r=wi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xi(e),t))}(e,t)}function Li(e){return(t,n)=>{let r=!1;for(const s of xi(e)){const e=Mi(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Mi(e,t,n){const r=e.field.isKeyField()?Rs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Fs(r,s):zr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zr()}}function Fi(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ns(t)?"-0":t}}function Ui(e){return{integerValue:""+e}}function Vi(e,t){return Ds(t)?Ui(t):Fi(e,t)}class ji{constructor(){this._=void 0}}function qi(e,t,n){return e instanceof Hi?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gi?Yi(e,t):e instanceof Ki?Wi(e,t):function(e,t){const n=zi(e,t),r=Qi(n)+Qi(e.k);return Bs(n)&&Bs(e.k)?Ui(r):Fi(e.O,r)}(e,t)}function Bi(e,t,n){return e instanceof Gi?Yi(e,t):e instanceof Ki?Wi(e,t):n}function zi(e,t){return e instanceof Xi?Bs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Hi extends ji{}class Gi extends ji{constructor(e){super(),this.elements=e}}function Yi(e,t){const n=Zi(t);for(const r of e.elements)n.some(e=>Ls(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ki extends ji{constructor(e){super(),this.elements=e}}function Wi(e,t){let n=Zi(t);for(const r of e.elements)n=n.filter(e=>!Ls(e,r));return{arrayValue:{values:n}}}class Xi extends ji{constructor(e,t){super(),this.O=e,this.k=t}}function Qi(e){return Is(e.integerValue||e.doubleValue)}function Zi(e){return zs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ji{constructor(e,t){this.field=e,this.transform=t}}class eo{constructor(e,t){this.version=e,this.transformResults=t}}class to{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new to}static exists(e){return new to(void 0,e)}static updateTime(e){return new to(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function no(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ro{}function so(e,t,n){e instanceof lo?function(e,t,n){const r=e.value.clone(),s=fo(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof uo?function(e,t,n){if(!no(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=fo(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(ho(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function io(e,t,n){e instanceof lo?function(e,t,n){if(!no(e.precondition,t))return;const r=e.value.clone(),s=po(e.fieldTransforms,n,t);r.setAll(s),t.convertToFoundDocument(co(t),r).setHasLocalMutations()}(e,t,n):e instanceof uo?function(e,t,n){if(!no(e.precondition,t))return;const r=po(e.fieldTransforms,n,t),s=t.data;s.setAll(ho(e)),s.setAll(r),t.convertToFoundDocument(co(t),s).setHasLocalMutations()}(e,t,n):function(e,t){no(e.precondition,t)&&t.convertToNoDocument(hs.min())}(e,t)}function oo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=zi(r.transform,e||null);null!=s&&(null==n&&(n=Ws.empty()),n.set(r.field,s))}return n||null}function ao(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&cs(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gi&&t instanceof Gi||e instanceof Ki&&t instanceof Ki?cs(e.elements,t.elements,Ls):e instanceof Xi&&t instanceof Xi?Ls(e.k,t.k):e instanceof Hi&&t instanceof Hi}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function co(e){return e.isFoundDocument()?e.version:hs.min()}class lo extends ro{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class uo extends ro{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}}function ho(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function fo(e,t,n){const r=new Map;Hr(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,Bi(o,a,n[s]))}return r}function po(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,qi(e,i,t))}return r}class go extends ro{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class mo extends ro{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class yo{constructor(e){this.count=e}}var vo,wo;function bo(e){switch(e){default:return zr();case Yr.CANCELLED:case Yr.UNKNOWN:case Yr.DEADLINE_EXCEEDED:case Yr.RESOURCE_EXHAUSTED:case Yr.INTERNAL:case Yr.UNAVAILABLE:case Yr.UNAUTHENTICATED:return!1;case Yr.INVALID_ARGUMENT:case Yr.NOT_FOUND:case Yr.ALREADY_EXISTS:case Yr.PERMISSION_DENIED:case Yr.FAILED_PRECONDITION:case Yr.ABORTED:case Yr.OUT_OF_RANGE:case Yr.UNIMPLEMENTED:case Yr.DATA_LOSS:return!0}}function _o(e){if(void 0===e)return jr("GRPC error has no .code"),Yr.UNKNOWN;switch(e){case vo.OK:return Yr.OK;case vo.CANCELLED:return Yr.CANCELLED;case vo.UNKNOWN:return Yr.UNKNOWN;case vo.DEADLINE_EXCEEDED:return Yr.DEADLINE_EXCEEDED;case vo.RESOURCE_EXHAUSTED:return Yr.RESOURCE_EXHAUSTED;case vo.INTERNAL:return Yr.INTERNAL;case vo.UNAVAILABLE:return Yr.UNAVAILABLE;case vo.UNAUTHENTICATED:return Yr.UNAUTHENTICATED;case vo.INVALID_ARGUMENT:return Yr.INVALID_ARGUMENT;case vo.NOT_FOUND:return Yr.NOT_FOUND;case vo.ALREADY_EXISTS:return Yr.ALREADY_EXISTS;case vo.PERMISSION_DENIED:return Yr.PERMISSION_DENIED;case vo.FAILED_PRECONDITION:return Yr.FAILED_PRECONDITION;case vo.ABORTED:return Yr.ABORTED;case vo.OUT_OF_RANGE:return Yr.OUT_OF_RANGE;case vo.UNIMPLEMENTED:return Yr.UNIMPLEMENTED;case vo.DATA_LOSS:return Yr.DATA_LOSS;default:return zr()}}(wo=vo||(vo={}))[wo.OK=0]="OK",wo[wo.CANCELLED=1]="CANCELLED",wo[wo.UNKNOWN=2]="UNKNOWN",wo[wo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wo[wo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wo[wo.NOT_FOUND=5]="NOT_FOUND",wo[wo.ALREADY_EXISTS=6]="ALREADY_EXISTS",wo[wo.PERMISSION_DENIED=7]="PERMISSION_DENIED",wo[wo.UNAUTHENTICATED=16]="UNAUTHENTICATED",wo[wo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wo[wo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wo[wo.ABORTED=10]="ABORTED",wo[wo.OUT_OF_RANGE=11]="OUT_OF_RANGE",wo[wo.UNIMPLEMENTED=12]="UNIMPLEMENTED",wo[wo.INTERNAL=13]="INTERNAL",wo[wo.UNAVAILABLE=14]="UNAVAILABLE",wo[wo.DATA_LOSS=15]="DATA_LOSS";class So{constructor(e,t){this.comparator=e,this.root=t||Eo.EMPTY}insert(e,t){return new So(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Eo.BLACK,null,null))}remove(e){return new So(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}}class Io{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Eo{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Eo.RED,this.left=null!=r?r:Eo.EMPTY,this.right=null!=s?s:Eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Eo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Eo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zr();if(this.right.isRed())throw zr();const e=this.left.check();if(e!==this.right.check())throw zr();return e+(this.isRed()?0:1)}}Eo.EMPTY=null,Eo.RED=!0,Eo.BLACK=!1,Eo.EMPTY=new class{constructor(){this.size=0}get key(){throw zr()}get value(){throw zr()}get color(){throw zr()}get left(){throw zr()}get right(){throw zr()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Eo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class To{constructor(e){this.comparator=e,this.data=new So(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Co(this.data.getIterator())}getIteratorFrom(e){return new Co(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof To))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new To(this.comparator);return t.data=e,t}}class Co{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ko(e){return e.hasNext()?e.getNext():void 0}const Ao=new So(Rs.comparator);function xo(){return Ao}const Oo=new So(Rs.comparator);function No(){return Oo}const Do=new So(Rs.comparator),Ro=new To(Rs.comparator);function Po(...e){let t=Ro;for(const n of e)t=t.add(n);return t}const $o=new To(as);function Lo(){return $o}class Mo{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,t)),new Mo(hs.min(),n,Lo(),xo(),Po())}}class Fo{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Fo(bs.EMPTY_BYTE_STRING,t,Po(),Po(),Po())}}class Uo{constructor(e,t,n,r){this.M=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Vo{constructor(e,t){this.targetId=e,this.F=t}}class jo{constructor(e,t,n=bs.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qo{constructor(){this.B=0,this.L=Ho(),this.U=bs.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Po(),t=Po(),n=Po();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zr()}}),new Fo(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=Ho()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Bo{constructor(e){this.nt=e,this.st=new Map,this.it=xo(),this.rt=zo(),this.ot=new To(as)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:zr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((e,n)=>{this.ft(n)&&t(n)})}_t(e){const t=e.targetId,n=e.F.count,r=this.wt(t);if(r){const e=r.target;if(oi(e))if(0===n){const n=new Rs(e.path);this.at(t,n,Qs.newNoDocument(n,hs.min()))}else Hr(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((n,r)=>{const s=this.wt(r);if(s){if(n.current&&oi(s.target)){const t=new Rs(s.target.path);null!==this.it.get(t)||this.It(r,t)||this.at(r,t,Qs.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}});let n=Po();this.rt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.it.forEach((t,n)=>n.setReadTime(e));const r=new Mo(e,t,this.ot,this.it,n);return this.it=xo(),this.rt=zo(),this.ot=new To(as),r}ut(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new qo,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new To(as),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Vr("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new qo),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function zo(){return new So(Rs.comparator)}function Ho(){return new So(Rs.comparator)}const Go={asc:"ASCENDING",desc:"DESCENDING"},Yo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ko{constructor(e,t){this.databaseId=e,this.N=t}}function Wo(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xo(e,t){return e.N?t.toBase64():t.toUint8Array()}function Qo(e,t){return Wo(e,t.toTimestamp())}function Zo(e){return Hr(!!e),hs.fromTimestamp(function(e){const t=Ss(e);return new us(t.seconds,t.nanos)}(e))}function Jo(e,t){return function(e){return new ms(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ea(e){const t=ms.fromString(e);return Hr(Sa(t)),t}function ta(e,t){return Jo(e.databaseId,t.path)}function na(e,t){const n=ea(t);if(n.get(1)!==e.databaseId.projectId)throw new Kr(Yr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Kr(Yr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rs(oa(n))}function ra(e,t){return Jo(e.databaseId,t)}function sa(e){const t=ea(e);return 4===t.length?ms.emptyPath():oa(t)}function ia(e){return new ms(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oa(e){return Hr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function aa(e,t,n){return{name:ta(e,t),fields:n.value.mapValue.fields}}function ca(e,t,n){const r=na(e,t.name),s=Zo(t.updateTime),i=new Ws({mapValue:{fields:t.fields}}),o=Qs.newFoundDocument(r,s,i);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function la(e,t){let n;if(t instanceof lo)n={update:aa(e,t.key,t.value)};else if(t instanceof go)n={delete:ta(e,t.key)};else if(t instanceof uo)n={update:aa(e,t.key,t.data),updateMask:_a(t.fieldMask)};else{if(!(t instanceof mo))return zr();n={verify:ta(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Hi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ki)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xi)return{fieldPath:t.field.canonicalString(),increment:n.k};throw zr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zr()}(e,t.precondition)),n}function ua(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?to.updateTime(Zo(e.updateTime)):void 0!==e.exists?to.exists(e.exists):to.none()}(t.currentDocument):to.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Hr("REQUEST_TIME"===t.setToServerValue),n=new Hi):"appendMissingElements"in t?n=new Gi(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Ki(t.removeAllFromArray.values||[]):"increment"in t?n=new Xi(e,t.increment):zr();const r=vs.fromServerFormat(t.fieldPath);return new Ji(r,n)}(e,t)):[];if(t.update){const s=na(e,t.update.name),i=new Ws({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new ws((e.fieldPaths||[]).map(e=>vs.fromServerFormat(e)))}(t.updateMask);return new uo(s,i,e,n,r)}return new lo(s,i,n,r)}if(t.delete){const r=na(e,t.delete);return new go(r,n)}if(t.verify){const r=na(e,t.verify);return new mo(r,n)}return zr()}function ha(e,t){return{documents:[ra(e,t.path)]}}function da(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ra(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ra(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Gs(e.value))return{unaryFilter:{field:ya(e.field),op:"IS_NAN"}};if(Hs(e.value))return{unaryFilter:{field:ya(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gs(e.value))return{unaryFilter:{field:ya(e.field),op:"IS_NOT_NAN"}};if(Hs(e.value))return{unaryFilter:{field:ya(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(e.field),op:ma(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ya(e.field),direction:ga(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(e,t){return e.N||Os(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fa(e){let t=sa(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Hr(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=pa(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new yi(va(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Os(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){return new mi(e.values||[],!!e.before)}(n.startAt));let l=null;return n.endAt&&(l=function(e){return new mi(e.values||[],!e.before)}(n.endAt)),Si(t,s,o,i,a,"F",c,l)}function pa(e){return e?void 0!==e.unaryFilter?[ba(e)]:void 0!==e.fieldFilter?[wa(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>pa(e)).reduce((e,t)=>e.concat(t)):zr():[]}function ga(e){return Go[e]}function ma(e){return Yo[e]}function ya(e){return{fieldPath:e.canonicalString()}}function va(e){return vs.fromServerFormat(e.fieldPath)}function wa(e){return ai.create(va(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zr()}}(e.fieldFilter.op),e.fieldFilter.value)}function ba(e){switch(e.unaryFilter.op){case"IS_NAN":const t=va(e.unaryFilter.field);return ai.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=va(e.unaryFilter.field);return ai.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=va(e.unaryFilter.field);return ai.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=va(e.unaryFilter.field);return ai.create(s,"!=",{nullValue:"NULL_VALUE"});default:return zr()}}function _a(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Sa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ia(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ta(t)),t=Ea(e.get(n),t);return Ta(t)}function Ea(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Ta(e){return e+"\x01\x01"}function Ca(e){const t=e.length;if(Hr(t>=2),2===t)return Hr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ms.emptyPath();const n=t-2,r=[];let s="";for(let i=0;i<t;){const t=e.indexOf("\x01",i);switch((t<0||t>n)&&zr(),e.charAt(t+1)){case"\x01":const n=e.substring(i,t);let o;0===s.length?o=n:(s+=n,o=s,s=""),r.push(o);break;case"\x10":s+=e.substring(i,t),s+="\0";break;case"\x11":s+=e.substring(i,t+1);break;default:zr()}i=t+2}return new ms(r)}class ka{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Aa{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Aa.store="owner",Aa.key="owner";class xa{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}xa.store="mutationQueues",xa.keyPath="userId";class Oa{constructor(e,t,n,r,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=s}}Oa.store="mutations",Oa.keyPath="batchId",Oa.userMutationsIndex="userMutationsIndex",Oa.userMutationsKeyPath=["userId","batchId"];class Na{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ia(t)]}static key(e,t,n){return[e,Ia(t),n]}}Na.store="documentMutations",Na.PLACEHOLDER=new Na;class Da{constructor(e,t){this.path=e,this.readTime=t}}class Ra{constructor(e,t){this.path=e,this.version=t}}class Pa{constructor(e,t,n,r,s,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=i}}Pa.store="remoteDocuments",Pa.readTimeIndex="readTimeIndex",Pa.readTimeIndexPath="readTime",Pa.collectionReadTimeIndex="collectionReadTimeIndex",Pa.collectionReadTimeIndexPath=["parentPath","readTime"];class $a{constructor(e){this.byteSize=e}}$a.store="remoteDocumentGlobal",$a.key="remoteDocumentGlobalKey";class La{constructor(e,t,n,r,s,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=i,this.query=o}}La.store="targets",La.keyPath="targetId",La.queryTargetsIndexName="queryTargetsIndex",La.queryTargetsKeyPath=["canonicalId","targetId"];class Ma{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Ma.store="targetDocuments",Ma.keyPath=["targetId","path"],Ma.documentTargetsIndex="documentTargetsIndex",Ma.documentTargetsKeyPath=["path","targetId"];class Fa{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Fa.key="targetGlobalKey",Fa.store="targetGlobal";class Ua{constructor(e,t){this.collectionId=e,this.parent=t}}Ua.store="collectionParents",Ua.keyPath=["collectionId","parent"];class Va{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Va.store="clientMetadata",Va.keyPath="clientId";class ja{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}ja.store="bundles",ja.keyPath="bundleId";class qa{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}qa.store="namedQueries",qa.keyPath="name";class Ba{constructor(e,t,n){this.indexId=e,this.collectionGroup=t,this.fields=n}}Ba.store="indexConfiguration",Ba.keyPath="indexId",Ba.collectionGroupIndex="collectionGroupIndex",Ba.collectionGroupIndexPath="collectionGroup";class za{constructor(e,t,n,r,s,i){this.indexId=e,this.uid=t,this.sequenceNumber=n,this.readTime=r,this.documentKey=s,this.largestBatchId=i}}za.store="indexState",za.keyPath=["indexId","uid"],za.sequenceNumberIndex="sequenceNumberIndex",za.sequenceNumberIndexPath=["uid","sequenceNumber"];class Ha{constructor(e,t,n,r,s){this.indexId=e,this.uid=t,this.arrayValue=n,this.directionalValue=r,this.documentKey=s}}Ha.store="indexEntries",Ha.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Ha.documentKeyIndex="documentKeyIndex",Ha.documentKeyIndexPath=["indexId","uid","documentKey"];class Ga{constructor(e,t,n,r,s,i){this.userId=e,this.collectionPath=t,this.documentId=n,this.collectionGroup=r,this.largestBatchId=s,this.overlayMutation=i}}Ga.store="documentOverlays",Ga.keyPath=["userId","collectionPath","documentId"],Ga.collectionPathOverlayIndex="collectionPathOverlayIndex",Ga.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Ga.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Ga.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const Ya=[xa.store,Oa.store,Na.store,Pa.store,La.store,Aa.store,Fa.store,Ma.store,Va.store,$a.store,Ua.store,ja.store,qa.store],Ka=[...Ya,Ga.store],Wa=[...Ka,Ba.store,za.store,Ha.store],Xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Za{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Za((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Za?t:Za.resolve(t)}catch(e){return Za.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Za.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Za.reject(t)}static resolve(e){return new Za((t,n)=>{t(e)})}static reject(e){return new Za((t,n)=>{n(e)})}static waitFor(e){return new Za((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Za.resolve(!1);for(const n of e)t=t.next(e=>e?Za.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Ja{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Wr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new nc(e,t.error)):this.At.resolve()},this.transaction.onerror=t=>{const n=ac(t.target.error);this.At.reject(new nc(e,n))}}static open(e,t,n,r){try{return new Ja(t,e.transaction(r,n))}catch(e){throw new nc(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Vr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sc(t)}}class ec{constructor(e,t,n){this.name=e,this.version=t,this.bt=n,12.2===ec.vt((0,k.z$)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vr("SimpleDb","Removing database:",e),ic(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,k.hl)())return!1;if(ec.St())return!0;const e=(0,k.z$)(),t=ec.vt(e),n=0<t&&t<10,r=ec.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async xt(e){return this.db||(Vr("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new nc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;n("VersionError"===r.name?new Kr(Yr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===r.name?new Kr(Yr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r):new nc(e,r))},r.onupgradeneeded=e=>{Vr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion),this.bt.kt(e.target.result,r.transaction,e.oldVersion,this.version).next(()=>{Vr("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Ot&&(this.db.onversionchange=e=>this.Ot(e)),this.db}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const s="readonly"===t;let i=0;for(;;){++i;try{this.db=await this.xt(e);const t=Ja.open(this.db,e,s?"readonly":"readwrite",n),i=r(t).next(e=>(t.Pt(),e)).catch(e=>(t.abort(e),Za.reject(e))).toPromise();return i.catch(()=>{}),await t.Rt,i}catch(e){const t="FirebaseError"!==e.name&&i<3;if(Vr("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tc{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return ic(this.$t.delete())}}class nc extends Kr{constructor(e,t){super(Yr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rc(e){return"IndexedDbTransactionError"===e.name}class sc{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Vr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ic(n)}add(e){return Vr("SimpleDb","ADD",this.store.name,e,e),ic(this.store.add(e))}get(e){return ic(this.store.get(e)).next(t=>(void 0===t&&(t=null),Vr("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Vr("SimpleDb","DELETE",this.store.name,e),ic(this.store.delete(e))}count(){return Vr("SimpleDb","COUNT",this.store.name),ic(this.store.count())}qt(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.Kt(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new Za((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}Gt(e,t){Vr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.jt=!1;const r=this.cursor(n);return this.Kt(r,(e,t,n)=>n.delete())}Qt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Kt(r,t)}Wt(e){const t=this.cursor({});return new Za((n,r)=>{t.onerror=e=>{const t=ac(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Kt(e,t){const n=[];return new Za((r,s)=>{e.onerror=e=>{s(e.target.error)},e.onsuccess=e=>{const s=e.target.result;if(!s)return void r();const i=new tc(s),o=t(s.primaryKey,s.value,i);if(o instanceof Za){const e=o.catch(e=>(i.done(),Za.reject(e)));n.push(e)}i.isDone?r():null===i.Lt?s.continue():s.continue(i.Lt)}}).next(()=>Za.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ic(e){return new Za((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=ac(e.target.error);n(t)}})}let oc=!1;function ac(e){const t=ec.vt((0,k.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Kr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oc||(oc=!0,setTimeout(()=>{throw e},0)),e}}return e}class cc extends Qa{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function lc(e,t){const n=Gr(e);return ec.Nt(n.zt,t)}class uc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&so(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&io(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&io(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(hs.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Po())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(e,t)=>ao(e,t))&&cs(this.baseMutations,e.baseMutations,(e,t)=>ao(e,t))}}class hc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Hr(e.mutations.length===n.length);let r=Do;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new hc(e,t,n,r)}}class dc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fc{constructor(e,t,n,r,s=hs.min(),i=hs.min(),o=bs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pc{constructor(e){this.Ht=e}}function gc(e,t){let n;if(t.document)n=ca(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Rs.fromSegments(t.noDocument.path),r=bc(t.noDocument.readTime);n=Qs.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return zr();{const e=Rs.fromSegments(t.unknownDocument.path),r=bc(t.unknownDocument.version);n=Qs.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(vc(t.readTime)),n}function mc(e,t){const n=yc(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const s=function(e,t){return{name:ta(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Wo(e,t.version.toTimestamp())}}(e.Ht,t);return new Pa(null,null,s,t.hasCommittedMutations,n,r)}if(t.isNoDocument()){const e=t.key.path.toArray(),s=wc(t.version),i=t.hasCommittedMutations;return new Pa(null,new Da(e,s),null,i,n,r)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),s=wc(t.version);return new Pa(new Ra(e,s),null,null,!0,n,r)}return zr()}function yc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vc(e){const t=new us(e[0],e[1]);return hs.fromTimestamp(t)}function wc(e){const t=e.toTimestamp();return new ka(t.seconds,t.nanoseconds)}function bc(e){const t=new us(e.seconds,e.nanoseconds);return hs.fromTimestamp(t)}function _c(e,t){const n=(t.baseMutations||[]).map(t=>ua(e.Ht,t));for(let i=0;i<t.mutations.length-1;++i){const e=t.mutations[i];i+1<t.mutations.length&&void 0!==t.mutations[i+1].transform&&(e.updateTransforms=t.mutations[i+1].transform.fieldTransforms,t.mutations.splice(i+1,1),++i)}const r=t.mutations.map(t=>ua(e.Ht,t)),s=us.fromMillis(t.localWriteTimeMs);return new uc(t.batchId,s,n,r)}function Sc(e){const t=bc(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?bc(e.lastLimboFreeSnapshotVersion):hs.min();let r;var s;return void 0!==e.query.documents?(Hr(1===(s=e.query).documents.length),r=Oi(Ii(sa(s.documents[0])))):r=function(e){return Oi(fa(e))}(e.query),new fc(r,e.targetId,0,e.lastListenSequenceNumber,t,n,bs.fromBase64String(e.resumeToken))}function Ic(e,t){const n=wc(t.snapshotVersion),r=wc(t.lastLimboFreeSnapshotVersion);let s;s=oi(t.target)?ha(e.Ht,t.target):da(e.Ht,t.target);const i=t.resumeToken.toBase64();return new La(t.targetId,si(t.target),n,i,t.sequenceNumber,r,s)}function Ec(e){const t=fa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ni(t,t.limit,"L"):t}function Tc(e,t){return new dc(t.largestBatchId,ua(e.Ht,t.overlayMutation))}function Cc(e,t){const n=t.path.lastSegment();return[e,Ia(t.path.popLast()),n]}class kc{getBundleMetadata(e,t){return Ac(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:bc(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Ac(e).put({bundleId:(n=t).id,createTime:wc(Zo(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return xc(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Ec(t.bundledQuery),readTime:bc(t.readTime)};var t})}saveNamedQuery(e,t){return xc(e).put(function(e){return{name:e.name,readTime:wc(Zo(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Ac(e){return lc(e,ja.store)}function xc(e){return lc(e,qa.store)}class Oc{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new Oc(e,t.uid||"")}getOverlay(e,t){return Nc(e).get(Cc(this.userId,t)).next(e=>e?Tc(this.O,e):null)}saveOverlays(e,t,n){const r=[];return n.forEach(n=>{const s=new dc(t,n);r.push(this.Yt(e,s))}),Za.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(Ia(e.getCollectionPath())));const s=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);s.push(Nc(e).Gt(Ga.collectionPathOverlayIndex,r))}),Za.waitFor(s)}getOverlaysForCollection(e,t,n){const r=new Map,s=Ia(t),i=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Nc(e).qt(Ga.collectionPathOverlayIndex,i).next(e=>{for(const t of e){const e=Tc(this.O,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const s=new Map;let i;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Nc(e).Qt({index:Ga.collectionGroupOverlayIndex,range:o},(e,t,n)=>{const o=Tc(this.O,t);s.size<r||o.largestBatchId===i?(s.set(o.getKey(),o),i=o.largestBatchId):n.done()}).next(()=>s)}Yt(e,t){return Nc(e).put(function(e,t,n){const[r,s,i]=Cc(t,n.mutation.key);return new Ga(t,s,i,n.mutation.key.getCollectionGroup(),n.largestBatchId,la(e.Ht,n.mutation))}(this.O,this.userId,t))}}function Nc(e){return lc(e,Ga.store)}class Dc{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Is(e.integerValue));else if("doubleValue"in e){const n=Is(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Ns(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ee(t,20),"string"==typeof n?t.se(n):(t.se(`${n.seconds||""}`),t.ne(n.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Es(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ee(t,45),t.ne(n.latitude||0),t.ne(n.longitude||0)}else"mapValue"in e?Ls(e,Ps)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):zr()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const n=e.fields||{};this.ee(t,55);for(const r of Object.keys(n))this.ie(r,t),this.Zt(n[r],t)}ae(e,t){const n=e.values||[];this.ee(t,50);for(const r of n)this.Zt(r,t)}ce(e,t){this.ee(t,37),Rs.fromName(e).path.forEach(e=>{this.ee(t,60),this.he(e,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function Rc(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Pc(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Rc(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Dc.le=new Dc;class $c{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.de(n.value),n=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.me(n.value),n=t.next();this.ge()}ye(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.de(e);else if(e<2048)this.de(960|e>>>6),this.de(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.de(480|e>>>12),this.de(128|63&e>>>6),this.de(128|63&e);else{const e=t.codePointAt(0);this.de(240|e>>>18),this.de(128|63&e>>>12),this.de(128|63&e>>>6),this.de(128|63&e)}}this._e()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.me(e);else if(e<2048)this.me(960|e>>>6),this.me(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.me(480|e>>>12),this.me(128|63&e>>>6),this.me(128|63&e);else{const e=t.codePointAt(0);this.me(240|e>>>18),this.me(128|63&e>>>12),this.me(128|63&e>>>6),this.me(128|63&e)}}this.ge()}Ie(e){const t=this.Ee(e),n=Pc(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ae(e){const t=this.Ee(e),n=Pc(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Lc{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class Mc{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class Fc{constructor(){this.Se=new $c,this.De=new Lc(this.Se),this.Ce=new Mc(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class Uc{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}}function Vc(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Rs.comparator(e.documentKey,t.documentKey),0!==n?n:(n=jc(e.arrayValue,t.arrayValue),0!==n?n:jc(e.directionalValue,t.directionalValue)))}function jc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class qc{constructor(){this.xe=new Bc}addToCollectionParentIndex(e,t){return this.xe.add(t),Za.resolve()}getCollectionParents(e,t){return Za.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return Za.resolve()}deleteFieldIndex(e,t){return Za.resolve()}getDocumentsMatchingTarget(e,t,n){return Za.resolve(Po())}getFieldIndex(e,t){return Za.resolve(null)}getFieldIndexes(e,t){return Za.resolve([])}getNextCollectionGroupToUpdate(e){return Za.resolve(null)}updateCollectionGroup(e,t,n){return Za.resolve()}updateIndexEntries(e,t){return Za.resolve()}}class Bc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new To(ms.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new To(ms.comparator)).toArray()}}class zc{constructor(e){this.user=e,this.ke=new Bc,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const s={collectionId:n,parent:Ia(r)};return Hc(e).put(s)}return Za.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ls(t),""],!1,!0);return Hc(e).qt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ca(r.parent))}return n})}addFieldIndex(e,t){const n=Yc(e),r=function(e){return new Ba(e.indexId,e.collectionGroup,e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind]))}(t);return delete r.indexId,n.add(r).next()}deleteFieldIndex(e,t){const n=Yc(e),r=Kc(e),s=Gc(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,n){return Za.resolve(Po())}getFieldIndex(e,t){return Za.resolve(null)}Oe(e,t){const n=new Fc;for(const r of function(e){return e.fields.filter(e=>2!==e.kind)}(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const s=n.Ne(r.kind);Dc.le.Xt(e,s)}return n.Ve()}Me(e){const t=new Fc;return Dc.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const n=Yc(e),r=Kc(e);return(t?n.qt(Ba.collectionGroupIndex,IDBKeyRange.bound(t,t)):n.qt()).next(e=>{const t=[];return Za.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new ei(t.sequenceNumber,new ti(bc(t.readTime),new Rs(Ca(t.documentKey)),t.largestBatchId)):ei.empty(),r=e.fields.map(([e,t])=>new Js(vs.fromServerFormat(e),t));return new Zs(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>e.indexState.sequenceNumber-t.indexState.sequenceNumber),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=Yc(e),s=Kc(e);return this.$e(e).next(e=>r.qt(Ba.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(t=>Za.forEach(t,t=>s.put(function(e,t,n,r){return new za(e,t.uid||"",n,wc(r.readTime),Ia(r.documentKey.path),r.largestBatchId)}(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Za.forEach(t,(t,r)=>{const s=n.get(t.collectionGroup);return(s?Za.resolve(s):this.getFieldIndexes(e,t.collectionGroup)).next(s=>(n.set(t.collectionGroup,s),Za.forEach(s,n=>this.Fe(e,t,n).next(t=>{const s=this.Be(r,n);return t.isEqual(s)?Za.resolve():this.Le(e,r,t,s)}))))})}Ue(e,t,n){return Gc(e).put(new Ha(n.indexId,this.uid,n.arrayValue,n.directionalValue,Ia(t.key.path)))}qe(e,t,n){return Gc(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Ia(t.key.path)])}Fe(e,t,n){const r=Gc(e);let s=new To(Vc);return r.Qt({index:Ha.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,Ia(t.path)])},(e,r)=>{s=s.add(new Uc(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>s)}Be(e,t){let n=new To(Vc);const r=this.Oe(t,e);if(null==r)return n;const s=function(e){return e.fields.find(e=>2===e.kind)}(t);if(null!=s){const i=e.data.field(s.fieldPath);if(zs(i))for(const s of i.arrayValue.values||[])n=n.add(new Uc(t.indexId,e.key,this.Me(s),r))}else n=n.add(new Uc(t.indexId,e.key,new Uint8Array,r));return n}Le(e,t,n,r){Vr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,s){const i=e.getIterator(),o=t.getIterator();let a=ko(i),c=ko(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=ko(o)):t?(s(a),a=ko(i)):(a=ko(i),c=ko(o))}}(n,r,Vc,n=>{s.push(this.Ue(e,t,n))},n=>{s.push(this.qe(e,t,n))}),Za.waitFor(s)}$e(e){let t=1;return Kc(e).Qt({index:za.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}}function Hc(e){return lc(e,Ua.store)}function Gc(e){return lc(e,Ha.store)}function Yc(e){return lc(e,Ba.store)}function Kc(e){return lc(e,za.store)}const Wc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Xc(e,Xc.DEFAULT_COLLECTION_PERCENTILE,Xc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qc(e,t,n){const r=e.store(Oa.store),s=e.store(Na.store),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Qt({range:o},(e,t,n)=>(a++,n.delete()));i.push(c.next(()=>{Hr(1===a)}));const l=[];for(const u of n.mutations){const e=Na.key(t,u.key.path,n.batchId);i.push(s.delete(e)),l.push(u.key)}return Za.waitFor(i).next(()=>l)}function Zc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zr();t=e.noDocument}return JSON.stringify(t).length}Xc.DEFAULT_COLLECTION_PERCENTILE=10,Xc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xc.DEFAULT=new Xc(41943040,Xc.DEFAULT_COLLECTION_PERCENTILE,Xc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xc.DISABLED=new Xc(-1,0,0);class Jc{constructor(e,t,n,r){this.userId=e,this.O=t,this.indexManager=n,this.referenceDelegate=r,this.Ke={}}static Jt(e,t,n,r){Hr(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Jc(s,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).Qt({index:Oa.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const s=nl(e),i=tl(e);return i.add({}).next(o=>{Hr("number"==typeof o);const a=new uc(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>la(e.Ht,t)),s=n.mutations.map(t=>la(e.Ht,t));return new Oa(t,n.batchId,n.localWriteTime.toMillis(),r,s)}(this.O,this.userId,a),l=[];let u=new To((e,t)=>as(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Na.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(i.put(c)),l.push(s.put(t,Na.PLACEHOLDER))}return u.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Ke[o]=a.keys()}),Za.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return tl(e).get(t).next(e=>e?(Hr(e.userId===this.userId),_c(this.O,e)):null)}Ge(e,t){return this.Ke[t]?Za.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Ke[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return tl(e).Qt({index:Oa.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Hr(t.batchId>=n),s=_c(this.O,t)),r.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return tl(e).Qt({index:Oa.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tl(e).qt(Oa.userMutationsIndex,t).next(e=>e.map(e=>_c(this.O,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Na.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),s=[];return nl(e).Qt({range:r},(n,r,i)=>{const[o,a,c]=n,l=Ca(a);if(o===this.userId&&t.path.isEqual(l))return tl(e).get(c).next(e=>{if(!e)throw zr();Hr(e.userId===this.userId),s.push(_c(this.O,e))});i.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new To(as);const r=[];return t.forEach(t=>{const s=Na.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(s),o=nl(e).Qt({range:i},(e,r,s)=>{const[i,o,a]=e,c=Ca(o);i===this.userId&&t.path.isEqual(c)?n=n.add(a):s.done()});r.push(o)}),Za.waitFor(r).next(()=>this.je(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,s=Na.prefixForPath(this.userId,n),i=IDBKeyRange.lowerBound(s);let o=new To(as);return nl(e).Qt({range:i},(e,t,s)=>{const[i,a,c]=e,l=Ca(a);i===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):s.done()}).next(()=>this.je(e,o))}je(e,t){const n=[],r=[];return t.forEach(t=>{r.push(tl(e).get(t).next(e=>{if(null===e)throw zr();Hr(e.userId===this.userId),n.push(_c(this.O,e))}))}),Za.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Qc(e.zt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),Za.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Za.resolve();const n=IDBKeyRange.lowerBound(Na.prefixForUser(this.userId)),r=[];return nl(e).Qt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Ca(e[1]);r.push(t)}else n.done()}).next(()=>{Hr(0===r.length)})})}containsKey(e,t){return el(e,this.userId,t)}We(e){return rl(e).get(this.userId).next(e=>e||new xa(this.userId,-1,""))}}function el(e,t,n){const r=Na.prefixForPath(t,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return nl(e).Qt({range:i,jt:!0},(e,n,r)=>{const[i,a,c]=e;i===t&&a===s&&(o=!0),r.done()}).next(()=>o)}function tl(e){return lc(e,Oa.store)}function nl(e){return lc(e,Na.store)}function rl(e){return lc(e,xa.store)}class sl{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new sl(0)}static Je(){return new sl(-1)}}class il{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const n=new sl(t.highestTargetId);return t.highestTargetId=n.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(e=>hs.fromTimestamp(new us(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Ye(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Xe(e,r)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(n=>(n.targetCount+=1,this.tn(t,n),this.Xe(e,n))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ol(e).delete(t.targetId)).next(()=>this.Ye(e)).next(t=>(Hr(t.targetCount>0),t.targetCount-=1,this.Xe(e,t)))}removeTargets(e,t,n){let r=0;const s=[];return ol(e).Qt((i,o)=>{const a=Sc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,s.push(this.removeTargetData(e,a)))}).next(()=>Za.waitFor(s)).next(()=>r)}forEachTarget(e,t){return ol(e).Qt((e,n)=>{const r=Sc(n);t(r)})}Ye(e){return al(e).get(Fa.key).next(e=>(Hr(null!==e),e))}Xe(e,t){return al(e).put(Fa.key,t)}Ze(e,t){return ol(e).put(Ic(this.O,t))}tn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ye(e).next(e=>e.targetCount)}getTargetData(e,t){const n=si(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return ol(e).Qt({range:r,index:La.queryTargetsIndexName},(e,n,r)=>{const i=Sc(n);ii(t,i.target)&&(s=i,r.done())}).next(()=>s)}addMatchingKeys(e,t,n){const r=[],s=cl(e);return t.forEach(t=>{const i=Ia(t.path);r.push(s.put(new Ma(n,i))),r.push(this.referenceDelegate.addReference(e,n,t))}),Za.waitFor(r)}removeMatchingKeys(e,t,n){const r=cl(e);return Za.forEach(t,t=>{const s=Ia(t.path);return Za.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=cl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cl(e);let s=Po();return r.Qt({range:n,jt:!0},(e,t,n)=>{const r=Ca(e[1]),i=new Rs(r);s=s.add(i)}).next(()=>s)}containsKey(e,t){const n=Ia(t.path),r=IDBKeyRange.bound([n],[ls(n)],!1,!0);let s=0;return cl(e).Qt({index:Ma.documentTargetsIndex,jt:!0,range:r},([e,t],n,r)=>{0!==e&&(s++,r.done())}).next(()=>s>0)}Tt(e,t){return ol(e).get(t).next(e=>e?Sc(e):null)}}function ol(e){return lc(e,La.store)}function al(e){return lc(e,Fa.store)}function cl(e){return lc(e,Ma.store)}async function ll(e){if(e.code!==Yr.FAILED_PRECONDITION||e.message!==Xa)throw e;Vr("LocalStore","Unexpectedly lost primary lease")}function ul([e,t],[n,r]){const s=as(e,n);return 0===s?as(t,r):s}class hl{constructor(e){this.en=e,this.buffer=new To(ul),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ul(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dl{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){const t=this.on?3e5:6e4;Vr("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.cn=null,this.on=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){rc(e)?Vr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ll(e)}await this.un(e)})}}class fl{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Za.resolve(ss.A);const n=new hl(t);return this.an.forEachTarget(e,e=>n.rn(e.sequenceNumber)).next(()=>this.an.ln(e,e=>n.rn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.an.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vr("LruGarbageCollector","Garbage collection skipped; disabled"),Za.resolve(Wc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Vr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wc):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let n,r,s,i,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Vr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),Ur()<=C.in.DEBUG&&Vr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-l}ms\n\tDetermined least recently used ${r} in `+(o-i)+"ms\n"+`\tRemoved ${s} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-l}ms`),Za.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}class pl{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new fl(e,t)}(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}dn(e){let t=0;return this.ln(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(e,n)=>t(n))}addReference(e,t,n){return gl(e,n)}removeReference(e,t,n){return gl(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return gl(e,t)}wn(e,t){return function(e,t){let n=!1;return rl(e).Wt(r=>el(e,r,t).next(e=>(e&&(n=!0),Za.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this._n(e,(i,o)=>{if(o<=t){const t=this.wn(e,i).next(t=>{if(!t)return s++,n.getEntry(e,i).next(()=>(n.removeEntry(i,hs.min()),cl(e).delete([0,Ia(i.path)])))});r.push(t)}}).next(()=>Za.waitFor(r)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return gl(e,t)}_n(e,t){const n=cl(e);let r,s=ss.A;return n.Qt({index:Ma.documentTargetsIndex},([e,n],{path:i,sequenceNumber:o})=>{0===e?(s!==ss.A&&t(new Rs(Ca(r)),s),s=o,r=i):s=ss.A}).next(()=>{s!==ss.A&&t(new Rs(Ca(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gl(e,t){return cl(e).put(function(e,t){return new Ma(0,Ia(e.path),t)}(t,e.currentSequenceNumber))}class ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){fs(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return ps(this.inner)}}class yl{constructor(){this.changes=new ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Za.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vl{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return _l(e).put(Sl(t),n)}removeEntry(e,t){const n=_l(e),r=Sl(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.mn(e,n)))}getEntry(e,t){return _l(e).get(Sl(t)).next(e=>this.gn(t,e))}yn(e,t){return _l(e).get(Sl(t)).next(e=>({document:this.gn(t,e),size:Zc(e)}))}getEntries(e,t){let n=xo();return this.pn(e,t,(e,t)=>{const r=this.gn(e,t);n=n.insert(e,r)}).next(()=>n)}In(e,t){let n=xo(),r=new So(Rs.comparator);return this.pn(e,t,(e,t)=>{const s=this.gn(e,t);n=n.insert(e,s),r=r.insert(e,Zc(t))}).next(()=>({documents:n,En:r}))}pn(e,t,n){if(t.isEmpty())return Za.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),s=t.getIterator();let i=s.getNext();return _l(e).Qt({range:r},(e,t,r)=>{const o=Rs.fromSegments(e);for(;i&&Rs.comparator(i,o)<0;)n(i,null),i=s.getNext();i&&i.isEqual(o)&&(n(i,t),i=s.hasNext()?s.getNext():null),i?r.Ut(i.path.toArray()):r.done()}).next(()=>{for(;i;)n(i,null),i=s.hasNext()?s.getNext():null})}getAll(e,t,n){let r=xo();const s=t.length+1,i={};if(n.isEqual(hs.min())){const e=t.toArray();i.range=IDBKeyRange.lowerBound(e)}else{const e=t.toArray(),r=yc(n);i.range=IDBKeyRange.lowerBound([e,r],!0),i.index=Pa.collectionReadTimeIndex}return _l(e).Qt(i,(e,n,i)=>{if(e.length!==s)return;const o=this.gn(Rs.fromSegments(e),n);t.isPrefixOf(o.key.path)?r=r.insert(o.key,o):i.done()}).next(()=>r)}newChangeBuffer(e){return new wl(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return bl(e).get($a.key).next(e=>(Hr(!!e),e))}mn(e,t){return bl(e).put($a.key,t)}gn(e,t){if(t){const e=gc(this.O,t);if(!e.isNoDocument()||!e.version.isEqual(hs.min()))return e}return Qs.newInvalidDocument(e)}}class wl extends yl{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new ml(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new To((e,t)=>as(e.canonicalString(),t.canonicalString()));return this.changes.forEach((s,i)=>{const o=this.An.get(s);if(i.isValidDocument()){const a=mc(this.Tn.O,i);r=r.add(s.path.popLast());const c=Zc(a);n+=c-o,t.push(this.Tn.addEntry(e,s,a))}else if(n-=o,this.trackRemovals){const n=mc(this.Tn.O,i.convertToNoDocument(hs.min()));t.push(this.Tn.addEntry(e,s,n))}else t.push(this.Tn.removeEntry(e,s))}),r.forEach(n=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Tn.updateMetadata(e,n)),Za.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(e=>(this.An.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:e,En:t})=>(t.forEach((e,t)=>{this.An.set(e,t)}),e))}}function bl(e){return lc(e,$a.store)}function _l(e){return lc(e,Pa.store)}function Sl(e){return e.path.toArray()}class Il{constructor(e){this.O=e}kt(e,t,n,r){const s=new Ja("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Aa.store)}(e),function(e){e.createObjectStore(xa.store,{keyPath:xa.keyPath}),e.createObjectStore(Oa.store,{keyPath:Oa.keyPath,autoIncrement:!0}).createIndex(Oa.userMutationsIndex,Oa.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Na.store)}(e),El(e),function(e){e.createObjectStore(Pa.store)}(e));let i=Za.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ma.store),e.deleteObjectStore(La.store),e.deleteObjectStore(Fa.store)}(e),El(e)),i=i.next(()=>function(e){const t=e.store(Fa.store),n=new Fa(0,0,hs.min().toTimestamp(),0);return t.put(Fa.key,n)}(s))),n<4&&r>=4&&(0!==n&&(i=i.next(()=>function(e,t){return t.store(Oa.store).qt().next(n=>{e.deleteObjectStore(Oa.store),e.createObjectStore(Oa.store,{keyPath:Oa.keyPath,autoIncrement:!0}).createIndex(Oa.userMutationsIndex,Oa.userMutationsKeyPath,{unique:!0});const r=t.store(Oa.store),s=n.map(e=>r.put(e));return Za.waitFor(s)})}(e,s))),i=i.next(()=>{!function(e){e.createObjectStore(Va.store,{keyPath:Va.keyPath})}(e)})),n<5&&r>=5&&(i=i.next(()=>this.Rn(s))),n<6&&r>=6&&(i=i.next(()=>(function(e){e.createObjectStore($a.store)}(e),this.Pn(s)))),n<7&&r>=7&&(i=i.next(()=>this.bn(s))),n<8&&r>=8&&(i=i.next(()=>this.vn(e,s))),n<9&&r>=9&&(i=i.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Pa.store);t.createIndex(Pa.readTimeIndex,Pa.readTimeIndexPath,{unique:!1}),t.createIndex(Pa.collectionReadTimeIndex,Pa.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(i=i.next(()=>this.Vn(s))),n<11&&r>=11&&(i=i.next(()=>{!function(e){e.createObjectStore(ja.store,{keyPath:ja.keyPath})}(e),function(e){e.createObjectStore(qa.store,{keyPath:qa.keyPath})}(e)})),n<12&&r>=12&&(i=i.next(()=>{!function(e){const t=e.createObjectStore(Ga.store,{keyPath:Ga.keyPath});t.createIndex(Ga.collectionPathOverlayIndex,Ga.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Ga.collectionGroupOverlayIndex,Ga.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),n<13&&r>=13&&(i=i.next(()=>{!function(e){e.createObjectStore(Ba.store,{keyPath:Ba.keyPath,autoIncrement:!0}).createIndex(Ba.collectionGroupIndex,Ba.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(za.store,{keyPath:za.keyPath}).createIndex(za.sequenceNumberIndex,za.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Ha.store,{keyPath:Ha.keyPath}).createIndex(Ha.documentKeyIndex,Ha.documentKeyIndexPath,{unique:!1})}(e)})),i}Pn(e){let t=0;return e.store(Pa.store).Qt((e,n)=>{t+=Zc(n)}).next(()=>{const n=new $a(t);return e.store($a.store).put($a.key,n)})}Rn(e){const t=e.store(xa.store),n=e.store(Oa.store);return t.qt().next(t=>Za.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.qt(Oa.userMutationsIndex,r).next(n=>Za.forEach(n,n=>{Hr(n.userId===t.userId);const r=_c(this.O,n);return Qc(e,t.userId,r).next(()=>{})}))}))}bn(e){const t=e.store(Ma.store),n=e.store(Pa.store);return e.store(Fa.store).get(Fa.key).next(e=>{const r=[];return n.Qt((n,s)=>{const i=new ms(n),o=function(e){return[0,Ia(e)]}(i);r.push(t.get(o).next(n=>n?Za.resolve():(n=>t.put(new Ma(0,Ia(n),e.highestListenSequenceNumber)))(i)))}).next(()=>Za.waitFor(r))})}vn(e,t){e.createObjectStore(Ua.store,{keyPath:Ua.keyPath});const n=t.store(Ua.store),r=new Bc,s=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ia(r)})}};return t.store(Pa.store).Qt({jt:!0},(e,t)=>{const n=new ms(e);return s(n.popLast())}).next(()=>t.store(Na.store).Qt({jt:!0},([e,t,n],r)=>{const i=Ca(t);return s(i.popLast())}))}Vn(e){const t=e.store(La.store);return t.Qt((e,n)=>{const r=Sc(n),s=Ic(this.O,r);return t.put(s)})}}function El(e){e.createObjectStore(Ma.store,{keyPath:Ma.keyPath}).createIndex(Ma.documentTargetsIndex,Ma.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(La.store,{keyPath:La.keyPath}).createIndex(La.queryTargetsIndexName,La.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Fa.store)}const Tl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cl{constructor(e,t,n,r,s,i,o,a,c,l,u=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Sn=s,this.window=i,this.document=o,this.Dn=c,this.Cn=l,this.schemaVersion=u,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=e=>Promise.resolve(),!Cl.Vt())throw new Kr(Yr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pl(this,r),this.Bn=t+"main",this.O=new pc(a),this.Ln=new ec(this.Bn,this.schemaVersion,new Il(this.O)),this.Un=new il(this.referenceDelegate,this.O),this.qn=function(e){return new vl(e)}(this.O),this.Kn=new kc,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Kr(Yr.FAILED_PRECONDITION,Tl);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new ss(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){return this.Fn=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(async()=>{this.started&&await this.jn()}))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Al(e).put(new Va(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(e=>{e||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(rc(e))return Vr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return kl(e).get(Aa.key).next(e=>Za.resolve(this.ts(e)))}es(e){return Al(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.ss(this.$n,18e5)){this.$n=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=lc(e,Va.store);return t.qt().next(e=>{const n=this.rs(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return Za.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Gn)for(const t of e)this.Gn.removeItem(this.os(t.clientId))}}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?Za.resolve(!0):kl(e).get(Aa.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Kr(Yr.FAILED_PRECONDITION,Tl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Al(e).qt().next(e=>void 0===this.rs(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Vr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),await this.Ln.runTransaction("shutdown","readwrite",[Aa.store,Va.store],e=>{const t=new cc(e,ss.A);return this.Xn(t).next(()=>this.es(t))}),this.Ln.close(),this.fs()}rs(e,t){return e.filter(e=>this.ss(e.updateTimeMs,t)&&!this.cs(e.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>Al(e).qt().next(e=>this.rs(e,18e5).map(e=>e.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return Jc.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new zc(e)}getDocumentOverlayCache(e){return Oc.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,n){Vr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=13===(i=this.schemaVersion)?Wa:12===i?Ka:11===i?Ya:void zr();var i;let o;return this.Ln.runTransaction(e,r,s,r=>(o=new cc(r,this.Nn?this.Nn.next():ss.A),"readwrite-primary"===t?this.Jn(o).next(e=>!!e||this.Yn(o)).next(t=>{if(!t)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Kr(Yr.FAILED_PRECONDITION,Xa);return n(o)}).next(e=>this.Zn(o).next(()=>e)):this._s(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}_s(e){return kl(e).get(Aa.key).next(e=>{if(null!==e&&this.ss(e.leaseTimestampMs,5e3)&&!this.cs(e.ownerId)&&!this.ts(e)&&!(this.Cn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Kr(Yr.FAILED_PRECONDITION,Tl)})}Zn(e){const t=new Aa(this.clientId,this.allowTabSynchronization,Date.now());return kl(e).put(Aa.key,t)}static Vt(){return ec.Vt()}Xn(e){const t=kl(e);return t.get(Aa.key).next(e=>this.ts(e)?(Vr("IndexedDbPersistence","Releasing primary lease."),t.delete(Aa.key)):Za.resolve())}ss(e,t){const n=Date.now();return!(e<n-t||e>n&&(jr(`Detected an update time that is in the future: ${e} > ${n}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,k.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Vr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return jr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(j){jr("Failed to set zombie client id.",j)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(j){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kl(e){return lc(e,Aa.store)}function Al(e){return lc(e,Va.store)}function xl(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Ol{constructor(e,t){this.progress=e,this.ws=t}}class Nl{constructor(e,t,n){this.qn=e,this.gs=t,this.indexManager=n}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.ps(e,t,n))}ps(e,t,n){return this.qn.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Is(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Es(e,t){return this.qn.getEntries(e,t).next(t=>this.Ts(e,t).next(()=>t))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Is(t,e))}As(e,t,n){return function(e){return Rs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):Ai(t)?this.Ps(e,t,n):this.bs(e,t,n)}Rs(e,t){return this.ys(e,new Rs(t)).next(e=>{let t=No();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Ps(e,t,n){const r=t.collectionGroup;let s=No();return this.indexManager.getCollectionParents(e,r).next(i=>Za.forEach(i,i=>{const o=function(e,t){return new _i(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.bs(e,o,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}bs(e,t,n){let r;return this.qn.getAll(e,t.path,n).next(n=>(r=n,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let s=r.get(n);null==s&&(s=Qs.newInvalidDocument(n),r=r.insert(n,s)),io(e,s,t.localWriteTime),s.isFoundDocument()||(r=r.remove(n))}}).next(()=>(r.forEach((e,n)=>{$i(t,n)||(r=r.remove(e))}),r))}}class Dl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.vs=n,this.Vs=r}static Ss(e,t){let n=Po(),r=Po();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Dl(e,t.fromCache,n,r)}}class Rl{Ds(e){this.Cs=e}As(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(hs.min())?this.Ns(e,t):this.Cs.Es(e,r).next(s=>{const i=this.xs(t,s);return(Ei(t)||Ti(t))&&this.ks(t.limitType,i,r,n)?this.Ns(e,t):(Ur()<=C.in.DEBUG&&Vr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Pi(t)),this.Cs.As(e,t,n).next(e=>(i.forEach(t=>{e=e.insert(t.key,t)}),e)))})}xs(e,t){let n=new To(Li(e));return t.forEach((t,r)=>{$i(e,r)&&(n=n.add(r))}),n}ks(e,t,n,r){if(n.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ns(e,t){return Ur()<=C.in.DEBUG&&Vr("QueryEngine","Using full collection scan to execute query:",Pi(t)),this.Cs.As(e,t,hs.min())}}class Pl{constructor(e,t,n,r){this.persistence=e,this.Os=t,this.O=r,this.Ms=new So(as),this.$s=new ml(e=>si(e),ii),this.Fs=hs.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(n)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Nl(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function $l(e,t,n,r){return new Pl(e,t,n,r)}async function Ll(e,t){const n=Gr(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.gs.getAllMutationBatches(e).next(s=>(r=s,n.Ls(t),n.gs.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let o=Po();for(const e of r){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.Us.Es(e,o).next(e=>({qs:e,removedBatchIds:s,addedBatchIds:i}))})})}function Ml(e){const t=Gr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Un.getLastRemoteSnapshotVersion(e))}function Fl(e,t,n){let r=Po();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=xo();return n.forEach((n,s)=>{const i=e.get(n);s.isNoDocument()&&s.version.isEqual(hs.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!i.isValidDocument()||s.version.compareTo(i.version)>0||0===s.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Vr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",s.version)}),r})}function Ul(e,t){const n=Gr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)))}function Vl(e,t){const n=Gr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Un.getTargetData(e,t).next(s=>s?(r=s,Za.resolve(r)):n.Un.allocateTargetId(e).next(s=>(r=new fc(t,s,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e})}async function jl(e,t,n){const r=Gr(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!rc(e))throw e;Vr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.$s.delete(s.target)}function ql(e,t,n){const r=Gr(e);let s=hs.min(),i=Po();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Gr(e),s=r.$s.get(n);return void 0!==s?Za.resolve(r.Ms.get(s)):r.Un.getTargetData(t,n)}(r,e,Oi(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Os.As(e,t,n?s:hs.min(),n?i:Po())).next(e=>({documents:e,Ks:i})))}function Bl(e,t){const n=Gr(e),r=Gr(n.Un),s=n.Ms.get(t);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function zl(e){const t=Gr(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Gr(e);let s=xo(),i=yc(n);const o=_l(t),a=IDBKeyRange.lowerBound(i,!0);return o.Qt({index:Pa.readTimeIndex,range:a},(e,t)=>{const n=gc(r.O,t);s=s.insert(n.key,n),i=t.readTime}).next(()=>({ws:s,readTime:vc(i)}))}(t.Bs,e,t.Fs)).then(({ws:e,readTime:n})=>(t.Fs=n,e))}async function Hl(e,t,n=Po()){const r=await Vl(e,Oi(Ec(t.bundledQuery))),s=Gr(e);return s.persistence.runTransaction("Save named query","readwrite",e=>{const i=Zo(t.readTime);if(r.snapshotVersion.compareTo(i)>=0)return s.Kn.saveNamedQuery(e,t);const o=r.withResumeToken(bs.EMPTY_BYTE_STRING,i);return s.Ms=s.Ms.insert(o.targetId,o),s.Un.updateTargetData(e,o).next(()=>s.Un.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>s.Un.addMatchingKeys(e,n,r.targetId)).next(()=>s.Kn.saveNamedQuery(e,t))})}class Gl{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return Za.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Zo(n.createTime)}),Za.resolve()}getNamedQuery(e,t){return Za.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:Ec(e.bundledQuery),readTime:Zo(e.readTime)}}(t)),Za.resolve()}}class Yl{constructor(){this.overlays=new So(Rs.comparator),this.Hs=new Map}getOverlay(e,t){return Za.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(n=>{this.Yt(e,t,n)}),Za.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Hs.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Hs.delete(n)),Za.resolve()}getOverlaysForCollection(e,t,n){const r=new Map,s=t.length+1,i=new Rs(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Za.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new So((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=new Map,s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=new Map,a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(t,e)),!(o.size>=r)););return Za.resolve(o)}Yt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new dc(t,n));let s=this.Hs.get(t);void 0===s&&(s=new Set,this.Hs.set(t,s)),s.add(n.key)}}class Kl{constructor(){this.Js=new To(Wl.Ys),this.Xs=new To(Wl.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const n=new Wl(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}ti(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ei(new Wl(e,t))}ni(e,t){e.forEach(e=>this.removeReference(e,t))}si(e){const t=new Rs(new ms([])),n=new Wl(t,e),r=new Wl(t,e+1),s=[];return this.Xs.forEachInRange([n,r],e=>{this.ei(e),s.push(e.key)}),s}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new Rs(new ms([])),n=new Wl(t,e),r=new Wl(t,e+1);let s=Po();return this.Xs.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new Wl(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Wl{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return Rs.comparator(e.key,t.key)||as(e.oi,t.oi)}static Zs(e,t){return as(e.oi,t.oi)||Rs.comparator(e.key,t.key)}}class Xl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new To(Wl.Ys)}checkEmpty(e){return Za.resolve(0===this.gs.length)}addMutationBatch(e,t,n,r){const s=this.ci;this.ci++;const i=new uc(s,t,n,r);this.gs.push(i);for(const o of r)this.ui=this.ui.add(new Wl(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Za.resolve(i)}lookupMutationBatch(e,t){return Za.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.hi(t+1),r=n<0?0:n;return Za.resolve(this.gs.length>r?this.gs[r]:null)}getHighestUnacknowledgedBatchId(){return Za.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return Za.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Wl(t,0),r=new Wl(t,Number.POSITIVE_INFINITY),s=[];return this.ui.forEachInRange([n,r],e=>{const t=this.ai(e.oi);s.push(t)}),Za.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new To(as);return t.forEach(e=>{const t=new Wl(e,0),r=new Wl(e,Number.POSITIVE_INFINITY);this.ui.forEachInRange([t,r],e=>{n=n.add(e.oi)})}),Za.resolve(this.li(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Rs.isDocumentKey(s)||(s=s.child(""));const i=new Wl(new Rs(s),0);let o=new To(as);return this.ui.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)},i),Za.resolve(this.li(o))}li(e){const t=[];return e.forEach(e=>{const n=this.ai(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Hr(0===this.fi(t.batchId,"removed")),this.gs.shift();let n=this.ui;return Za.forEach(t.mutations,r=>{const s=new Wl(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ui=n})}Qe(e){}containsKey(e,t){const n=new Wl(t,0),r=this.ui.firstAfterOrEqual(n);return Za.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Za.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class Ql{constructor(e){this.di=e,this.docs=new So(Rs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Za.resolve(n?n.document.mutableCopy():Qs.newInvalidDocument(t))}getEntries(e,t){let n=xo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qs.newInvalidDocument(e))}),Za.resolve(n)}getAll(e,t,n){let r=xo();const s=new Rs(t.child("")),i=this.docs.getIteratorFrom(s);for(;i.hasNext();){const{key:e,value:{document:s}}=i.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Za.resolve(r)}_i(e,t){return Za.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Zl(this)}getSize(e){return Za.resolve(this.size)}}class Zl extends yl{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Tn.addEntry(e,r)):this.Tn.removeEntry(n)}),Za.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class Jl{constructor(e){this.persistence=e,this.wi=new ml(e=>si(e),ii),this.lastRemoteSnapshotVersion=hs.min(),this.highestTargetId=0,this.mi=0,this.gi=new Kl,this.targetCount=0,this.yi=sl.He()}forEachTarget(e,t){return this.wi.forEach((e,n)=>t(n)),Za.resolve()}getLastRemoteSnapshotVersion(e){return Za.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Za.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),Za.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Za.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,Za.resolve()}updateTargetData(e,t){return this.Ze(t),Za.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Za.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.wi.forEach((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.wi.delete(i),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Za.waitFor(s).next(()=>r)}getTargetCount(e){return Za.resolve(this.targetCount)}getTargetData(e,t){const n=this.wi.get(t)||null;return Za.resolve(n)}addMatchingKeys(e,t,n){return this.gi.ti(t,n),Za.resolve()}removeMatchingKeys(e,t,n){this.gi.ni(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Za.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),Za.resolve()}getMatchingKeysForTargetId(e,t){const n=this.gi.ri(t);return Za.resolve(n)}containsKey(e,t){return Za.resolve(this.gi.containsKey(t))}}class eu{constructor(e,t){this.pi={},this.overlays={},this.Nn=new ss(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new Jl(this),this.indexManager=new qc,this.qn=function(e){return new Ql(e)}(e=>this.referenceDelegate.Ii(e)),this.O=new pc(t),this.Kn=new Gl(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.pi[e.toKey()];return n||(n=new Xl(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,n){Vr("MemoryPersistence","Starting transaction:",e);const r=new tu(this.Nn.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.Ti(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Za.or(Object.values(this.pi).map(n=>()=>n.containsKey(e,t)))}}class tu extends Qa{constructor(e){super(),this.currentSequenceNumber=e}}class nu{constructor(e){this.persistence=e,this.Ri=new Kl,this.Pi=null}static bi(e){return new nu(e)}get vi(){if(this.Pi)return this.Pi;throw zr()}addReference(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Za.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Za.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),Za.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(e=>this.vi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.vi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Za.forEach(this.vi,n=>{const r=Rs.fromPath(n);return this.Vi(e,r).next(e=>{e||t.removeEntry(r,hs.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(e=>{e?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return Za.or([()=>Za.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function ru(e,t){return`firestore_clients_${e}_${t}`}function su(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function iu(e,t){return`firestore_targets_${e}_${t}`}class ou{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Si(e,t,n){const r=JSON.parse(n);let s,i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(s=new Kr(r.error.code,r.error.message))),i?new ou(e,t,r.state,s):(jr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class au{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Si(e,t){const n=JSON.parse(t);let r,s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(r=new Kr(n.error.code,n.error.message))),s?new au(e,n.state,r):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,s=Lo();for(let i=0;r&&i<n.activeTargetIds.length;++i)r=Ds(n.activeTargetIds[i]),s=s.add(n.activeTargetIds[i]);return r?new cu(e,s):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lu{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lu(t.clientId,t.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uu{constructor(){this.activeTargetIds=Lo()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hu{constructor(e,t,n,r,s){this.window=e,this.Sn=t,this.persistenceKey=n,this.xi=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new So(as),this.started=!1,this.$i=[];const i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Fi=ru(this.persistenceKey,this.xi),this.Bi=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new uu),this.Li=new RegExp(`^firestore_clients_${i}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${i}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${i}_(\\d+)$`),this.Ki=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Gi=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ds();for(const n of e){if(n===this.xi)continue;const e=this.getItem(ru(this.persistenceKey,n));if(e){const t=cu.Si(n,e);t&&(this.Mi=this.Mi.insert(t.clientId,t))}}this.ji();const t=this.storage.getItem(this.Ki);if(t){const e=this.Qi(t);e&&this.Wi(e)}for(const n of this.$i)this.Oi(n);this.$i=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,n){this.Hi(e,t,n),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(iu(this.persistenceKey,e));if(n){const r=au.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iu(this.persistenceKey,e))}updateQueryState(e,t,n){this.Xi(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Ji(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Vr("SharedClientState","READ",e,t),t}setItem(e,t){Vr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Vr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){const t=e;if(t.storageArea===this.storage){if(Vr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Fi)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Li.test(t.key)){if(null==t.newValue){const e=this.er(t.key);return this.nr(e,null)}{const e=this.sr(t.key,t.newValue);if(e)return this.nr(e.clientId,e)}}else if(this.Ui.test(t.key)){if(null!==t.newValue){const e=this.ir(t.key,t.newValue);if(e)return this.rr(e)}}else if(this.qi.test(t.key)){if(null!==t.newValue){const e=this.cr(t.key,t.newValue);if(e)return this.ur(e)}}else if(t.key===this.Ki){if(null!==t.newValue){const e=this.Qi(t.newValue);if(e)return this.Wi(e)}}else if(t.key===this.Bi){const e=function(e){let t=ss.A;if(null!=e)try{const n=JSON.parse(e);Hr("number"==typeof n),t=n}catch(e){jr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ss.A&&this.sequenceNumberHandler(e)}else if(t.key===this.Gi)return this.syncEngine.ar()}else this.$i.push(t)})}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,n){const r=new ou(this.currentUser,e,t,n),s=su(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Di())}Ji(e){const t=su(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,n){const r=iu(this.persistenceKey,e),s=new au(e,t,n);this.setItem(r,s.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const n=this.er(e);return cu.Si(n,t)}ir(e,t){const n=this.Ui.exec(e),r=Number(n[1]);return ou.Si(new Lr(void 0!==n[2]?n[2]:null),r,t)}cr(e,t){const n=this.qi.exec(e),r=Number(n[1]);return au.Si(r,t)}Qi(e){return lu.Si(e)}async rr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.hr(e.batchId,e.state,e.error);Vr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const n=t?this.Mi.insert(e,t):this.Mi.remove(e),r=this.zi(this.Mi),s=this.zi(n),i=[],o=[];return s.forEach(e=>{r.has(e)||i.push(e)}),r.forEach(e=>{s.has(e)||o.push(e)}),this.syncEngine.dr(i,o).then(()=>{this.Mi=n})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Lo();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class du{constructor(){this._r=new uu,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,n){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new uu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class fu{mr(e){}shutdown(){}}class pu{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Vr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Vr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mu{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class yu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,n,r,s){const i=this.$r(e,t);Vr("RestConnection","Sending: ",i,n);const o={};return this.Fr(o,r,s),this.Br(e,i,o,n).then(e=>(Vr("RestConnection","Received: ",e),e),t=>{throw qr("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Lr(e,t,n,r,s){return this.Mr(e,t,n,r,s)}Fr(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}$r(e,t){return`${this.kr}/v1/${t}:${gu[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,n,r){return new Promise((s,i)=>{const o=new Pr;o.listenOnce(xr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ar.NO_ERROR:const t=o.getResponseJson();Vr("Connection","XHR received:",JSON.stringify(t)),s(t);break;case Ar.TIMEOUT:Vr("Connection",'RPC "'+e+'" timed out'),i(new Kr(Yr.DEADLINE_EXCEEDED,"Request time out"));break;case Ar.HTTP_ERROR:const n=o.getStatus();if(Vr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yr).indexOf(t)>=0?t:Yr.UNKNOWN}(e.status);i(new Kr(t,e.message))}else i(new Kr(Yr.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new Kr(Yr.UNAVAILABLE,"Connection failed."));break;default:zr()}}finally{Vr("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}Ur(e,t,n){const r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Cr(),i=kr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Dr({})),this.Fr(o.initMessageHeaders,t,n),(0,k.uI)()||(0,k.b$)()||(0,k.d)()||(0,k.w1)()||(0,k.Mn)()||(0,k.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Vr("Connection","Creating WebChannel: "+a,o);const c=s.createWebChannel(a,o);let l=!1,u=!1;const h=new mu({Ar:e=>{u?Vr("Connection","Not sending because WebChannel is closed:",e):(l||(Vr("Connection","Opening WebChannel transport."),c.open(),l=!0),Vr("Connection","WebChannel sending:",e),c.send(e))},Rr:()=>c.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(c,Rr.EventType.OPEN,()=>{u||Vr("Connection","WebChannel transport opened.")}),d(c,Rr.EventType.CLOSE,()=>{u||(u=!0,Vr("Connection","WebChannel transport closed"),h.Cr())}),d(c,Rr.EventType.ERROR,e=>{u||(u=!0,qr("Connection","WebChannel transport errored:",e),h.Cr(new Kr(Yr.UNAVAILABLE,"The operation could not be completed")))}),d(c,Rr.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];Hr(!!n);const r=n,s=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(s){Vr("Connection","WebChannel received error:",s);const e=s.status;let t=function(e){const t=vo[e];if(void 0!==t)return _o(t)}(e),n=s.message;void 0===t&&(t=Yr.INTERNAL,n="Unknown error status: "+e+" with message "+s.message),u=!0,h.Cr(new Kr(t,n)),c.close()}else Vr("Connection","WebChannel received:",n),h.Nr(n)}}),d(i,Or.STAT_EVENT,e=>{e.stat===Nr.PROXY?Vr("Connection","Detected buffering proxy"):e.stat===Nr.NOPROXY&&Vr("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Dr()},0),h}}function vu(){return"undefined"!=typeof window?window:null}function wu(){return"undefined"!=typeof document?document:null}function bu(e){return new Ko(e,!0)}class _u{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Sn=e,this.timerId=t,this.qr=n,this.Kr=r,this.Gr=s,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),n=Math.max(0,Date.now()-this.Wr),r=Math.max(0,t-n);r>0&&Vr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,r,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class Su{constructor(e,t,n,r,s,i,o,a){this.Sn=e,this.Xr=n,this.Zr=r,this.eo=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new _u(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}async stop(){this.oo()&&await this.close(0)}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}async lo(){if(this.co())return this.close(0)}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}async close(e,t){this._o(),this.wo(),this.ro.cancel(),this.no++,4!==e?this.ro.reset():t&&t.code===Yr.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):t&&t.code===Yr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.vr(t)}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.no===t&&this.po(e,n)},t=>{e(()=>{const e=new Kr(Yr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Io(e)})})}po(e,t){const n=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{n(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(e=>{n(()=>this.Io(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}uo(){this.state=5,this.ro.Hr(async()=>{this.state=0,this.start()})}Io(e){return Vr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(Vr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Iu extends Su{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.O=s}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zr()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.N?(Hr(void 0===t||"string"==typeof t),bs.fromBase64String(t||"")):(Hr(void 0===t||t instanceof Uint8Array),bs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Yr.UNKNOWN:_o(e.code);return new Kr(t,e.message||"")}(o);n=new jo(r,s,i,a||null)}else if("documentChange"in t){const r=t.documentChange,s=na(e,r.document.name),i=Zo(r.document.updateTime),o=new Ws({mapValue:{fields:r.document.fields}}),a=Qs.newFoundDocument(s,i,o);n=new Uo(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,s=na(e,r.document),i=r.readTime?Zo(r.readTime):hs.min(),o=Qs.newNoDocument(s,i);n=new Uo([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,s=na(e,r.document);n=new Uo([],r.removedTargetIds||[],s,null)}else{if(!("filter"in t))return zr();{const e=t.filter,r=new yo(e.count||0);n=new Vo(e.targetId,r)}}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return hs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?hs.min():t.readTime?Zo(t.readTime):hs.min()}(e);return this.listener.To(t,n)}Ao(e){const t={};t.database=ia(this.O),t.addTarget=function(e,t){let n;const r=t.target;return n=oi(r)?{documents:ha(e,r)}:{query:da(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xo(e,t.resumeToken):t.snapshotVersion.compareTo(hs.min())>0&&(n.readTime=Wo(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.fo(t)}Ro(e){const t={};t.database=ia(this.O),t.removeTarget=e,this.fo(t)}}class Eu extends Su{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.O=s,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(Hr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function(e,t){return e&&e.length>0?(Hr(void 0!==t),e.map(e=>function(e,t){let n=Zo(e.updateTime?e.updateTime:t);return n.isEqual(hs.min())&&(n=Zo(t)),new eo(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Zo(e.commitTime);return this.listener.Vo(n,t)}return Hr(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=ia(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>la(this.O,e))};this.fo(t)}}class Tu extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=n,this.O=r,this.Co=!1}No(){if(this.Co)throw new Kr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.eo.Mr(e,t,n,r,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Yr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Kr(Yr.UNKNOWN,e.toString())})}Lr(e,t,n){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.eo.Lr(e,t,n,r,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Yr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Kr(Yr.UNKNOWN,e.toString())})}terminate(){this.Co=!0}}class Cu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(jr(t),this.Oo=!1):Vr("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class ku{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=s,this.jo.mr(e=>{n.enqueueAndForget(async()=>{Lu(this)&&(Vr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Gr(e);t.Ko.add(4),await xu(t),t.Qo.set("Unknown"),t.Ko.delete(4),await Au(t)}(this))})}),this.Qo=new Cu(n,r)}}async function Au(e){if(Lu(e))for(const t of e.Go)await t(!0)}async function xu(e){for(const t of e.Go)await t(!1)}function Ou(e,t){const n=Gr(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),$u(n)?Pu(n):eh(n).co()&&Du(n,t))}function Nu(e,t){const n=Gr(e),r=eh(n);n.qo.delete(t),r.co()&&Ru(n,t),0===n.qo.size&&(r.co()?r.ho():Lu(n)&&n.Qo.set("Unknown"))}function Du(e,t){e.Wo.Z(t.targetId),eh(e).Ao(t)}function Ru(e,t){e.Wo.Z(t),eh(e).Ro(t)}function Pu(e){e.Wo=new Bo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qo.get(t)||null}),eh(e).start(),e.Qo.Mo()}function $u(e){return Lu(e)&&!eh(e).oo()&&e.qo.size>0}function Lu(e){return 0===Gr(e).Ko.size}function Mu(e){e.Wo=void 0}async function Fu(e){e.qo.forEach((t,n)=>{Du(e,t)})}async function Uu(e,t){Mu(e),$u(e)?(e.Qo.Bo(t),Pu(e)):e.Qo.set("Unknown")}async function Vu(e,t,n){if(e.Qo.set("Online"),t instanceof jo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qo.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qo.delete(r),e.Wo.removeTarget(r))}(e,t)}catch(n){Vr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ju(e,n)}else if(t instanceof Uo?e.Wo.ct(t):t instanceof Vo?e.Wo._t(t):e.Wo.ht(t),!n.isEqual(hs.min()))try{const t=await Ml(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Wo.yt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.qo.get(r);s&&e.qo.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qo.get(t);if(!n)return;e.qo.set(t,n.withResumeToken(bs.EMPTY_BYTE_STRING,n.snapshotVersion)),Ru(e,t);const r=new fc(n.target,t,1,n.sequenceNumber);Du(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Vr("RemoteStore","Failed to raise snapshot:",t),await ju(e,t)}}async function ju(e,t,n){if(!rc(t))throw t;e.Ko.add(1),await xu(e),e.Qo.set("Offline"),n||(n=()=>Ml(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Vr("RemoteStore","Retrying IndexedDB access"),await n(),e.Ko.delete(1),await Au(e)})}function qu(e,t){return t().catch(n=>ju(e,n,t))}async function Bu(e){const t=Gr(e),n=th(t);let r=t.Uo.length>0?t.Uo[t.Uo.length-1].batchId:-1;for(;zu(t);)try{const e=await Ul(t.localStore,r);if(null===e){0===t.Uo.length&&n.ho();break}r=e.batchId,Hu(t,e)}catch(e){await ju(t,e)}Gu(t)&&Yu(t)}function zu(e){return Lu(e)&&e.Uo.length<10}function Hu(e,t){e.Uo.push(t);const n=th(e);n.co()&&n.bo&&n.vo(t.mutations)}function Gu(e){return Lu(e)&&!th(e).oo()&&e.Uo.length>0}function Yu(e){th(e).start()}async function Ku(e){th(e).Do()}async function Wu(e){const t=th(e);for(const n of e.Uo)t.vo(n.mutations)}async function Xu(e,t,n){const r=e.Uo.shift(),s=hc.from(r,t,n);await qu(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Bu(e)}async function Qu(e,t){t&&th(e).bo&&await async function(e,t){if(bo(n=t.code)&&n!==Yr.ABORTED){const n=e.Uo.shift();th(e).ao(),await qu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Bu(e)}var n}(e,t),Gu(e)&&Yu(e)}async function Zu(e,t){const n=Gr(e);n.asyncQueue.verifyOperationInProgress(),Vr("RemoteStore","RemoteStore received new credentials");const r=Lu(n);n.Ko.add(3),await xu(n),r&&n.Qo.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ko.delete(3),await Au(n)}async function Ju(e,t){const n=Gr(e);t?(n.Ko.delete(2),await Au(n)):t||(n.Ko.add(2),await xu(n),n.Qo.set("Unknown"))}function eh(e){return e.zo||(e.zo=function(e,t,n){const r=Gr(e);return r.No(),new Iu(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Fu.bind(null,e),vr:Uu.bind(null,e),To:Vu.bind(null,e)}),e.Go.push(async t=>{t?(e.zo.ao(),$u(e)?Pu(e):e.Qo.set("Unknown")):(await e.zo.stop(),Mu(e))})),e.zo}function th(e){return e.Ho||(e.Ho=function(e,t,n){const r=Gr(e);return r.No(),new Eu(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Ku.bind(null,e),vr:Qu.bind(null,e),So:Wu.bind(null,e),Vo:Xu.bind(null,e)}),e.Go.push(async t=>{t?(e.Ho.ao(),await Bu(e)):(await e.Ho.stop(),e.Uo.length>0&&(Vr("RemoteStore",`Stopping write stream with ${e.Uo.length} pending writes`),e.Uo=[]))})),e.Ho}class nh{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,o=new nh(e,t,i,r,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Kr(Yr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rh(e,t){if(jr("AsyncQueue",`${t}: ${e}`),rc(e))return new Kr(Yr.UNAVAILABLE,`${t}: ${e}`);throw e}class sh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rs.comparator(t.key,n.key):(e,t)=>Rs.comparator(e.key,t.key),this.keyedMap=No(),this.sortedSet=new So(this.comparator)}static emptySet(e){return new sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new sh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ih{constructor(){this.Jo=new So(Rs.comparator)}track(e){const t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):zr():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,n)=>{e.push(n)}),e}}class oh{constructor(e,t,n,r,s,i,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new oh(e,t,sh.emptySet(t),s,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Di(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ah{constructor(){this.Xo=void 0,this.listeners=[]}}class ch{constructor(){this.queries=new ml(e=>Ri(e),Di),this.onlineState="Unknown",this.Zo=new Set}}async function lh(e,t){const n=Gr(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new ah),s)try{i.Xo=await n.onListen(r)}catch(e){const n=rh(e,`Initialization of query '${Pi(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.tc(n.onlineState),i.Xo&&t.ec(i.Xo)&&fh(n)}async function uh(e,t){const n=Gr(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function hh(e,t){const n=Gr(e);let r=!1;for(const s of t){const e=n.queries.get(s.query);if(e){for(const t of e.listeners)t.ec(s)&&(r=!0);e.Xo=s}}r&&fh(n)}function dh(e,t,n){const r=Gr(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function fh(e){e.Zo.forEach(e=>{e.next()})}class ph{constructor(e,t,n){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=n||{}}ec(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new oh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class gh{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class mh{constructor(e){this.O=e}Gs(e){return na(this.O,e)}js(e){return e.metadata.exists?ca(this.O,e.document,!1):Qs.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Zo(e)}}class yh{constructor(e,t,n){this.hc=e,this.localStore=t,this.O=n,this.queries=[],this.documents=[],this.progress=vh(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,n=new mh(this.O);for(const r of e)if(r.metadata.queries){const e=n.Gs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Po()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const s=Gr(e);let i=Po(),o=xo();for(const l of n){const e=t.Gs(l.metadata.name);l.document&&(i=i.add(e));const n=t.js(l);n.setReadTime(t.Qs(l.metadata.readTime)),o=o.insert(e,n)}const a=s.Bs.newChangeBuffer({trackRemovals:!0}),c=await Vl(s,function(e){return Oi(Ii(ms.fromString(`__bundle__/docs/${e}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",e=>Fl(e,a,o).next(t=>(a.apply(e),t)).next(t=>s.Un.removeMatchingKeysForTargetId(e,c.targetId).next(()=>s.Un.addMatchingKeys(e,i,c.targetId)).next(()=>s.Us.Ts(e,t)).next(()=>t)))}(this.localStore,new mh(this.O),this.documents,this.hc.id),t=this.fc(this.documents);for(const n of this.queries)await Hl(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",new Ol(Object.assign({},this.progress),e)}}function vh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class wh{constructor(e){this.key=e}}class bh{constructor(e){this.key=e}}class _h{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Po(),this.mutatedKeys=Po(),this.mc=Li(e),this.gc=new sh(this.mc)}get yc(){return this.dc}Ic(e,t){const n=t?t.Ec:new ih,r=t?t.gc:this.gc;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a=Ei(this.query)&&r.size===this.query.limit?r.last():null,c=Ti(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=$i(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Tc(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.mc(u,a)>0||c&&this.mc(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),Ei(this.query)||Ti(this.query))for(;i.size>this.query.limit;){const e=Ei(this.query)?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{gc:i,Ec:n,ks:o,mutatedKeys:s}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const s=e.Ec.Yo();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zr()}};return n(e)-n(t)}(e.type,t.type)||this.mc(e.doc,t.doc)),this.Ac(n);const i=t?this.Rc():[],o=0===this.wc.size&&this.current?1:0,a=o!==this._c;return this._c=o,0!==s.length||a?{snapshot:new oh(this.query,e.gc,r,s,e.mutatedKeys,0===o,a,!1),Pc:i}:{Pc:i}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new ih,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(e=>this.dc=this.dc.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.dc=this.dc.delete(e)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Po(),this.gc.forEach(e=>{this.bc(e.key)&&(this.wc=this.wc.add(e.key))});const t=[];return e.forEach(e=>{this.wc.has(e)||t.push(new bh(e))}),this.wc.forEach(n=>{e.has(n)||t.push(new wh(n))}),t}vc(e){this.dc=e.Ks,this.wc=Po();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return oh.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Sh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ih{constructor(e){this.key=e,this.Sc=!1}}class Eh{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Dc={},this.Cc=new ml(e=>Ri(e),Di),this.Nc=new Map,this.xc=new Set,this.kc=new So(Rs.comparator),this.Oc=new Map,this.Mc=new Kl,this.$c={},this.Fc=new Map,this.Bc=sl.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}async function Th(e,t){const n=Qh(e);let r,s;const i=n.Cc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Vc();else{const e=await Vl(n.localStore,Oi(t));n.isPrimaryClient&&Ou(n.remoteStore,e);const i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await Ch(n,t,r,"current"===i)}return s}async function Ch(e,t,n,r){e.Uc=(t,n,r)=>async function(e,t,n,r){let s=t.view.Ic(n);s.ks&&(s=await ql(e.localStore,t.query,!1).then(({documents:e})=>t.view.Ic(e,s)));const i=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i);return Mh(e,t.targetId,o.Pc),o.snapshot}(e,t,n,r);const s=await ql(e.localStore,t,!0),i=new _h(t,s.Ks),o=i.Ic(s.documents),a=Fo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=i.applyChanges(o,e.isPrimaryClient,a);Mh(e,n,c.Pc);const l=new Sh(t,n,i);return e.Cc.set(t,l),e.Nc.has(n)?e.Nc.get(n).push(t):e.Nc.set(n,[t]),c.snapshot}async function kh(e,t){const n=Gr(e),r=n.Cc.get(t),s=n.Nc.get(r.targetId);if(s.length>1)return n.Nc.set(r.targetId,s.filter(e=>!Di(e,t))),void n.Cc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Nu(n.remoteStore,r.targetId),$h(n,r.targetId)}).catch(ll)):($h(n,r.targetId),await jl(n.localStore,r.targetId,!0))}async function Ah(e,t){const n=Gr(e);try{const e=await function(e,t){const n=Gr(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];t.targetChanges.forEach((i,a)=>{const c=s.get(a);if(!c)return;o.push(n.Un.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Un.addMatchingKeys(e,i.addedDocuments,a)));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?l=l.withResumeToken(bs.EMPTY_BYTE_STRING,hs.min()).withLastLimboFreeSnapshotVersion(hs.min()):i.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(i.resumeToken,r)),s=s.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,i)&&o.push(n.Un.updateTargetData(e,l))});let a=xo();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Fl(e,i,t.documentUpdates).next(e=>{a=e})),!r.isEqual(hs.min())){const t=n.Un.getLastRemoteSnapshotVersion(e).next(t=>n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Za.waitFor(o).next(()=>i.apply(e)).next(()=>n.Us.Ts(e,a)).next(()=>a)}).then(e=>(n.Ms=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Oc.get(t);r&&(Hr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Sc=!0:e.modifiedDocuments.size>0?Hr(r.Sc):e.removedDocuments.size>0&&(Hr(r.Sc),r.Sc=!1))}),await Vh(n,e,t)}catch(e){await ll(e)}}function xh(e,t,n){const r=Gr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Cc.forEach((n,r)=>{const s=r.view.tc(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Gr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.listeners)s.tc(t)&&(r=!0)}),r&&fh(n)}(r.eventManager,t),e.length&&r.Dc.To(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Oh(e,t,n){const r=Gr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Oc.get(t),i=s&&s.key;if(i){let e=new So(Rs.comparator);e=e.insert(i,Qs.newNoDocument(i,hs.min()));const n=Po().add(i),s=new Mo(hs.min(),new Map,new To(as),e,n);await Ah(r,s),r.kc=r.kc.remove(i),r.Oc.delete(t),Uh(r)}else await jl(r.localStore,t,!1).then(()=>$h(r,t,n)).catch(ll)}async function Nh(e,t){const n=Gr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Gr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let o=Za.resolve();return i.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Hr(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.gs.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.gs.performConsistencyCheck(e)).next(()=>n.Us.Es(e,r))})}(n.localStore,t);Ph(n,r,null),Rh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vh(n,e)}catch(e){await ll(e)}}async function Dh(e,t,n){const r=Gr(e);try{const e=await function(e,t){const n=Gr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.gs.lookupMutationBatch(e,t).next(t=>(Hr(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t))).next(()=>n.gs.performConsistencyCheck(e)).next(()=>n.Us.Es(e,r))})}(r.localStore,t);Ph(r,t,n),Rh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vh(r,e)}catch(n){await ll(n)}}function Rh(e,t){(e.Fc.get(t)||[]).forEach(e=>{e.resolve()}),e.Fc.delete(t)}function Ph(e,t,n){const r=Gr(e);let s=r.$c[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.$c[r.currentUser.toKey()]=s}}function $h(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Nc.get(t))e.Cc.delete(r),n&&e.Dc.qc(r,n);e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach(t=>{e.Mc.containsKey(t)||Lh(e,t)})}function Lh(e,t){e.xc.delete(t.path.canonicalString());const n=e.kc.get(t);null!==n&&(Nu(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),Uh(e))}function Mh(e,t,n){for(const r of n)r instanceof wh?(e.Mc.addReference(r.key,t),Fh(e,r)):r instanceof bh?(Vr("SyncEngine","Document no longer in limbo: "+r.key),e.Mc.removeReference(r.key,t),e.Mc.containsKey(r.key)||Lh(e,r.key)):zr()}function Fh(e,t){const n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Vr("SyncEngine","New document in limbo: "+n),e.xc.add(r),Uh(e))}function Uh(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){const t=e.xc.values().next().value;e.xc.delete(t);const n=new Rs(ms.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Ih(n)),e.kc=e.kc.insert(n,r),Ou(e.remoteStore,new fc(Oi(Ii(n.path)),r,2,ss.A))}}async function Vh(e,t,n){const r=Gr(e),s=[],i=[],o=[];r.Cc.isEmpty()||(r.Cc.forEach((e,a)=>{o.push(r.Uc(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),s.push(e);const t=Dl.Ss(a.targetId,e);i.push(t)}}))}),await Promise.all(o),r.Dc.To(s),await async function(e,t){const n=Gr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Za.forEach(t,t=>Za.forEach(t.vs,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Za.forEach(t.Vs,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!rc(e))throw e;Vr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Ms=n.Ms.insert(e,r)}}}(r.localStore,i))}async function jh(e,t){const n=Gr(e);if(!n.currentUser.isEqual(t)){Vr("SyncEngine","User change. New user:",t.toKey());const e=await Ll(n.localStore,t);n.currentUser=t,function(e,t){e.Fc.forEach(e=>{e.forEach(e=>{e.reject(new Kr(Yr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Fc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vh(n,e.qs)}}function qh(e,t){const n=Gr(e),r=n.Oc.get(t);if(r&&r.Sc)return Po().add(r.key);{let e=Po();const r=n.Nc.get(t);if(!r)return e;for(const t of r){const r=n.Cc.get(t);e=e.unionWith(r.view.yc)}return e}}async function Bh(e,t){const n=Gr(e),r=await ql(n.localStore,t.query,!0),s=t.view.vc(r);return n.isPrimaryClient&&Mh(n,t.targetId,s.Pc),s}async function zh(e){const t=Gr(e);return zl(t.localStore).then(e=>Vh(t,e))}async function Hh(e,t,n,r){const s=Gr(e),i=await function(e,t){const n=Gr(e),r=Gr(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Ge(e,t).next(t=>t?n.Us.Es(e,t):Za.resolve(null)))}(s.localStore,t);null!==i?("pending"===n?await Bu(s.remoteStore):"acknowledged"===n||"rejected"===n?(Ph(s,t,r||null),Rh(s,t),function(e,t){Gr(Gr(e).gs).Qe(t)}(s.localStore,t)):zr(),await Vh(s,i)):Vr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Gh(e,t,n){const r=Gr(e),s=[],i=[];for(const o of t){let e;const t=r.Nc.get(o);if(t&&0!==t.length){e=await Vl(r.localStore,Oi(t[0]));for(const e of t){const t=r.Cc.get(e),n=await Bh(r,t);n.snapshot&&i.push(n.snapshot)}}else{const t=await Bl(r.localStore,o);e=await Vl(r.localStore,t),await Ch(r,Yh(t),o,!1)}s.push(e)}return r.Dc.To(i),s}function Yh(e){return Si(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Kh(e){const t=Gr(e);return Gr(Gr(t.localStore).persistence).ds()}async function Wh(e,t,n,r){const s=Gr(e);if(s.Lc)Vr("SyncEngine","Ignoring unexpected query state notification.");else if(s.Nc.has(t))switch(n){case"current":case"not-current":{const e=await zl(s.localStore),r=Mo.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Vh(s,e,r);break}case"rejected":await jl(s.localStore,t,!0),$h(s,t,r);break;default:zr()}}async function Xh(e,t,n){const r=Qh(e);if(r.Lc){for(const e of t){if(r.Nc.has(e)){Vr("SyncEngine","Adding an already active target "+e);continue}const t=await Bl(r.localStore,e),n=await Vl(r.localStore,t);await Ch(r,Yh(t),n.targetId,!1),Ou(r.remoteStore,n)}for(const e of n)r.Nc.has(e)&&await jl(r.localStore,e,!1).then(()=>{Nu(r.remoteStore,e),$h(r,e)}).catch(ll)}}function Qh(e){const t=Gr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ah.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Oh.bind(null,t),t.Dc.To=hh.bind(null,t.eventManager),t.Dc.qc=dh.bind(null,t.eventManager),t}function Zh(e){const t=Gr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dh.bind(null,t),t}class Jh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.O=bu(e.databaseInfo.databaseId),this.sharedClientState=this.Gc(e),this.persistence=this.jc(e),await this.persistence.start(),this.gcScheduler=this.Qc(e),this.localStore=this.Wc(e)}Qc(e){return null}Wc(e){return $l(this.persistence,new Rl,e.initialUser,this.O)}jc(e){return new eu(nu.bi,this.O)}Gc(e){return new du}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ed extends Jh{constructor(e,t,n){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Gr(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=_l(e);let n=hs.min();return t.Qt({index:Pa.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=vc(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Fs=e})}(this.localStore),await this.zc.initialize(this,e),await Zh(this.zc.syncEngine),await Bu(this.zc.remoteStore),await this.persistence.Hn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Wc(e){return $l(this.persistence,new Rl,e.initialUser,this.O)}Qc(e){return new dl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=xl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xc.withCacheSize(this.cacheSizeBytes):Xc.DEFAULT;return new Cl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,vu(),wu(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new du}}class td extends ed{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.zc.syncEngine;this.sharedClientState instanceof hu&&(this.sharedClientState.syncEngine={hr:Hh.bind(null,t),lr:Wh.bind(null,t),dr:Xh.bind(null,t),ds:Kh.bind(null,t),ar:zh.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Hn(async e=>{await async function(e,t){const n=Gr(e);if(Qh(n),Zh(n),!0===t&&!0!==n.Lc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Gh(n,e.toArray());n.Lc=!0,await Ju(n.remoteStore,!0);for(const r of t)Ou(n.remoteStore,r)}else if(!1===t&&!1!==n.Lc){const e=[];let t=Promise.resolve();n.Nc.forEach((r,s)=>{n.sharedClientState.isLocalQueryTarget(s)?e.push(s):t=t.then(()=>($h(n,s),jl(n.localStore,s,!0))),Nu(n.remoteStore,s)}),await t,await Gh(n,e),function(e){const t=Gr(e);t.Oc.forEach((e,n)=>{Nu(t.remoteStore,n)}),t.Mc.ii(),t.Oc=new Map,t.kc=new So(Rs.comparator)}(n),n.Lc=!1,await Ju(n.remoteStore,!1)}}(this.zc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())})}Gc(e){const t=vu();if(!hu.Vt(t))throw new Kr(Yr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=xl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hu(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class nd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jh.bind(null,this.syncEngine),await Ju(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ch}createDatastore(e){const t=bu(e.databaseInfo.databaseId),n=new yu(e.databaseInfo);return function(e,t,n,r){return new Tu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>xh(this.syncEngine,e,0),i=pu.Vt()?new pu:new fu,new ku(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,o){const a=new Eh(e,t,n,r,s,i);return o&&(a.Lc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Gr(e);Vr("RemoteStore","RemoteStore shutting down."),t.Ko.add(5),await xu(t),t.jo.shutdown(),t.Qo.set("Unknown")}(this.remoteStore)}}function rd(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class sd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class id{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(e=>{e&&e.ac()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Yc.cancel()}async getMetadata(){return this.metadata.promise}async Kc(){return await this.getMetadata(),this.Zc()}async Zc(){const e=await this.tu();if(null===e)return null;const t=this.Xc.decode(e),n=Number(t);isNaN(n)&&this.eu(`length string (${t}) is not valid number`);const r=await this.nu(n);return new gh(JSON.parse(r),e.length+n)}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async tu(){for(;this.su()<0&&!(await this.iu()););if(0===this.buffer.length)return null;const e=this.su();e<0&&this.eu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async nu(e){for(;this.buffer.length<e;)await this.iu()&&this.eu("Reached the end of bundle when more is expected.");const t=this.Xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}async iu(){const e=await this.Yc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class od{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Kr(Yr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Gr(e),r=ia(n.O)+"/documents",s={documents:t.map(e=>ta(n.O,e))},i=await n.Lr("BatchGetDocuments",r,s),o=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Hr(!!t.found);const n=na(e,t.found.name),r=Zo(t.found.updateTime),s=new Ws({mapValue:{fields:t.found.fields}});return Qs.newFoundDocument(n,r,s)}(e,t):"missing"in t?function(e,t){Hr(!!t.missing),Hr(!!t.readTime);const n=na(e,t.missing),r=Zo(t.readTime);return Qs.newNoDocument(n,r)}(e,t):zr()}(n.O,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Hr(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new go(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Rs.fromPath(t);this.mutations.push(new mo(n,this.precondition(n)))}),await async function(e,t){const n=Gr(e),r=ia(n.O)+"/documents",s={writes:t.map(e=>la(n.O,e))};await n.Mr("Commit",r,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zr();t=hs.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Kr(Yr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?to.updateTime(t):to.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hs.min()))throw new Kr(Yr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return to.updateTime(t)}return to.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ad{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ru=5,this.ro=new _u(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){this.ro.Hr(async()=>{const e=new od(this.datastore),t=this.cu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.uu(e)}))}).catch(e=>{this.uu(e)})})}cu(e){try{const t=this.updateFunction(e);return!Os(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!bo(t)}return!1}}class cd{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Lr.UNAUTHENTICATED,this.clientId=os.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Vr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Vr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Kr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=rh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ld(e,t){e.asyncQueue.verifyOperationInProgress(),Vr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ll(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function ud(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hd(e);Vr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Zu(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Zu(t.remoteStore,n)),e.onlineComponents=t}async function hd(e){return e.offlineComponents||(Vr("FirestoreClient","Using default OfflineComponentProvider"),await ld(e,new Jh)),e.offlineComponents}async function dd(e){return e.onlineComponents||(Vr("FirestoreClient","Using default OnlineComponentProvider"),await ud(e,new nd)),e.onlineComponents}function fd(e){return hd(e).then(e=>e.persistence)}function pd(e){return hd(e).then(e=>e.localStore)}function gd(e){return dd(e).then(e=>e.remoteStore)}function md(e){return dd(e).then(e=>e.syncEngine)}async function yd(e){const t=await dd(e),n=t.eventManager;return n.onListen=Th.bind(null,t.syncEngine),n.onUnlisten=kh.bind(null,t.syncEngine),n}function vd(e,t,n={}){const r=new Wr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new sd({next:i=>{t.enqueueAndForget(()=>uh(e,o));const a=i.docs.has(n);!a&&i.fromCache?s.reject(new Kr(Yr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&r&&"server"===r.source?s.reject(new Kr(Yr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:e=>s.reject(e)}),o=new ph(Ii(n.path),i,{includeMetadataChanges:!0,uc:!0});return lh(e,o)}(await yd(e),e.asyncQueue,t,n,r)),r.promise}function wd(e,t,n={}){const r=new Wr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new sd({next:n=>{t.enqueueAndForget(()=>uh(e,o)),n.fromCache&&"server"===r.source?s.reject(new Kr(Yr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),o=new ph(n,i,{includeMetadataChanges:!0,uc:!0});return lh(e,o)}(await yd(e),e.asyncQueue,t,n,r)),r.promise}const bd=new Map;function _d(e,t,n){if(!n)throw new Kr(Yr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Sd(e,t,n,r){if(!0===t&&!0===r)throw new Kr(Yr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Id(e){if(!Rs.isDocumentKey(e))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ed(e){if(Rs.isDocumentKey(e))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Td(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":zr()}function Cd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Kr(Yr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Td(e);throw new Kr(Yr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function kd(e,t){if(t<=0)throw new Kr(Yr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Ad{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Kr(Yr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Kr(Yr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Sd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ad({}),this._settingsFrozen=!1,e instanceof xs?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Kr(Yr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xs(e.options.projectId)}(e))}get app(){if(!this._app)throw new Kr(Yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Kr(Yr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ad(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qr;switch(e.type){case"gapi":const t=e.client;return Hr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ts(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Kr(Yr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bd.get(e);t&&(Vr("ComponentProvider","Removing Datastore"),bd.delete(e),t.terminate())}(this),Promise.resolve()}}class Od{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Od(this.firestore,e,this._key)}}class Nd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nd(this.firestore,e,this._query)}}class Dd extends Nd{constructor(e,t,n){super(e,t,Ii(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Od(this.firestore,null,new Rs(e))}withConverter(e){return new Dd(this.firestore,e,this._path)}}function Rd(e,t,...n){if(e=(0,k.m9)(e),_d("collection","path",t),e instanceof xd){const r=ms.fromString(t,...n);return Ed(r),new Dd(e,null,r)}{if(!(e instanceof Od||e instanceof Dd))throw new Kr(Yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ms.fromString(t,...n));return Ed(r),new Dd(e.firestore,null,r)}}function Pd(e,t,...n){if(e=(0,k.m9)(e),1===arguments.length&&(t=os.R()),_d("doc","path",t),e instanceof xd){const r=ms.fromString(t,...n);return Id(r),new Od(e,null,new Rs(r))}{if(!(e instanceof Od||e instanceof Dd))throw new Kr(Yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ms.fromString(t,...n));return Id(r),new Od(e.firestore,e instanceof Dd?e.converter:null,new Rs(r))}}function $d(e,t){return e=(0,k.m9)(e),t=(0,k.m9)(t),(e instanceof Od||e instanceof Dd)&&(t instanceof Od||t instanceof Dd)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ld(e,t){return e=(0,k.m9)(e),t=(0,k.m9)(t),e instanceof Nd&&t instanceof Nd&&e.firestore===t.firestore&&Di(e._query,t._query)&&e.converter===t.converter}class Md{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new _u(this,"async_queue_retry"),this.yu=()=>{const e=wu();e&&Vr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ro.Yr()};const e=wu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=wu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Wr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}async Eu(){if(0!==this.lu.length){try{await this.lu[0](),this.lu.shift(),this.ro.reset()}catch(j){if(!rc(j))throw j;Vr("AsyncQueue","Operation failed with retryable error: "+j)}this.lu.length>0&&this.ro.Hr(()=>this.Eu())}}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(e=>{throw this._u=e,this.wu=!1,jr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.wu=!1,e))));return this.hu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const r=nh.createAndSchedule(this,e,t,n,e=>this.Tu(e));return this.du.push(r),r}pu(){this._u&&zr()}verifyOperationInProgress(){}async Au(){let e;do{e=this.hu,await e}while(e!==this.hu)}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Fd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Ud{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Vd extends xd{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Md,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||qd(this),this._firestoreClient.terminate()}}function jd(e){return e._firestoreClient||qd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qd(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new As(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new cd(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Bd(e,t,n){const r=new Wr;return e.asyncQueue.enqueue(async()=>{try{await ld(e,n),await ud(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Yr.FAILED_PRECONDITION||e.code===Yr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}}).then(()=>r.promise)}function zd(e){if(e._initialized||e._terminated)throw new Kr(Yr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Kr(Yr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gd(bs.fromBase64String(e))}catch(e){throw new Kr(Yr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Gd(bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yd{constructor(e){this._methodName=e}}class Kd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Kr(Yr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Kr(Yr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return as(this._lat,e._lat)||as(this._long,e._long)}}const Wd=/^__.*__$/;class Xd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new lo(e,this.data,t,this.fieldTransforms)}}class Qd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new uo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zr()}}class Jd{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.O=n,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}xu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return bf(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Zd(this.Vu)&&Wd.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class ef{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=n||bu(e)}Fu(e,t,n,r=!1){return new Jd({Vu:e,methodName:t,$u:n,path:vs.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function tf(e){const t=e._freezeSettings(),n=bu(e._databaseId);return new ef(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nf(e,t,n,r,s,i={}){const o=e.Fu(i.merge||i.mergeFields?2:0,t,n,s);mf("Data must be an object, but it was:",o,r);const a=pf(r,o);let c,l;if(i.merge)c=new ws(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=yf(t,r,n);if(!o.contains(s))throw new Kr(Yr.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);_f(e,s)||e.push(s)}c=new ws(e),l=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=o.fieldTransforms;return new Xd(new Ws(a),c,l)}class rf extends Yd{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function sf(e,t,n){return new Jd({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}class of extends Yd{_toFieldTransform(e){return new Ji(e.path,new Hi)}isEqual(e){return e instanceof of}}class af extends Yd{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=sf(this,e,!0),n=this.Bu.map(e=>ff(e,t)),r=new Gi(n);return new Ji(e.path,r)}isEqual(e){return this===e}}class cf extends Yd{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=sf(this,e,!0),n=this.Bu.map(e=>ff(e,t)),r=new Ki(n);return new Ji(e.path,r)}isEqual(e){return this===e}}class lf extends Yd{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Xi(e.O,Vi(e.O,this.Lu));return new Ji(e.path,t)}isEqual(e){return this===e}}function uf(e,t,n,r){const s=e.Fu(1,t,n);mf("Data must be an object, but it was:",s,r);const i=[],o=Ws.empty();fs(r,(e,r)=>{const a=wf(t,e,n);r=(0,k.m9)(r);const c=s.xu(a);if(r instanceof rf)i.push(a);else{const e=ff(r,c);null!=e&&(i.push(a),o.set(a,e))}});const a=new ws(i);return new Qd(o,a,s.fieldTransforms)}function hf(e,t,n,r,s,i){const o=e.Fu(1,t,n),a=[yf(t,r,n)],c=[s];if(i.length%2!=0)throw new Kr(Yr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(yf(t,i[d])),c.push(i[d+1]);const l=[],u=Ws.empty();for(let d=a.length-1;d>=0;--d)if(!_f(l,a[d])){const e=a[d];let t=c[d];t=(0,k.m9)(t);const n=o.xu(e);if(t instanceof rf)l.push(e);else{const r=ff(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new ws(l);return new Qd(u,h,o.fieldTransforms)}function df(e,t,n,r=!1){return ff(n,e.Fu(r?4:3,t))}function ff(e,t){if(gf(e=(0,k.m9)(e)))return mf("Unsupported field value:",t,e),pf(e,t);if(e instanceof Yd)return function(e,t){if(!Zd(t.Vu))throw t.Ou(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ou(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=ff(s,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,k.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vi(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=us.fromDate(e);return{timestampValue:Wo(t.O,n)}}if(e instanceof us){const n=new us(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wo(t.O,n)}}if(e instanceof Kd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gd)return{bytesValue:Xo(t.O,e._byteString)};if(e instanceof Od){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ou(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Jo(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou(`Unsupported field value: ${Td(e)}`)}(e,t)}function pf(e,t){const n={};return ps(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fs(e,(e,r)=>{const s=ff(r,t.Du(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function gf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof us||e instanceof Kd||e instanceof Gd||e instanceof Od||e instanceof Yd)}function mf(e,t,n){if(!gf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Td(n);throw t.Ou("an object"===r?e+" a custom object":e+" "+r)}}function yf(e,t,n){if((t=(0,k.m9)(t))instanceof Hd)return t._internalPath;if("string"==typeof t)return wf(e,t);throw bf("Field path arguments must be of type string or ",e,!1,void 0,n)}const vf=new RegExp("[~\\*/\\[\\]]");function wf(e,t,n){if(t.search(vf)>=0)throw bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Hd(...t.split("."))._internalPath}catch(r){throw bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bf(e,t,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Kr(Yr.INVALID_ARGUMENT,a+e+c)}function _f(e,t){return e.some(e=>e.isEqual(t))}class Sf{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Od(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new If(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class If extends Sf{data(){return super.data()}}function Ef(e,t){return"string"==typeof t?wf(e,t):t instanceof Hd?t._internalPath:t._delegate._internalPath}class Tf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cf extends Sf{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ef("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class kf extends Cf{data(e={}){return super.data(e)}}class Af{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Tf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new kf(this._firestore,this._userDataWriter,n.key,n,new Tf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Kr(Yr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new kf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Tf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new kf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:xf(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zr()}}function Of(e,t){return e instanceof Cf&&t instanceof Cf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Af&&t instanceof Af&&e._firestore===t._firestore&&Ld(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Nf(e){if(Ti(e)&&0===e.explicitOrderBy.length)throw new Kr(Yr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Df{}function Rf(e,...t){for(const n of t)e=n._apply(e);return e}class Pf extends Df{constructor(e,t,n){super(),this.Uu=e,this.qu=t,this.Ku=n,this.type="where"}_apply(e){const t=tf(e.firestore),n=function(e,t,n,r,s,i,o){let a;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Kr(Yr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){jf(o,i);const t=[];for(const n of o)t.push(Vf(r,e,n));a={arrayValue:{values:t}}}else a=Vf(r,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||jf(o,i),a=df(n,"where",o,"in"===i||"not-in"===i);const c=ai.create(s,i,a);return function(e,t){if(t.S()){const n=ki(e);if(null!==n&&!n.isEqual(t.field))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Ci(e);null!==r&&qf(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Kr(Yr.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Nd(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class $f extends Df{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Kr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Kr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new yi(t,n);return function(e,t){if(null===Ci(e)){const n=ki(e);null!==n&&qf(0,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new Nd(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _i(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Lf extends Df{constructor(e,t,n){super(),this.type=e,this.ju=t,this.Qu=n}_apply(e){return new Nd(e.firestore,e.converter,Ni(e._query,this.ju,this.Qu))}}class Mf extends Df{constructor(e,t,n){super(),this.type=e,this.Wu=t,this.zu=n}_apply(e){const t=Uf(e,this.type,this.Wu,this.zu);return new Nd(e.firestore,e.converter,function(e,t){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Ff extends Df{constructor(e,t,n){super(),this.type=e,this.Wu=t,this.zu=n}_apply(e){const t=Uf(e,this.type,this.Wu,this.zu);return new Nd(e.firestore,e.converter,function(e,t){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Uf(e,t,n,r){if(n[0]=(0,k.m9)(n[0]),n[0]instanceof Sf)return function(e,t,n,r,s){if(!r)throw new Kr(Yr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const o of xi(e))if(o.field.isKeyField())i.push(qs(t,r.key));else{const e=r.data.field(o.field);if(Ts(e))throw new Kr(Yr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}i.push(e)}return new mi(i,s)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const s=tf(e.firestore);return function(e,t,n,r,s,i){const o=e.explicitOrderBy;if(s.length>o.length)throw new Kr(Yr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<s.length;c++){const i=s[c];if(o[c].field.isKeyField()){if("string"!=typeof i)throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof i}`);if(!Ai(e)&&-1!==i.indexOf("/"))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${i}' contains a slash.`);const n=e.path.child(ms.fromString(i));if(!Rs.isDocumentKey(n))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new Rs(n);a.push(qs(t,s))}else{const e=df(n,r,i);a.push(e)}}return new mi(a,i)}(e._query,e.firestore._databaseId,s,t,n,r)}}function Vf(e,t,n){if("string"==typeof(n=(0,k.m9)(n))){if(""===n)throw new Kr(Yr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ai(t)&&-1!==n.indexOf("/"))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ms.fromString(n));if(!Rs.isDocumentKey(r))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qs(e,new Rs(r))}if(n instanceof Od)return qs(e,n._key);throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(n)}.`)}function jf(e,t){if(!Array.isArray(e)||0===e.length)throw new Kr(Yr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Kr(Yr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function qf(e,t,n){if(!n.isEqual(t))throw new Kr(Yr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Bf{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Is(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zr()}}convertObject(e,t){const n={};return fs(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Kd(Is(e.latitude),Is(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Cs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ks(e));default:return null}}convertTimestamp(e){const t=Ss(e);return new us(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ms.fromString(e);Hr(Sa(n));const r=new xs(n.get(1),n.get(3)),s=new Rs(n.popFirst(5));return r.isEqual(t)||jr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function zf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Hf extends Bf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Od(this.firestore,null,t)}}class Gf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tf(e)}set(e,t,n){this._verifyNotCommitted();const r=Yf(e,this._firestore),s=zf(r.converter,t,n),i=nf(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,to.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const s=Yf(e,this._firestore);let i;return i="string"==typeof(t=(0,k.m9)(t))||t instanceof Hd?hf(this._dataReader,"WriteBatch.update",s._key,t,n,r):uf(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(i.toMutation(s._key,to.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yf(e,this._firestore);return this._mutations=this._mutations.concat(new go(t._key,to.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Kr(Yr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yf(e,t){if((e=(0,k.m9)(e)).firestore!==t)throw new Kr(Yr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Kf extends Bf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Od(this.firestore,null,t)}}function Wf(e,t,n){e=Cd(e,Od);const r=Cd(e.firestore,Vd),s=zf(e.converter,t,n);return Zf(r,[nf(tf(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,to.none())])}function Xf(e,t,n,...r){e=Cd(e,Od);const s=Cd(e.firestore,Vd),i=tf(s);let o;return o="string"==typeof(t=(0,k.m9)(t))||t instanceof Hd?hf(i,"updateDoc",e._key,t,n,r):uf(i,"updateDoc",e._key,t),Zf(s,[o.toMutation(e._key,to.exists(!0))])}function Qf(e,...t){var n,r,s;e=(0,k.m9)(e);let i={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Fd(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(Fd(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let c,l,u;if(e instanceof Od)l=Cd(e.firestore,Vd),u=Ii(e._key.path),c={next:n=>{t[o]&&t[o](Jf(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Cd(e,Nd);l=Cd(n.firestore,Vd),u=n._query;const r=new Kf(l);c={next:e=>{t[o]&&t[o](new Af(l,r,n,e))},error:t[o+1],complete:t[o+2]},Nf(e._query)}return function(e,t,n,r){const s=new sd(r),i=new ph(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>lh(await yd(e),i)),()=>{s.Jc(),e.asyncQueue.enqueueAndForget(async()=>uh(await yd(e),i))}}(jd(l),u,a,c)}function Zf(e,t){return function(e,t){const n=new Wr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Zh(e);try{const e=await function(e,t){const n=Gr(e),r=us.now(),s=t.reduce((e,t)=>e.add(t.key),Po());let i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Us.Es(e,s).next(s=>{i=s;const o=[];for(const e of t){const t=oo(e,i.get(e.key));null!=t&&o.push(new uo(e.key,t,Xs(t.value.mapValue),to.exists(!0)))}return n.gs.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(i),{batchId:e.batchId,changes:i}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.$c[e.currentUser.toKey()];r||(r=new So(as)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vh(r,e.changes),await Bu(r.remoteStore)}catch(e){const t=rh(e,"Failed to persist write");n.reject(t)}}(await md(e),t,n)),n.promise}(jd(e),t)}function Jf(e,t,n){const r=n.docs.get(t._key),s=new Kf(e);return new Cf(e,s,t._key,r,new Tf(n.hasPendingWrites,n.fromCache),t.converter)}class ep extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=tf(e)}get(e){const t=Yf(e,this._firestore),n=new Hf(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return zr();const r=e[0];if(r.isFoundDocument())return new Sf(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Sf(this._firestore,n,t._key,null,t.converter);throw zr()})}set(e,t,n){const r=Yf(e,this._firestore),s=zf(r.converter,t,n),i=nf(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(e,t,n,...r){const s=Yf(e,this._firestore);let i;return i="string"==typeof(t=(0,k.m9)(t))||t instanceof Hd?hf(this._dataReader,"Transaction.update",s._key,t,n,r):uf(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,i),this}delete(e){const t=Yf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yf(e,this._firestore),n=new Kf(this._firestore);return super.get(e).then(e=>new Cf(this._firestore,n,t._key,e._document,new Tf(!1,!1),t.converter))}}function tp(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Kr("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function np(){if("undefined"==typeof Uint8Array)throw new Kr("unimplemented","Uint8Arrays are not available in this environment.")}function rp(){if("undefined"==typeof atob)throw new Kr("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Mr=e}(E.SDK_VERSION),(0,E._registerComponent)(new T.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=new Vd(r,new Jr(e.getProvider("auth-internal")),new rs(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),s._setSettings(n),s},"PUBLIC")),(0,E.registerVersion)($r,"3.4.5",e),(0,E.registerVersion)($r,"3.4.5","esm2017")}();class sp{constructor(e){this._delegate=e}static fromBase64String(e){return rp(),new sp(Gd.fromBase64String(e))}static fromUint8Array(e){return np(),new sp(Gd.fromUint8Array(e))}toBase64(){return rp(),this._delegate.toBase64()}toUint8Array(){return np(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ip(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class op{enableIndexedDbPersistence(e,t){return function(e,t){zd(e=Cd(e,Vd));const n=jd(e),r=e._freezeSettings(),s=new nd;return Bd(n,s,new ed(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){zd(e=Cd(e,Vd));const t=jd(e),n=e._freezeSettings(),r=new nd;return Bd(t,r,new td(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Kr(Yr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Wr;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!ec.Vt())return Promise.resolve();const t=e+"main";await ec.delete(t)}(xl(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class ap{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof xs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||qr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var s;const i=(e=Cd(e,xd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&qr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Lr.MOCK_USER;else{t=(0,k.Sg)(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Kr(Yr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Lr(i)}e._authCredentials=new Zr(new Xr(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await fd(e),n=await gd(e);return t.setNetworkEnabled(!0),function(e){const t=Gr(e);return t.Ko.delete(0),Au(t)}(n)})}(jd(e=Cd(e,Vd)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await fd(e),n=await gd(e);return t.setNetworkEnabled(!1),async function(e){const t=Gr(e);t.Ko.add(0),await xu(t),t.Qo.set("Offline")}(n)})}(jd(e=Cd(e,Vd)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Sd("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Gr(e);Lu(n.remoteStore)||Vr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Gr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.gs.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Fc.get(e)||[];r.push(t),n.Fc.set(e,r)}catch(e){const n=rh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await md(e),t)),t.promise}(jd(e=Cd(e,Vd)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new sd(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){Gr(e).Zo.add(t),t.next()}(await yd(e),n)),()=>{n.Jc(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){Gr(e).Zo.delete(t)}(await yd(e),n))}}(jd(e=Cd(e,Vd)),Fd(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Kr("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _p(this,Rd(this._delegate,e))}catch(t){throw fp(t,"collection()","Firestore.collection()")}}doc(e){try{return new dp(this,Pd(this._delegate,e))}catch(t){throw fp(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vp(this,function(e,t){if(e=Cd(e,xd),_d("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Kr(Yr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Nd(e,null,function(e){return new _i(ms.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw fp(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Wr;return e.asyncQueue.enqueueAndForget(async()=>{const r=await function(e){return dd(e).then(e=>e.datastore)}(e);new ad(e.asyncQueue,r,t,n).run()}),n.promise}(jd(e=Cd(e,Vd)),n=>t(new ep(e,n)))}(this._delegate,t=>e(new lp(this,t)))}batch(){return jd(this._delegate),new up(new Gf(this._delegate,e=>Zf(this._delegate,e)))}loadBundle(e){return function(e,t){const n=jd(e=Cd(e,Vd)),r=new Ud;return function(e,t,n,r){const s=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new id(e,t)}(function(e,t){if(e instanceof Uint8Array)return rd(e,t);if(e instanceof ArrayBuffer)return rd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,bu(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=Gr(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Gr(e),r=Zo(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Kn.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(vh(r));const s=new yh(r,e.localStore,t.O);let i=await t.Kc();for(;i;){const e=await s.lc(i);e&&n._updateProgress(e),i=await t.Kc()}const o=await s.complete();await Vh(e,o.ws,void 0),await function(e,t){const n=Gr(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Kn.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){qr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await md(e),s,r)})}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=Gr(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Kn.getNamedQuery(e,t))}(await pd(e),t))}(jd(e=Cd(e,Vd)),t).then(t=>t?new Nd(e,null,t.query):null)}(this._delegate,e).then(e=>e?new vp(this,e):null)}}class cp extends Bf{constructor(e){super(),this.firestore=e}convertBytes(e){return new sp(new Gd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return dp.forKey(t,this.firestore,null)}}class lp{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}get(e){const t=Sp(e);return this._delegate.get(t).then(e=>new mp(this._firestore,new Cf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Sp(e);return n?(tp("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const s=Sp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Sp(e);return this._delegate.delete(t),this}}class up{constructor(e){this._delegate=e}set(e,t,n){const r=Sp(e);return n?(tp("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const s=Sp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Sp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hp{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new kf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yp(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=hp.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let s=r.get(t);return s||(s=new hp(e,new cp(e),t),r.set(t,s)),s}}hp.INSTANCES=new WeakMap;class dp{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Kr("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dp(t,new Od(t._delegate,n,new Rs(e)))}static forKey(e,t,n){return new dp(t,new Od(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new _p(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _p(this.firestore,Rd(this._delegate,e))}catch(t){throw fp(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,k.m9)(e))instanceof Od&&$d(this._delegate,e)}set(e,t){t=tp("DocumentReference.set",t);try{return t?Wf(this._delegate,e,t):Wf(this._delegate,e)}catch(n){throw fp(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Xf(this._delegate,e):Xf(this._delegate,e,t,...n)}catch(r){throw fp(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Zf(Cd(e.firestore,Vd),[new go(e._key,to.none())])}(this._delegate)}onSnapshot(...e){const t=pp(e),n=gp(e,e=>new mp(this.firestore,new Cf(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Qf(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Cd(e,Od);const t=Cd(e.firestore,Vd),n=jd(t),r=new Kf(t);return function(e,t){const n=new Wr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=Gr(e);return n.persistence.runTransaction("read document","readonly",e=>n.Us.ys(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Kr(Yr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=rh(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await pd(e),t,n)),n.promise}(n,e._key).then(n=>new Cf(t,r,e._key,n,new Tf(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Cd(e,Od);const t=Cd(e.firestore,Vd);return vd(jd(t),e._key,{source:"server"}).then(n=>Jf(t,e,n))}(this._delegate):function(e){e=Cd(e,Od);const t=Cd(e.firestore,Vd);return vd(jd(t),e._key).then(n=>Jf(t,e,n))}(this._delegate),t.then(e=>new mp(this.firestore,new Cf(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new dp(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}function fp(e,t,n){return e.message=e.message.replace(t,n),e}function pp(e){for(const t of e)if("object"==typeof t&&!ip(t))return t;return{}}function gp(e,t){var n,r;let s;return s=ip(e[0])?e[0]:ip(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{s.next&&s.next(t(e))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class mp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new dp(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Of(this._delegate,e._delegate)}}class yp extends mp{data(e){const t=this._delegate.data(e);return function(e,t){e||zr()}(void 0!==t),t}}class vp{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}where(e,t,n){try{return new vp(this.firestore,Rf(this._delegate,function(e,t,n){const r=t,s=Ef("where",e);return new Pf(s,r,n)}(e,t,n)))}catch(r){throw fp(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vp(this.firestore,Rf(this._delegate,function(e,t="asc"){const n=t,r=Ef("orderBy",e);return new $f(r,n)}(e,t)))}catch(n){throw fp(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vp(this.firestore,Rf(this._delegate,function(e){return kd("limit",e),new Lf("limit",e,"F")}(e)))}catch(t){throw fp(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vp(this.firestore,Rf(this._delegate,function(e){return kd("limitToLast",e),new Lf("limitToLast",e,"L")}(e)))}catch(t){throw fp(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vp(this.firestore,Rf(this._delegate,function(...e){return new Mf("startAt",e,!0)}(...e)))}catch(t){throw fp(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vp(this.firestore,Rf(this._delegate,function(...e){return new Mf("startAfter",e,!1)}(...e)))}catch(t){throw fp(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vp(this.firestore,Rf(this._delegate,function(...e){return new Ff("endBefore",e,!1)}(...e)))}catch(t){throw fp(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vp(this.firestore,Rf(this._delegate,function(...e){return new Ff("endAt",e,!0)}(...e)))}catch(t){throw fp(t,"endAt()","Query.endAt()")}}isEqual(e){return Ld(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Cd(e,Nd);const t=Cd(e.firestore,Vd),n=jd(t),r=new Kf(t);return function(e,t){const n=new Wr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await ql(e,t,!0),s=new _h(t,r.Ks),i=s.Ic(r.documents),o=s.applyChanges(i,!1);n.resolve(o.snapshot)}catch(e){const r=rh(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await pd(e),t,n)),n.promise}(n,e._query).then(n=>new Af(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Cd(e,Nd);const t=Cd(e.firestore,Vd),n=jd(t),r=new Kf(t);return wd(n,e._query,{source:"server"}).then(n=>new Af(t,r,e,n))}(this._delegate):function(e){e=Cd(e,Nd);const t=Cd(e.firestore,Vd),n=jd(t),r=new Kf(t);return Nf(e._query),wd(n,e._query).then(n=>new Af(t,r,e,n))}(this._delegate),t.then(e=>new bp(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=pp(e),n=gp(e,e=>new bp(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Qf(this._delegate,t,n)}withConverter(e){return new vp(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}class wp{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new yp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vp(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new wp(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new yp(this._firestore,n))})}isEqual(e){return Of(this._delegate,e._delegate)}}class _p extends vp{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dp(this.firestore,e):null}doc(e){try{return new dp(this.firestore,void 0===e?Pd(this._delegate):Pd(this._delegate,e))}catch(t){throw fp(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Cd(e.firestore,Vd),r=Pd(e),s=zf(e.converter,t);return Zf(n,[nf(tf(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,to.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new dp(this.firestore,e))}isEqual(e){return $d(this._delegate,e._delegate)}withConverter(e){return new _p(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}function Sp(e){return Cd(e,Od)}class Ip{constructor(...e){this._delegate=new Hd(...e)}static documentId(){return new Ip(vs.keyField().canonicalString())}isEqual(e){return(e=(0,k.m9)(e))instanceof Hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ep{constructor(e){this._delegate=e}static serverTimestamp(){const e=new of("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ep(e)}static delete(){const e=new rf("deleteField");return e._methodName="FieldValue.delete",new Ep(e)}static arrayUnion(...e){const t=function(...e){return new af("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Ep(t)}static arrayRemove(...e){const t=function(...e){return new cf("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Ep(t)}static increment(e){const t=function(e){return new lf("increment",e)}(e);return t._methodName="FieldValue.increment",new Ep(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Tp={Firestore:ap,GeoPoint:Kd,Timestamp:us,Blob:sp,Transaction:lp,WriteBatch:up,DocumentReference:dp,DocumentSnapshot:mp,Query:vp,QueryDocumentSnapshot:yp,QuerySnapshot:bp,CollectionReference:_p,FieldPath:Ip,FieldValue:Ep,setLogLevel:function(e){!function(e){Fr.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Cp;(Cp=I.Z).INTERNAL.registerComponent(new T.wA("firestore-compat",e=>{return t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate(),new ap(t,n,new op);var t,n},"PUBLIC").setServiceProps(Object.assign({},Tp))),Cp.registerVersion("@firebase/firestore-compat","0.1.14");var kp=n(4259),Ap=n(8346);function xp(e,t){return function(e,t=o.z){return new a.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Op(e,t){return xp(e,t).pipe((0,y.U)(e=>({payload:e,type:"query"})))}function Np(e,t){return Op(e,t).pipe((0,h.O)(void 0),f(),(0,y.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,s)=>{const i=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));i&&JSON.stringify(i.doc.metadata)===JSON.stringify(t.metadata)||!i&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:s,newIndex:s,type:"modified",doc:t}})}),r}))}function Dp(e,t,n){return Np(e,n).pipe((0,v.R)((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Rp(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Rp(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Rp(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(0,w.x)(),(0,y.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Rp(e,t,n,...r){const s=e.slice();return s.splice(t,n,...r),s}function Pp(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}n(2837);class $p{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Np(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,y.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,h.O)(void 0),f(),(0,b.h)(([e,t])=>t.length>0||!e),(0,y.U)(([e,t])=>t),u.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,v.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Pp(e);return Dp(this.query,t,this.afs.schedulers.outsideAngular).pipe(u.iC)}valueChanges(e={}){return Op(this.query,this.afs.schedulers.outsideAngular).pipe((0,y.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),u.iC)}get(e){return(0,c.D)(this.query.get(e)).pipe(u.iC)}add(e){return this.ref.add(e)}doc(e){return new Lp(this.ref.doc(e),this.afs)}}class Lp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:s}=qp(n,t);return new $p(r,s,this.afs)}snapshotChanges(){return xp(this.ref,this.afs.schedulers.outsideAngular).pipe((0,h.O)(void 0),f(),(0,y.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(u.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,y.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,c.D)(this.ref.get(e)).pipe(u.iC)}}class Mp{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Np(this.query,this.afs.schedulers.outsideAngular).pipe((0,y.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,b.h)(e=>e.length>0),u.iC):Np(this.query,this.afs.schedulers.outsideAngular).pipe(u.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,v.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Pp(e);return Dp(this.query,t,this.afs.schedulers.outsideAngular).pipe(u.iC)}valueChanges(e={}){return Op(this.query,this.afs.schedulers.outsideAngular).pipe((0,y.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),u.iC)}get(e){return(0,c.D)(this.query.get(e)).pipe(u.iC)}}const Fp=new i.OlP("angularfire2.enableFirestorePersistence"),Up=new i.OlP("angularfire2.firestore.persistenceSettings"),Vp=new i.OlP("angularfire2.firestore.settings"),jp=new i.OlP("angularfire2.firestore.use-emulator");function qp(e,t=(e=>e)){return{query:t(e),ref:e}}let Bp=(()=>{class e{constructor(e,t,n,r,s,i,o,a,u,h,d,f,p,g,m,y,v){this.schedulers=o;const w=(0,_.on)(e,i,t),b=u;h&&(0,kp.nw)(w,i,d,p,g,m,f,y),[this.firestore,this.persistenceEnabled$]=(0,_.cc)(`${w.name}.firestore`,"AngularFirestore",w.name,()=>{const e=i.runOutsideAngular(()=>w.firestore());if(r&&e.settings(r),b&&e.useEmulator(...b),n&&!(0,S.PM)(s)){const t=()=>{try{return(0,c.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,l.of)(!1)}};return[e,i.runOutsideAngular(t)]}return[e,(0,l.of)(!1)]},[r,b,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:s}=qp(n,t),i=this.schedulers.ngZone.run(()=>r);return new $p(i,s,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Mp(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Lp(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(_.Dh),i.LFG(_.xv,8),i.LFG(Fp,8),i.LFG(Vp,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(u.HU),i.LFG(Up,8),i.LFG(jp,8),i.LFG(kp.zQ,8),i.LFG(kp.Qv,8),i.LFG(kp.L6,8),i.LFG(kp._Q,8),i.LFG(kp.rT,8),i.LFG(kp.lh,8),i.LFG(kp.f7,8),i.LFG(Ap.nm,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),zp=(()=>{class e{constructor(e){this.database=e,this.dataUserDefault={id:null,name:"Sign in",secondName:"",email:"Need an Account?",img:"../../../assets/img/userDefault.png",password:null,phone:null,birth:null,themeUser:null,created_at:null,updated_at:null},this.dataUser=this.dataUserDefault,this.defaultDataUser=new s.X(this.dataUser),this.observableUser=this.defaultDataUser.asObservable()}changeDataUser(e){this.defaultDataUser.next(e)}create(e,t,n){return(0,r.mG)(this,void 0,void 0,function*(){try{return n?yield this.database.collection(e).doc(n).set(t):yield this.database.collection(e).add(t)}catch(r){console.log("error en create: ",r)}})}getAllCollection(e){return(0,r.mG)(this,void 0,void 0,function*(){try{return yield this.database.collection(e).valueChanges()}catch(t){console.log("Error en getAll: ",t)}})}getAllCollectionGroup(e,t,n,s,i,o){return(0,r.mG)(this,void 0,void 0,function*(){try{return yield this.database.collectionGroup(e,e=>e.where(t,n,s).orderBy(i,o)).valueChanges()}catch(r){console.log("Error en getAll: ",r)}})}getById(e,t){return(0,r.mG)(this,void 0,void 0,function*(){try{return yield this.database.collection(e).doc(t).valueChanges()}catch(n){console.log("Error en el getById: ",n)}})}update(e,t,n){return(0,r.mG)(this,void 0,void 0,function*(){try{return yield this.database.collection(e).doc(t).update(n)}catch(r){console.log("Error en el update: ",r)}})}delete(e,t){return(0,r.mG)(this,void 0,void 0,function*(){try{return yield this.database.collection(e).doc(t).delete()}catch(n){console.log("Error en el delete: ",n)}})}createNewRandomId(){return this.database.createId()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Bp))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2425:(e,t,n)=>{"use strict";var r=n(6274),s=n(7272);class i extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends i{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,c=null;const l=new s.OlP("TRANSITION_ID"),u=[{provide:s.ip1,useFactory:function(e,t,n){return()=>{n.get(s.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[l,r.K0,s.zs3],multi:!0}];class h{static init(){(0,s.VLi)(new h)}addToWindow(e){s.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(e=>{const t=s.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const f=new s.OlP("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(f),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}let m=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r.q)().remove(e)}const w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function _(e,t,n){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?_(e,s,n):(s=s.replace(b,e),n.push(s))}return n}function S(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let I=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new E(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new T(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case s.ifc.ShadowDom:return new C(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(p),s.LFG(y),s.LFG(s.AFp))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class E{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(w[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=w[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=w[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,n,r&s.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,S(n)):this.eventManager.addEventListener(e,t,S(n))}}class T extends E{constructor(e,t,n,r){super(e),this.component=n;const s=_(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class C extends E{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const e=document.createElement("style");e.textContent=s[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let k=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const A=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},N={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let D=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,s){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let i="";if(A.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),i+=e+".")}),i+=s,0!=n.length||0===s.length)return null;const o={};return o.domEventName=r,o.fullKey=i,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&O.hasOwnProperty(t)&&(t=O[t]))}return x[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,N[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return s=>{e.getEventFullKey(s)===t&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const R=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:r.bD},{provide:s.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),P=[[],{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:f,useClass:k,multi:!0,deps:[r.K0,s.R0b,s.Lbi]},{provide:f,useClass:D,multi:!0,deps:[r.K0]},[],{provide:I,useClass:I,deps:[p,y,s.AFp]},{provide:s.FYo,useExisting:I},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:p,useClass:p,deps:[f,s.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let $=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:s.AFp,useValue:t.appId},{provide:l,useExisting:s.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(e,12))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:P,imports:[r.ez,s.hGG]}),e})();"undefined"!=typeof window&&window;var L=n(8895),M=n(1887),F=n(8620);function U(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}var V,j=n(2604);const q=new s.OlP("STORAGE_CONFIG_TOKEN");class B extends j.K{constructor(){super()}create(){return U(this,void 0,void 0,function*(){return this})}defineDriver(){return U(this,void 0,void 0,function*(){})}get driver(){return"noop"}get(e){return U(this,void 0,void 0,function*(){return null})}set(e,t){return U(this,void 0,void 0,function*(){})}remove(e){return U(this,void 0,void 0,function*(){})}clear(){return U(this,void 0,void 0,function*(){})}length(){return U(this,void 0,void 0,function*(){return 0})}keys(){return U(this,void 0,void 0,function*(){return[]})}forEach(e){return U(this,void 0,void 0,function*(){})}setEncryptionKey(e){}}function z(e){return(0,r.PM)(this.platformId)?new B:new j.K(e)}let H=V=class{static forRoot(e=null){return{ngModule:V,providers:[{provide:q,useValue:e},{provide:j.K,useFactory:z,deps:[q]}]}}};H.\u0275fac=function(e){return new(e||H)},H.\u0275mod=s.oAB({type:H}),H.\u0275inj=s.cJS({});var G=n(1855),Y=n(4422),K=n(2149),W=n(5136);function X(e,t){if(1&e&&(s.TgZ(0,"ion-title",33),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.dataUser.name)}}function Q(e,t){if(1&e&&(s.TgZ(0,"ion-title",34),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.AsE("",e.dataUser.name," ",e.dataUser.secondName,"")}}function Z(e,t){if(1&e&&(s.TgZ(0,"ion-text",35),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.dataUser.email)}}function J(e,t){if(1&e&&(s.TgZ(0,"ion-text",36),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.dataUser.email)}}function ee(e,t){1&e&&(s.TgZ(0,"ion-item",37),s._UZ(1,"ion-icon",38),s._uU(2,"Personal Data "),s.qZA())}function te(e,t){1&e&&(s.TgZ(0,"ion-item",39),s._UZ(1,"ion-icon",40),s._uU(2,"My Favorites "),s.qZA())}function ne(e,t){1&e&&(s.TgZ(0,"ion-item",41),s._UZ(1,"ion-icon",42),s._uU(2,"Orders "),s.qZA())}function re(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ion-item",43),s.NdJ("click",function(){return s.CHM(e),s.oxw().logOut()}),s._UZ(1,"ion-icon",44),s.TgZ(2,"ion-text",45),s._uU(3," Log out "),s.qZA(),s.qZA()}}let se=(()=>{class e{constructor(e,t,n,r,s){this.renderer=e,this.router=t,this.authUserService=n,this.databaseService=r,this.dataService=s,this.theme=!1,this.restaurantsFromOrdersUsers={array:[]},this.isLogged=!1}ngOnInit(){this.databaseService.observableUser.subscribe(e=>this.dataUser=e),this.isLog(),this.dataService.currentArrRestaurantsFromOrdersUsers.subscribe(e=>this.restaurantsFromOrdersUsers=e)}logOut(){return(0,G.mG)(this,void 0,void 0,function*(){this.userSubscription.unsubscribe(),yield this.authUserService.logout(),this.theme=!1,this.checkTheme(),this.isLogged=!1})}isLog(){return(0,G.mG)(this,void 0,void 0,function*(){(yield this.authUserService.getStateUser()).subscribe(e=>{e&&null!==e.uid?(console.log("uid del usuario: ",e.uid),this.databaseService.getById("usuarios",e.uid).then(e=>this.userSubscription=e.subscribe(e=>{this.databaseService.changeDataUser(e),console.log("carga datos en app.component",e),this.theme=this.dataUser.themeUser,this.checkTheme(),this.isLogged=!0,this.getRestaurantsFromOrdersUsers()}))):(console.log("user not logged in"),this.renderer.setAttribute(document.body,"color-theme","light"),this.imgFooter="../../../assets/logos/logo_XL.png",this.theme=!1)})})}checkTheme(){this.dataUser.themeUser?(console.log("imagen oscura"),this.imgFooter="../../../assets/logos/Otium_Transparet_No Shadow.png",this.theme=this.dataUser.themeUser,this.renderer.setAttribute(document.body,"color-theme","dark")):(console.log("imagen clara"),this.renderer.setAttribute(document.body,"color-theme","light"),this.imgFooter="../../../assets/logos/logo_XL.png",this.theme=this.dataUser.themeUser)}getRestaurantsFromOrdersUsers(){this.dataService.getRestaurantsFromOrdersUsers("restaurantFromOrdersUsers",this.dataUser.id).then(e=>e.subscribe(e=>{console.log("data => ",e),void 0!==e&&(this.restaurantsFromOrdersUsers=e,this.dataService.updateRestaurantFromOrdersUsers(this.restaurantsFromOrdersUsers),console.log("ngOnInit() this.restaurantFromOrdersUsers -> ",this.restaurantsFromOrdersUsers))}))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(L.F0),s.Y36(Y.C),s.Y36(K.k),s.Y36(W.D))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-root"]],decls:48,vars:10,consts:[["side","end","menuId","header","contentId","main","mode","md"],[1,"custom-shape-divider-top-1640088494"],["data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1200 120","preserveAspectRatio","none"],["d","M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z","opacity",".25",1,"shape-fill"],["d","M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z","opacity",".5",1,"shape-fill"],["d","M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",1,"shape-fill"],[1,"avatar-container"],[1,"",3,"src"],[1,"flex-menu"],[1,"ion-padding","alinear"],["class","ion-padding","routerLink","log-in",4,"ngIf"],["class","ion-padding",4,"ngIf"],["id","data"],["color","primary","routerLink","register",4,"ngIf"],["color","primary","routerLink","personal",4,"ngIf"],["lines","none","routerLink","welcome"],["name","home-outline","slot","start"],["lines","none","routerLink","personal",4,"ngIf"],["lines","none","routerLink","favoritos",4,"ngIf"],["lines","none","routerLink","orders-restaurants",4,"ngIf"],["lines","none","routerLink","comentarios"],["name","chatbubbles-outline","slot","start"],["lines","none","routerLink","share"],["name","share-outline","slot","start"],["lines","none","routerLink","earn"],["src","../../../assets/icon/otium.png","alt","logo otium",2,"padding-right","9%"],["lines","none","routerLink","contacta"],["name","information-circle-outline","slot","start"],["lines","none",3,"click",4,"ngIf"],["lines","full","routerLink","settings"],["name","settings-outline","slot","start"],[1,"img-otium",3,"src"],["id","main"],["routerLink","log-in",1,"ion-padding"],[1,"ion-padding"],["color","primary","routerLink","register"],["color","primary","routerLink","personal"],["lines","none","routerLink","personal"],["name","person-outline","slot","start"],["lines","none","routerLink","favoritos"],["name","heart-outline","slot","start"],["lines","none","routerLink","orders-restaurants"],["name","newspaper-outline","slot","start"],["lines","none",3,"click"],["name","log-out-outline","slot","start","color","danger"],["color","danger"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-app"),s.TgZ(1,"ion-menu",0),s.TgZ(2,"ion-header"),s.TgZ(3,"ion-toolbar"),s.TgZ(4,"div",1),s.O4$(),s.TgZ(5,"svg",2),s._UZ(6,"path",3),s._UZ(7,"path",4),s._UZ(8,"path",5),s.qZA(),s.qZA(),s.kcU(),s.TgZ(9,"div",6),s.TgZ(10,"ion-avatar"),s._UZ(11,"img",7),s.qZA(),s.qZA(),s.TgZ(12,"ion-menu-toggle",8),s.TgZ(13,"div",9),s.YNc(14,X,2,1,"ion-title",10),s.YNc(15,Q,2,2,"ion-title",11),s.TgZ(16,"div",12),s.YNc(17,Z,2,1,"ion-text",13),s.YNc(18,J,2,1,"ion-text",14),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"ion-content"),s.TgZ(20,"ion-list"),s.TgZ(21,"ion-menu-toggle",8),s.TgZ(22,"div"),s.TgZ(23,"ion-item",15),s._UZ(24,"ion-icon",16),s._uU(25,"Home "),s.qZA(),s.YNc(26,ee,3,0,"ion-item",17),s.YNc(27,te,3,0,"ion-item",18),s.YNc(28,ne,3,0,"ion-item",19),s.TgZ(29,"ion-item",20),s._UZ(30,"ion-icon",21),s._uU(31,"Leave a comment "),s.qZA(),s.TgZ(32,"ion-item",22),s._UZ(33,"ion-icon",23),s._uU(34,"Share your table "),s.qZA(),s.TgZ(35,"ion-item",24),s._UZ(36,"img",25),s._uU(37,"Earn Otiums "),s.qZA(),s.TgZ(38,"ion-item",26),s._UZ(39,"ion-icon",27),s._uU(40,"Contact us "),s.qZA(),s.YNc(41,re,4,0,"ion-item",28),s.qZA(),s.TgZ(42,"div"),s.TgZ(43,"ion-item",29),s._UZ(44,"ion-icon",30),s._uU(45,"Settings "),s.qZA(),s._UZ(46,"ion-img",31),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(47,"ion-router-outlet",32),s.qZA()),2&e&&(s.xp6(11),s.s9C("src",t.dataUser.img,s.LSH),s.xp6(3),s.Q6J("ngIf","Sign in"===t.dataUser.name),s.xp6(1),s.Q6J("ngIf","Sign in"!==t.dataUser.name),s.xp6(2),s.Q6J("ngIf","Need an Account?"===t.dataUser.email),s.xp6(1),s.Q6J("ngIf","Need an Account?"!==t.dataUser.email),s.xp6(8),s.Q6J("ngIf",t.isLogged),s.xp6(1),s.Q6J("ngIf",t.isLogged),s.xp6(1),s.Q6J("ngIf",t.isLogged),s.xp6(13),s.Q6J("ngIf",t.isLogged),s.xp6(5),s.s9C("src",t.imgFooter))},directives:[F.dr,F.z0,F.Gu,F.sr,F.BJ,F.zc,r.O5,F.W2,F.q_,F.Ie,F.YI,L.rH,F.gu,F.Xz,F.jP,F.wd,F.yW],styles:[".alinear[_ngcontent-%COMP%]{text-align:center}.avatar[_ngcontent-%COMP%]{width:72%;height:72%;margin-top:10px}.avatar-container[_ngcontent-%COMP%]{z-index:100;margin-left:124px!important;margin-top:50px!important}a[_ngcontent-%COMP%]{text-decoration:none}.img-otium[_ngcontent-%COMP%]{height:50px;margin:1rem auto}.flex-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}ion-list[_ngcontent-%COMP%], ion-menu-toggle[_ngcontent-%COMP%]{height:100%}.custom-shape-divider-top-1640088494[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;overflow:hidden;line-height:0}.custom-shape-divider-top-1640088494[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{z-index:-100;position:relative;display:block;width:calc(100% + 1.3px);height:180px}.custom-shape-divider-top-1640088494[_ngcontent-%COMP%]   .shape-fill[_ngcontent-%COMP%]{fill:#9013fe}@media (max-width: 767px){.custom-shape-divider-top-1640088494[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:calc(221% + 1.3px);height:140px}}"]}),e})();const ie=[{path:"",redirectTo:"welcome",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([n.e(8592),n.e(1691)]).then(n.bind(n,1691)).then(e=>e.HomePageModule)},{path:"welcome",loadChildren:()=>Promise.all([n.e(8592),n.e(1052)]).then(n.bind(n,1052)).then(e=>e.WelcomePageModule)},{path:"log-in",loadChildren:()=>Promise.all([n.e(8592),n.e(4251)]).then(n.bind(n,4251)).then(e=>e.LogInPageModule)},{path:"select",loadChildren:()=>Promise.all([n.e(8592),n.e(5157)]).then(n.bind(n,5157)).then(e=>e.SelectPageModule)},{path:"restaurant-menu-modal",loadChildren:()=>Promise.all([n.e(8592),n.e(6819)]).then(n.bind(n,6819)).then(e=>e.RestaurantMenuModalPageModule)},{path:"map",loadChildren:()=>Promise.all([n.e(8592),n.e(5456)]).then(n.bind(n,5456)).then(e=>e.MapPageModule)},{path:"qr",loadChildren:()=>Promise.all([n.e(8592),n.e(9795)]).then(n.bind(n,9795)).then(e=>e.QrPageModule)},{path:"pago",loadChildren:()=>Promise.all([n.e(8592),n.e(5935)]).then(n.bind(n,5935)).then(e=>e.PagoPageModule)},{path:"pedido",loadChildren:()=>Promise.all([n.e(8592),n.e(4382)]).then(n.bind(n,4382)).then(e=>e.PedidoPageModule)},{path:"personal",loadChildren:()=>Promise.all([n.e(8592),n.e(6794)]).then(n.bind(n,6794)).then(e=>e.PersonalPageModule)},{path:"favoritos",loadChildren:()=>Promise.all([n.e(8592),n.e(796)]).then(n.bind(n,796)).then(e=>e.FavoritosPageModule)},{path:"orders",loadChildren:()=>Promise.all([n.e(8592),n.e(2801)]).then(n.bind(n,2801)).then(e=>e.OrdersPageModule)},{path:"comentarios",loadChildren:()=>Promise.all([n.e(8592),n.e(4776)]).then(n.bind(n,4776)).then(e=>e.ComentariosPageModule)},{path:"share",loadChildren:()=>Promise.all([n.e(8592),n.e(9365)]).then(n.bind(n,9365)).then(e=>e.SharePageModule)},{path:"earn",loadChildren:()=>Promise.all([n.e(8592),n.e(5422)]).then(n.bind(n,5422)).then(e=>e.EarnPageModule)},{path:"settings",loadChildren:()=>Promise.all([n.e(8592),n.e(9931)]).then(n.bind(n,9931)).then(e=>e.SettingsPageModule)},{path:"register",loadChildren:()=>Promise.all([n.e(8592),n.e(4836)]).then(n.bind(n,4836)).then(e=>e.RegisterPageModule)},{path:"order-placed",loadChildren:()=>Promise.all([n.e(8592),n.e(997)]).then(n.bind(n,997)).then(e=>e.OrderPlacedPageModule)},{path:"contacta",loadChildren:()=>Promise.all([n.e(8592),n.e(446)]).then(n.bind(n,446)).then(e=>e.ContactaPageModule)},{path:"restaurant-menu",loadChildren:()=>Promise.all([n.e(8592),n.e(5336)]).then(n.bind(n,5336)).then(e=>e.RestaurantMenuPageModule)},{path:"update",loadChildren:()=>Promise.all([n.e(8592),n.e(7837)]).then(n.bind(n,7837)).then(e=>e.UpdatePageModule)},{path:"orders-details-modal",loadChildren:()=>Promise.all([n.e(8592),n.e(3014)]).then(n.bind(n,3014)).then(e=>e.OrdersDetailsModalPageModule)},{path:"credit-card",loadChildren:()=>Promise.all([n.e(8592),n.e(1857)]).then(n.bind(n,1857)).then(e=>e.CreditCardPageModule)},{path:"orders-restaurants",loadChildren:()=>Promise.all([n.e(8592),n.e(8199)]).then(n.bind(n,8199)).then(e=>e.OrdersRestaurantsPageModule)}];let oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[L.Bz.forRoot(ie,{preloadingStrategy:L.wm})],L.Bz]}),e})();var ae=n(9106),ce=n(3948),le=n(4958),ue={error:"cordova_not_available"},he={error:"plugin_not_installed"};function de(e){if("undefined"!=typeof window&&window.angular){var t=window.document,n=window.angular.element(t.querySelector("[ng-app]")||t.body).injector();if(n)return n.get("$q")(function(t,n){e(t,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(t,n){e(t,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function fe(e,t,n,r){var s,i;void 0===r&&(r={});var o=de(function(o,a){s=r.destruct?ve(e,t,n,r,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}):ve(e,t,n,r,o,a),i=a});return s&&s.error&&(o.catch(function(){}),"function"==typeof i&&i(s.error)),o}function pe(e,t,n,r){return void 0===r&&(r={}),de(function(s,i){var o=ve(e,t,n,r);o?o.error?i(o.error):o.then&&o.then(s).catch(i):i({error:"unexpected_error"})})}function ge(e,t,n,r){return void 0===r&&(r={}),new ce.y(function(s){var i;return(i=r.destruct?ve(e,t,n,r,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.next(e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.error(e)}):ve(e,t,n,r,s.next.bind(s),s.error.bind(s)))&&i.error&&(s.error(i.error),s.complete()),function(){try{if(r.clearFunction)return r.clearWithArgs?ve(e,r.clearFunction,n,r,s.next.bind(s),s.error.bind(s)):ve(e,r.clearFunction,[])}catch(i){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(i)}}})}function me(e,t){return t="undefined"!=typeof window&&t?be(window,t):t||("undefined"!=typeof window?window:{}),(0,le.R)(t,e)}function ye(e,t,n){var r,s,i;return"string"==typeof e?r=e:(r=e.constructor.getPluginRef(),n=e.constructor.getPluginName(),i=e.constructor.getPluginInstallName()),!(!(s=we(r))||t&&void 0===s[t])||("undefined"!=typeof window&&window.cordova?(function(e,t,n){n?console.warn("Native: tried calling "+e+"."+n+", but the "+e+" plugin is not installed."):console.warn("Native: tried accessing the "+e+" plugin but it's not installed."),t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}(n,i,t),he):(function(e,t){"undefined"==typeof process&&(t?console.warn("Native: tried calling "+e+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(n,t),ue))}function ve(e,t,n,r,s,i){void 0===r&&(r={}),n=function(e,t,n,r){if(void 0===t&&(t={}),t.sync)return e;if("reverse"===t.callbackOrder)e.unshift(r),e.unshift(n);else if("node"===t.callbackStyle)e.push(function(e,t){e?r(e):n(t)});else if("object"===t.callbackStyle&&t.successName&&t.errorName){var s={};s[t.successName]=n,s[t.errorName]=r,e.push(s)}else if(void 0!==t.successIndex||void 0!==t.errorIndex){var i=function(){t.successIndex>e.length?e[t.successIndex]=n:e.splice(t.successIndex,0,n)},o=function(){t.errorIndex>e.length?e[t.errorIndex]=r:e.splice(t.errorIndex,0,r)};t.successIndex>t.errorIndex?(o(),i()):(i(),o())}else e.push(n),e.push(r);return e}(n,r,s,i);var o=ye(e,t);if(!0===o){var a=we(e.constructor.getPluginRef());return a[t].apply(a,n)}return o}function we(e){return"undefined"!=typeof window?be(window,e):null}function be(e,t){for(var n=t.split("."),r=e,s=0;s<n.length;s++){if(!r)return null;r=r[n[s]]}return r}var _e=function(){function e(){}return e.installed=function(){return!0===ye(this.pluginRef)},e.getPlugin=function(){return"undefined"!=typeof window?function(e,t){for(var n=t.split("."),r=e,s=0;s<n.length;s++){if(!r)return null;r=r[n[s]]}return r}(window,this.pluginRef):null},e.getPluginName=function(){return this.pluginName},e.getPluginRef=function(){return this.pluginRef},e.getPluginInstallName=function(){return this.plugin},e.getSupportedPlatforms=function(){return this.platforms},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function Se(e,t,n,r){return function(e,t,n){return void 0===n&&(n={}),function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return n.sync?ve(e,t,r,n):n.observable?ge(e,t,r,n):n.eventObservable&&n.event?me(n.event,n.element):n.otherPromise?pe(e,t,r,n):fe(e,t,r,n)}}(e,t,n).apply(this,r)}!function(){if("undefined"==typeof process){var e="undefined"!=typeof window?window:{},t=Date.now(),n=!1;e.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),n=!0}),setTimeout(function(){!n&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},t.EncodingType={JPEG:0,PNG:1},t.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},t.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},t.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},t.Direction={BACK:0,FRONT:1},t}return(0,G.ZT)(t,e),t.prototype.getPicture=function(e){return Se(this,"getPicture",{callbackOrder:"reverse"},arguments)},t.prototype.cleanup=function(){return Se(this,"cleanup",{platforms:["iOS"]},arguments)},t.pluginName="Camera",t.plugin="cordova-plugin-camera",t.pluginRef="navigator.camera",t.repo="https://github.com/apache/cordova-plugin-camera",t.platforms=["Android","Browser","iOS","Windows"],t.\u0275fac=function(){var e;return function(n){return(e||(e=s.n5z(t)))(n||t)}}(),t.\u0275prov=s.Yz7({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(_e),Ee=n(9765),Te=n(7535),Ce=n(267),ke=n(1144),Ae=n(6006),xe=n(1859);const Oe=new ce.y(xe.Z);var Ne=n(636),De=n(8561),Re=n(3305),Pe=n(2812),$e=n(6544),Le=n(9917),Me=n(4089),Fe=n(8846),Ue=n(8744),Ve=n(3585);class je{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new qe(e,this.delay,this.scheduler))}}class qe extends Ue.L{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,s=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(qe.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new Be(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Ve.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Ve.P.createComplete()),this.unsubscribe()}}class Be{constructor(e,t){this.time=e,this.notification=t}}const ze="Service workers are disabled or not supported by this browser";class He{constructor(e){if(this.serviceWorker=e,e){const t=(0,le.R)(e,"controllerchange").pipe((0,De.U)(()=>e.controller)),n=(0,Ee.P)(()=>(0,Ce.of)(e.controller)),r=(0,ke.z)(n,t);this.worker=r.pipe((0,Re.h)(e=>!!e)),this.registration=this.worker.pipe((0,Pe.w)(()=>e.getRegistration()));const s=(0,le.R)(e,"message").pipe((0,De.U)(e=>e.data)).pipe((0,Re.h)(e=>e&&e.type)).pipe((0,$e.O)(new Ae.xQ));s.connect(),this.events=s}else this.worker=this.events=this.registration=(0,Ee.P)(()=>(0,Te._)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(e,t){return this.worker.pipe((0,Le.q)(1),(0,Me.b)(n=>{n.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithStatus(e,t,n){const r=this.waitForStatus(n),s=this.postMessage(e,t);return Promise.all([r,s]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){return this.events.pipe((0,Re.h)(t=>t.type===e))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,Le.q)(1))}waitForStatus(e){return this.eventsOfType("STATUS").pipe((0,Re.h)(t=>t.nonce===e),(0,Le.q)(1),(0,De.U)(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ge=(()=>{class e{constructor(e){if(this.sw=e,this.subscriptionChanges=new Ae.xQ,!e.isEnabled)return this.messages=Oe,this.notificationClicks=Oe,void(this.subscription=Oe);this.messages=this.sw.eventsOfType("PUSH").pipe((0,De.U)(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,De.U)(e=>e.data)),this.pushManager=this.sw.registration.pipe((0,De.U)(e=>e.pushManager));const t=this.pushManager.pipe((0,Pe.w)(e=>e.getSubscription()));this.subscription=(0,Ne.T)(t,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(ze));const t={userVisibleOnly:!0};let n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return t.applicationServerKey=r,this.pushManager.pipe((0,Pe.w)(e=>e.subscribe(t)),(0,Le.q)(1)).toPromise().then(e=>(this.subscriptionChanges.next(e),e))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Le.q)(1),(0,Pe.w)(e=>{if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(e=>{if(!e)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ze))}decodeBase64(e){return atob(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(He))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),Ye=(()=>{class e{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=Oe,this.activated=Oe,void(this.unrecoverable=Oe);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ze));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ze));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(He))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class Ke{}const We=new s.OlP("NGSW_REGISTER_SCRIPT");function Xe(e,t,n,i){return()=>{if(!(0,r.NF)(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)o=n.registrationStrategy();else{const[t,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(t){case"registerImmediately":o=(0,Ce.of)(null);break;case"registerWithDelay":o=Qe(+r[0]||0);break;case"registerWhenStable":o=r[0]?(0,Ne.T)(Ze(e),Qe(+r[0])):Ze(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}e.get(s.R0b).runOutsideAngular(()=>o.pipe((0,Le.q)(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(e=>console.error("Service worker registration failed with:",e))))}}function Qe(e){return(0,Ce.of)(null).pipe(function(e,t=Fe.P){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new je(r,t))}(e))}function Ze(e){return e.get(s.z2F).isStable.pipe((0,Re.h)(e=>e))}function Je(e,t){return new He((0,r.NF)(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let et=(()=>{class e{static register(t,n={}){return{ngModule:e,providers:[{provide:We,useValue:t},{provide:Ke,useValue:n},{provide:He,useFactory:Je,deps:[Ke,s.Lbi]},{provide:s.ip1,useFactory:Xe,deps:[s.zs3,We,Ke,s.Lbi],multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Ge,Ye]}),e})();const tt={apiKey:"AIzaSyA5Rc_jF90hlTP-lKJxP0wPExv4RrwmSv0",authDomain:"test-fbapp-bf87d.firebaseapp.com",projectId:"test-fbapp-bf87d",storageBucket:"test-fbapp-bf87d.appspot.com",messagingSenderId:"28595095827",appId:"1:28595095827:web:8582f66c73a22d01b332e6"};var nt=n(129),rt=n(9847),st=n(3139),it=n(4259);let ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e,bootstrap:[se]}),e.\u0275inj=s.cJS({providers:[Ie,nt.e,st.i,rt.m,{provide:L.wN,useClass:F.r4}],imports:[[$,F.Pc.forRoot(),oe,M.JF,H.forRoot(),et.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),ae.hO.initializeApp(tt),it.ww]]}),e})();var at=n(9074);(0,s.G48)(),R().bootstrapModule(ot).catch(e=>console.log(e)),window,(0,at.a)().then(()=>{(0,at.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[32,"keyup","handleBackdropKeyUp"]]]]]],void 0)})},863:(e,t,n)=>{var r={"./ion-action-sheet.entry.js":[5261,8592,5261],"./ion-alert.entry.js":[26,8592,26],"./ion-app_8.entry.js":[9009,8592,9009],"./ion-avatar_3.entry.js":[7221,8592,7221],"./ion-back-button.entry.js":[4694,8592,4694],"./ion-backdrop.entry.js":[993,993],"./ion-button_2.entry.js":[3645,8592,3645],"./ion-card_5.entry.js":[2245,8592,2245],"./ion-checkbox.entry.js":[3482,8592,3482],"./ion-chip.entry.js":[4081,8592,4081],"./ion-col_3.entry.js":[3315,3315],"./ion-datetime_3.entry.js":[4133,8592,4133],"./ion-fab_3.entry.js":[7542,8592,7542],"./ion-img.entry.js":[1459,1459],"./ion-infinite-scroll_2.entry.js":[7618,8592,7618],"./ion-input.entry.js":[101,8592,101],"./ion-item-option_3.entry.js":[2210,8592,2210],"./ion-item_8.entry.js":[7370,8592,7370],"./ion-loading.entry.js":[3652,8592,3652],"./ion-menu_3.entry.js":[8220,8592,8220],"./ion-modal.entry.js":[5500,8592,5500],"./ion-nav_2.entry.js":[4913,8592,4913],"./ion-popover.entry.js":[5078,8592,5078],"./ion-progress-bar.entry.js":[4857,8592,4857],"./ion-radio_2.entry.js":[8958,8592,8958],"./ion-range.entry.js":[4383,8592,4383],"./ion-refresher_2.entry.js":[7630,8592,7630],"./ion-reorder_2.entry.js":[1297,8592,1297],"./ion-ripple-effect.entry.js":[5492,5492],"./ion-route_4.entry.js":[3752,8592,3752],"./ion-searchbar.entry.js":[7487,8592,7487],"./ion-segment_2.entry.js":[1778,8592,1778],"./ion-select_3.entry.js":[2904,8592,2904],"./ion-slide_2.entry.js":[1609,1609],"./ion-spinner.entry.js":[1218,8592,1218],"./ion-split-pane.entry.js":[2849,2849],"./ion-tab-bar_2.entry.js":[4127,8592,4127],"./ion-tab_2.entry.js":[8400,8592,8400],"./ion-text.entry.js":[4397,8592,4397],"./ion-textarea.entry.js":[3391,8592,3391],"./ion-toast.entry.js":[6793,8592,6793],"./ion-toggle.entry.js":[1695,8592,1695],"./ion-virtual-scroll.entry.js":[4180,4180]};function s(e){if(!n.o(r,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n(s))}s.keys=()=>Object.keys(r),s.id=863,e.exports=s},5899:(e,t,n)=>{var r={"./pwa-action-sheet.entry.js":[8274,8274],"./pwa-camera-modal-instance.entry.js":[3221,3221],"./pwa-camera-modal.entry.js":[3489,3489],"./pwa-camera.entry.js":[3705,3705],"./pwa-toast.entry.js":[4223,4223]};function s(e){if(!n.o(r,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],s=t[0];return n.e(t[1]).then(()=>n(s))}s.keys=()=>Object.keys(r),s.id=5899,e.exports=s}},e=>{"use strict";e(e.s=2425)}]);