(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[2801],{2801:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OrdersPageModule:()=>f});var n=r(6274),i=r(4988),o=r(8620),a=r(8895),s=r(1855),c=r(630),d=r(7272),g=r(5136),l=r(2149),m=r(6880),p=r(3883);function u(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ion-item"),d.TgZ(1,"ion-grid",3),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().loadOrderFromDatabase(t.path,t.idOrder)}),d.TgZ(2,"ion-row"),d.TgZ(3,"ion-col",4),d._UZ(4,"ion-img",5),d.qZA(),d.TgZ(5,"ion-col",6),d.TgZ(6,"ion-card-header",7),d.TgZ(7,"ion-card-title",8),d._uU(8),d.qZA(),d.TgZ(9,"ion-card-subtitle"),d._uU(10),d.ALo(11,"date"),d.qZA(),d.TgZ(12,"ion-card-content",9),d._uU(13),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,r=d.oxw();d.xp6(4),d.s9C("src",e.imgRestaurant),d.xp6(4),d.Oqu(e.nameRestaurant),d.xp6(2),d.Oqu(d.xi3(11,4,r.commonService.dateFirestoreToDate(e.dateOrder),"medium")),d.xp6(3),d.hij(" Price: ",e.totalPrice,"\u20ac ")}}function h(e,t){1&e&&(d.TgZ(0,"h3",10),d._uU(1,"No orders have been placed"),d.qZA())}const O=[{path:"",component:(()=>{class e{constructor(e,t,r,n){this.dataService=e,this.databaseService=t,this.modalCtrl=r,this.commonService=n,this.orders=[]}ngOnInit(){this.databaseService.observableUser.subscribe(e=>this.dataUser=e),this.dataService.currentOrdersPath.subscribe(e=>this.ordersPath=e),this.loadOrdersFromOneRestaurant()}loadOrdersFromOneRestaurant(){this.dataService.getRestaurantUserOrdersFromOneRestaurant(this.ordersPath).then(e=>e.subscribe(e=>{this.orders=e}))}mostrarModal(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:c.t});yield e.present()})}loadOrderFromDatabase(e,t){let r=!1;this.dataService.getRestaurantOrder(e,t).then(e=>e.subscribe(e=>{this.dataService.updateOrder(e),console.log("DATOS DEL PEDIDO ACTUAL-> ",e),r||(this.mostrarModal(),r=!0)}))}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(g.D),d.Y36(l.k),d.Y36(o.IN),d.Y36(m.v))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-orders"]],decls:5,vars:2,consts:[["mode","ios"],[4,"ngFor","ngForOf"],["class","ion-padding-start",4,"ngIf"],["fixed","",3,"click"],["size","3",1,"container-img"],[1,"img-logo",3,"src"],["size","9"],[1,"ion-no-padding","margin-bottom","margin"],[1,"margin-bottom"],[1,"ion-no-padding"],[1,"ion-padding-start"]],template:function(e,t){1&e&&(d._UZ(0,"app-header"),d.TgZ(1,"ion-content"),d.TgZ(2,"ion-card",0),d.YNc(3,u,14,7,"ion-item",1),d.YNc(4,h,2,0,"h3",2),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngForOf",t.orders),d.xp6(1),d.Q6J("ngIf",t.orders.length<1))},directives:[p.G,o.W2,o.PM,n.sg,n.O5,o.Ie,o.jY,o.Nd,o.wI,o.Xz,o.Zi,o.gZ,o.tO,o.FN],pipes:[n.uU],styles:[".img-logo[_ngcontent-%COMP%]{width:48px;display:block}.container-img[_ngcontent-%COMP%]{display:flex;align-items:center}ion-row[_ngcontent-%COMP%]{--ion-grid-padding:0px}ion-col[_ngcontent-%COMP%]{--ion-grid-column-padding:0px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:.625rem}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.Bz.forChild(O)],a.Bz]}),e})();var b=r(9258);let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.ez,i.u5,o.Pc,Z,b.K]]}),e})()}}]);