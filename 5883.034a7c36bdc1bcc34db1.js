(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[5883],{5883:(t,e,n)=>{"use strict";n.r(e),n.d(e,{RestaurantMenuPageModule:()=>_});var o=n(6274),i=n(4988),r=n(4683),a=n(3722),s=n(1855),c=n(4396);class d{constructor(t,e,n,o,i,r,a,s){this.idOrder=t,this.idLine=e,this.idProduct=n,this.nameProduct=i,this.codeExtrasAndAllergy=o,this.extras=r,this.amount=a,this.price=s}}var l=n(7272),u=n(1887);let g=(()=>{class t{constructor(t){this.http=t}getRestaurantMenu(){return this.http.get("/assets/data/restaurant-menu.json")}getRestaurantMenuCategory(){return this.http.get("/assets/data/restaurant-menu-categories.json")}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(u.eN))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n(3883);function h(t,e){if(1&t&&l._UZ(0,"img",26),2&t){const t=l.oxw().$implicit;l.MGl("src","",t.icon," ",l.LSH),l.MGl("alt","",t.btnName," ")}}function m(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-slide"),l.TgZ(1,"ion-button",23),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().btnFilterCategory(e.idCategory)}),l.TgZ(2,"div",24),l.YNc(3,h,1,2,"img",25),l._uU(4),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(1),l.MGl("id","btnCategory",t.idCategory,""),l.xp6(2),l.Q6J("ngIf",t.icon),l.xp6(1),l.hij(" ",t.btnName," ")}}function f(t,e){if(1&t&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.Oqu(t.line)}}function Z(t,e){if(1&t&&(l.TgZ(0,"div",41),l.TgZ(1,"ion-label"),l._uU(2),l.qZA(),l._UZ(3,"ion-toggle",42),l.qZA()),2&t){const t=e.$implicit,n=l.oxw().$implicit;l.xp6(2),l.AsE(" ",t.name," + ",t.price,"\u20ac "),l.xp6(1),l.Gre("ion-toggle get-extra-",n.idProduct,""),l.s9C("id",t.idExtra)}}function x(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-slide"),l.TgZ(1,"div",27),l.TgZ(2,"div",28),l.TgZ(3,"div"),l.TgZ(4,"div",29),l.TgZ(5,"img",30),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().mostrarModal(e)}),l.qZA(),l.TgZ(6,"ion-icon",31),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().mostrarModal(e)}),l.qZA(),l._UZ(7,"ion-img",32),l.qZA(),l.TgZ(8,"div",33),l.TgZ(9,"h6"),l.TgZ(10,"strong"),l._uU(11),l.qZA(),l.qZA(),l.TgZ(12,"div",34),l.YNc(13,f,2,1,"p",4),l.qZA(),l.qZA(),l.qZA(),l.TgZ(14,"div"),l.YNc(15,Z,4,6,"div",35),l.qZA(),l.TgZ(16,"div"),l.TgZ(17,"ion-label",36),l._uU(18," Let us know any allergy or preference "),l.qZA(),l._UZ(19,"input",37),l.qZA(),l.TgZ(20,"div",38),l.TgZ(21,"h3"),l._uU(22),l.qZA(),l.TgZ(23,"input",39),l.NdJ("ngModelChange",function(e){return l.CHM(t),l.oxw().amountInput=e}),l.qZA(),l.TgZ(24,"ion-button",40),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw().addToCart(e)}),l._uU(25,"ADD TO CART"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,n=l.oxw();l.xp6(5),l.s9C("src",t.img,l.LSH),l.s9C("alt",t.name),l.xp6(6),l.Oqu(t.name),l.xp6(2),l.Q6J("ngForOf",t.description),l.xp6(2),l.Q6J("ngForOf",t.extras),l.xp6(7),l.hij("",t.price,"\u20ac"),l.xp6(1),l.Q6J("ngModel",n.amountInput),l.xp6(1),l.s9C("id",t.name)}}function A(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-fab-button",43),l.NdJ("click",function(){return l.CHM(t),l.oxw().orderFood()}),l._UZ(1,"ion-img",44),l.qZA()}}function C(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-fab-button",45),l.NdJ("click",function(){return l.CHM(t),l.oxw().orderDrink()}),l._UZ(1,"ion-img",46),l.qZA()}}const b=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i){this.menuController=t,this.modalCtrl=e,this.dataService=n,this.activatedRouted=o,this.router=i,this.otiumOrder="otium-order",this.arrOrderLine=[],this.actualCart=new Array,this.idCategoryShow=null,this.categoryOnMenu=[],this.amountInput=1,this.slideOptsCard={slidesPerView:1.1,spaceBetween:10},this.slideOptsButton={slidesPerView:2.5,breakpoints:{375:{slidesPerView:3.5},410:{slidesPerView:3.7},640:{slidesPerView:6.5}}}}ngOnInit(){this.restaurantMenuData=this.dataService.getRestaurantMenu(),this.restaurantMenuCategory=this.dataService.getRestaurantMenuCategory(),this.typeShow=this.activatedRouted.snapshot.paramMap.get("type"),this.restaurantMenuData.subscribe(t=>{this.arrRestaurantMenuData=t,this.loadMenuData(this.typeShow),this.restaurantMenuCategory.subscribe(t=>{this.arrRestaurantMenuCategory=t,this.loadCategoryOfMenu()})})}openMenu(){this.menuController.open("header")}mostrarModal(t){return(0,s.mG)(this,void 0,void 0,function*(){const e=t,n=yield this.modalCtrl.create({component:c._,cssClass:"my-custom-class",componentProps:{modalInfo:e}});yield n.present()})}btnFilterCategory(t){this.idCategoryShow=t,console.log("CATEGORY:",t),this.btnDeleteClassSelected(),this.btnAddClassSelected(t),this.loadMenuData(this.typeShow),this.loadMenuData(this.typeShow,t)}btnDeleteClassSelected(){document.querySelectorAll(".category-selected").forEach(t=>{t.classList.remove("category-selected"),t.setAttribute("fill","outline")})}btnAddClassSelected(t){if(0===t)document.querySelectorAll(".btnCategory0").forEach(t=>{t.classList.add("category-selected"),t.setAttribute("fill","solid")});else{console.log("btnCategory"+t);const e=document.getElementById("btnCategory"+t);e.classList.add("category-selected"),e.setAttribute("fill","solid")}}orderFood(){this.routeAndLoad("food")}orderDrink(){this.routeAndLoad("drink")}routeAndLoad(t){this.router.navigate(["/restaurant-menu",t]),this.btnDeleteClassSelected(),this.btnAddClassSelected(0),this.loadMenuData(this.typeShow)}loadCategoryOfMenu(){console.log("ARRAY DATA: ->>>",this.arrRestaurantMenuData),console.log("ARRAY CATEGORY: ->>>",this.arrRestaurantMenuCategory),this.arrRestaurantMenuData.forEach(t=>{this.categoryOnMenu.push(this.arrRestaurantMenuCategory.find(e=>e.idCategory===t.idCategory))}),this.categoryOnMenu=Array.from(new Set(this.categoryOnMenu)),this.categoryOnMenu=this.categoryOnMenu.filter(t=>t.type===this.typeShow),console.log("CATEGORY ON MENU -> ",this.categoryOnMenu)}loadMenuData(t,e=0){return this.arrRestaurantMenuDataShow=this.arrRestaurantMenuData.filter(0===e?e=>e.type===t:n=>n.type===t&&n.idCategory===e)}addToCart(t){this.getExtrasActive(t),this.arrOrderLine.length=0;const e=new d(1,this.arrOrderLine.length,t.idProduct,"EXTRAS-AND-ALLERGY",t.name,null,this.amountInput,t.price);this.otiumOrderIsEmpty()?(this.arrOrderLine.push(e),localStorage.setItem(this.otiumOrder,JSON.stringify(this.arrOrderLine))):(this.arrOrderLine=JSON.parse(localStorage.getItem(this.otiumOrder)),e.idLine=this.arrOrderLine.length,this.isSameProductJoinAmount(this.arrOrderLine,e)||this.arrOrderLine.push(e),localStorage.removeItem(this.otiumOrder),localStorage.setItem(this.otiumOrder,JSON.stringify(this.arrOrderLine))),console.log("ARRAY ORDER LINE -> ",this.arrOrderLine)}getExtrasActive(t){const e=[],n=document.querySelectorAll(".get-extra-"+t.idProduct);n.forEach(t=>{e.push(t.id)}),console.log("ALL-EXTRAS-> ",n),console.log("EXTRAS-ACTIVE->",e)}otiumOrderIsEmpty(){return null===localStorage.getItem(this.otiumOrder)}isAlreadyInOrder(t,e){return t.findIndex(t=>t.idProduct===e.idProduct)}isSameProductJoinAmount(t,e){const n=this.isAlreadyInOrder(t,e);return-1!==n&&(t[n].amount+=e.amount,!0)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(r._q),l.Y36(r.IN),l.Y36(g),l.Y36(a.gz),l.Y36(a.F0))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-restaurant-menu"]],decls:35,vars:6,consts:[["imgHeader","assets/logos-empresas/starbucks-coffee.png"],[1,"container"],[1,"button-slides",3,"options"],["color","primary","expand","block","fill","solid",1,"btnCategory0","ion-button","category-selected",3,"click"],[4,"ngFor","ngForOf"],[1,"item-slides",3,"options"],[1,"content-down"],[1,"content-down-flex"],[1,"cart"],[1,"cart__text","small-font"],["name","cart-outline",1,"cart__cart","icon-cart"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-outline"],["side","start"],["routerLink","/pedido",1,"ion-fab__button"],["fixed",""],["size","3",1,"ion-fab__col-ion-img"],["src","/assets/icon/pay-eurocoin.png"],["size","6",1,"ion-fab__col-label"],["size","3"],["side","top"],["color","medium",3,"click",4,"ngIf"],["color","warning",3,"click",4,"ngIf"],["color","primary","expand","block","fill","outline",1,"ion-button",3,"id","click"],[1,"ion-button-content"],[3,"src","alt",4,"ngIf"],[3,"src","alt"],[1,"slide-content"],[1,"item-card"],[1,"item-card__top-up"],[1,"img-card",3,"src","alt","click"],["name","search-circle-outline",1,"icon-zoom",3,"click"],["src","/assets/icon/heart-pink.png",1,"icon-favourite"],[1,"text-product"],[1,"text-description"],["class","center-extras",4,"ngFor","ngForOf"],[1,"smaller-font"],["type","text","placeholder","Input field",1,"ion-input"],[1,"amount-and-add"],["id","input-amount","type","number",1,"input-amount",3,"ngModel","ngModelChange"],["expand","block","shape","round",1,"item-button-add","medium-letter",3,"id","click"],[1,"center-extras"],[3,"id"],["color","medium",3,"click"],["src","/assets/icon/food/forkandknife.png",1,"icon-size"],["color","warning",3,"click"],["src","/assets/icon/drink/bottle-water.png",1,"icon-size"]],template:function(t,e){1&t&&(l._UZ(0,"app-header",0),l.TgZ(1,"ion-content"),l.TgZ(2,"div",1),l.TgZ(3,"ion-slides",2),l.TgZ(4,"ion-slide"),l.TgZ(5,"ion-button",3),l.NdJ("click",function(){return e.btnFilterCategory(0)}),l._uU(6,"All"),l.qZA(),l.qZA(),l.YNc(7,m,5,3,"ion-slide",4),l.qZA(),l.TgZ(8,"ion-slides",5),l.YNc(9,x,26,8,"ion-slide",4),l.qZA(),l.TgZ(10,"div",6),l.TgZ(11,"div",7),l.TgZ(12,"div",8),l.TgZ(13,"p",9),l.TgZ(14,"strong"),l._uU(15,"1"),l.qZA(),l.qZA(),l._UZ(16,"ion-icon",10),l.qZA(),l.TgZ(17,"h3"),l._uU(18,"27\u20ac"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"ion-fab",11),l.TgZ(20,"ion-fab-button"),l._UZ(21,"ion-icon",12),l.qZA(),l.TgZ(22,"ion-fab-list",13),l.TgZ(23,"ion-button",14),l.TgZ(24,"ion-grid",15),l.TgZ(25,"ion-row"),l.TgZ(26,"ion-col",16),l._UZ(27,"ion-img",17),l.qZA(),l.TgZ(28,"ion-col",18),l.TgZ(29,"ion-label"),l._uU(30,"PAGAR"),l.qZA(),l.qZA(),l._UZ(31,"ion-col",19),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"ion-fab-list",20),l.YNc(33,A,2,0,"ion-fab-button",21),l.YNc(34,C,2,0,"ion-fab-button",22),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("options",e.slideOptsButton),l.xp6(4),l.Q6J("ngForOf",e.categoryOnMenu),l.xp6(1),l.Q6J("options",e.slideOptsCard),l.xp6(1),l.Q6J("ngForOf",e.arrRestaurantMenuDataShow),l.xp6(24),l.Q6J("ngIf","drink"===e.typeShow),l.xp6(1),l.Q6J("ngIf","food"===e.typeShow))},directives:[p.G,r.W2,r.Hr,r.A$,r.YG,o.sg,r.gu,r.IJ,r.W4,r.zq,r.YI,a.rH,r.jY,r.Nd,r.wI,r.Xz,r.Q$,o.O5,i.wV,i.Fj,i.JJ,i.On,r.ho,r.w],styles:[".container[_ngcontent-%COMP%]{padding:1% 2.5% 2%;height:100%}.button-slides[_ngcontent-%COMP%]{margin-top:1%;margin-bottom:1%}.item-slides[_ngcontent-%COMP%]{height:77%!important;margin:0 0 4% 4%}.slide-content[_ngcontent-%COMP%]{height:100%;border:2px solid red;border-radius:25px 0 0 0!important}.img-logo-restaurant[_ngcontent-%COMP%]{height:50px;margin:5px 0}.ion-button[_ngcontent-%COMP%]{width:100px!important;height:60px!important}.ion-button-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ion-button-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.item-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;padding:8%}.item-card__top-up[_ngcontent-%COMP%]{position:relative}.icon-favourite[_ngcontent-%COMP%]{width:1.25rem;position:absolute;top:1%;right:1%}.icon-zoom[_ngcontent-%COMP%]{position:absolute;bottom:.3125rem;left:.3125rem;background-color:#fff;border-radius:.9375rem}.text-product[_ngcontent-%COMP%]{text-align:left}.text-description[_ngcontent-%COMP%]{margin-top:2%;margin-left:4%}.img-card[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;max-height:126px;max-width:80%;border-radius:25px 0 25px 0}.center-extras[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}p[_ngcontent-%COMP%]{margin:0}h6[_ngcontent-%COMP%]{margin:5px 0 0}h3[_ngcontent-%COMP%]{margin:0}.ion-input[_ngcontent-%COMP%]{padding-left:20px;border-radius:15px;border:2px solid var(--ion-color-login-input-border);margin-top:5px;margin-bottom:10px;width:100%}.amount-and-add[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input-amount[_ngcontent-%COMP%]{--padding-start:5px;border:2px solid var(--ion-color-login-input-border);width:35px;height:27.3px}.ion-toggle[_ngcontent-%COMP%]{height:25px;padding:1% 0}.small-font[_ngcontent-%COMP%]{font-size:small}.smaller-font[_ngcontent-%COMP%]{font-size:smaller}.icon-size[_ngcontent-%COMP%]{width:30px!important;height:30px!important}.item-button-add[_ngcontent-%COMP%]{width:130px}.content-down[_ngcontent-%COMP%]{position:absolute;top:92%;left:1.25rem;width:18.75rem}.content-down-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}.cart[_ngcontent-%COMP%]{position:relative;height:3.125rem;background-color:red}.cart__text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:30px;position:absolute;top:-.625rem;left:1.875rem;text-align:right!important;color:#fff;background-color:#639;border-radius:15px;padding:10px}.cart__cart[_ngcontent-%COMP%]{position:absolute;top:4px;left:1%}.display-none[_ngcontent-%COMP%]{display:none}.icon-cart[_ngcontent-%COMP%]{width:40px!important;height:40px!important}.ion-fab__button[_ngcontent-%COMP%]{width:12.5rem;height:3.125rem;--border-radius:2.1875rem}.ion-fab__col-ion-img[_ngcontent-%COMP%]{padding:0}.ion-fab__col-label[_ngcontent-%COMP%]{margin:auto}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.Bz.forChild(b)],a.Bz]}),t})();var M=n(9258);let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.ez]]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.ez,i.u5,r.Pc,O,M.K,y]]}),t})()}}]);