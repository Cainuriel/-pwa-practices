(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[4836],{4836:(o,e,r)=>{"use strict";r.r(e),r.d(e,{RegisterPageModule:()=>b});var t=r(6274),i=r(4988),n=r(8620),s=r(8895),a=r(1855),u=r(7272),d=r(2149),l=r(4422),c=r(3883);function p(o,e){1&o&&(u.TgZ(0,"ion-label",20),u._uU(1,"* No valid email"),u.qZA())}function m(o,e){1&o&&(u.TgZ(0,"ion-label",21),u._uU(1,"* correct number phone"),u.qZA())}function g(o,e){1&o&&(u.TgZ(0,"ion-label",21),u._uU(1,"* numbers and capital letters"),u.qZA())}function h(o,e){1&o&&(u.TgZ(0,"ion-label",21),u._uU(1,"* Password and Confirm Password fields should match"),u.qZA())}const Z=[{path:"",component:(()=>{class o{constructor(o,e,r,t,n){this.fb=o,this.database=e,this.authUserService=r,this.toastController=t,this.router=n,this.usuario=this.fb.group({name:["",i.kI.required],secondName:["",i.kI.required],email:["",[i.kI.email,i.kI.required]],password:["",[i.kI.required,i.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")]],confirmPassword:["",i.kI.required],phone:["",[i.kI.required]],birth:["",[i.kI.required]],img:"../../../assets/img/userDefault.png"}),this.hiddenPassword=!0,this.passwordNotMatch=!0}ngOnInit(){this.database.observableUser.subscribe(o=>this.userData=o)}seePassword(){this.hiddenPassword=!this.hiddenPassword}guardarDatos(){return(0,a.mG)(this,void 0,void 0,function*(){const o={email:this.usuario.controls.email.value,password:this.usuario.controls.password.value};yield this.authUserService.register(o.email,o.password).then(o=>{this.idUser=o.user.uid,this.saveDataNewUser(),this.router.navigate(["/log-in"])}).catch(o=>{this.errorToast(o.message)})})}saveDataNewUser(){return(0,a.mG)(this,void 0,void 0,function*(){console.log("id del usuario listo para almacenar",this.idUser),this.userData=this.usuario.value,this.userData.id=this.idUser,this.userData.created_at=new Date,yield this.database.create("usuarios",this.userData,this.idUser)})}logOut(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.authUserService.logout(),console.log("usuario desloegado correctamente")})}errorToast(o){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:o,duration:1e4})).present()})}passwordMatch(){setTimeout(()=>{this.passwordNotMatch=this.usuario.controls.password.value!==this.usuario.controls.confirmPassword.value},100)}}return o.\u0275fac=function(e){return new(e||o)(u.Y36(i.qu),u.Y36(d.k),u.Y36(l.C),u.Y36(n.yF),u.Y36(s.F0))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-register"]],decls:46,vars:11,consts:[["translucent","","no-border",""],[3,"imgUser"],[1,"content"],["mode","md"],[1,"ion-text-center"],[1,"form",3,"formGroup","ngSubmit"],[1,"ion-label"],["formControlName","name",1,"ion-input"],["formControlName","secondName",1,"ion-input"],["formControlName","email",1,"ion-input"],["color","danger",4,"ngIf"],["type","tel","formControlName","phone",1,"ion-input"],["class","ion-label","color","danger",4,"ngIf"],["display-format","DD.MM.YYYY","formControlName","birth",1,"ion-input"],[1,"div-flex"],["formControlName","password",1,"ion-input","password",3,"type","ionInput"],["slot","end",1,"eye-icon",3,"name","click"],["formControlName","confirmPassword",1,"ion-input","password",3,"type","ionInput"],[1,"center-class"],["type","submit","expand","block","shape","round","size","large",3,"disabled"],["color","danger"],["color","danger",1,"ion-label"]],template:function(o,e){1&o&&(u.TgZ(0,"ion-header",0),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-header"),u._UZ(3,"app-header",1),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"ion-content"),u.TgZ(5,"div",2),u.TgZ(6,"ion-card",3),u.TgZ(7,"ion-card-header"),u.TgZ(8,"h1",4),u._uU(9,"Register"),u.qZA(),u.qZA(),u.TgZ(10,"ion-card-content"),u.TgZ(11,"form",5),u.NdJ("ngSubmit",function(){return e.guardarDatos()}),u.TgZ(12,"ion-label",6),u._uU(13,"Name:"),u.qZA(),u._UZ(14,"ion-input",7),u.TgZ(15,"ion-label",6),u._uU(16,"Second Name:"),u.qZA(),u._UZ(17,"ion-input",8),u.TgZ(18,"ion-label"),u._uU(19,"Email:"),u.qZA(),u._UZ(20,"ion-input",9),u.YNc(21,p,2,0,"ion-label",10),u.TgZ(22,"ion-label",6),u._uU(23,"Phone: "),u.qZA(),u._UZ(24,"ion-input",11),u.YNc(25,m,2,0,"ion-label",12),u.TgZ(26,"ion-label",6),u._uU(27,"Birth: "),u.qZA(),u._UZ(28,"ion-datetime",13),u.TgZ(29,"ion-label",6),u._uU(30,"Password:"),u.qZA(),u.TgZ(31,"div",14),u.TgZ(32,"ion-input",15),u.NdJ("ionInput",function(){return e.passwordMatch()}),u.qZA(),u.TgZ(33,"ion-icon",16),u.NdJ("click",function(){return e.seePassword()}),u.qZA(),u.qZA(),u.YNc(34,g,2,0,"ion-label",12),u.TgZ(35,"ion-label",6),u._uU(36,"Confirm Password: "),u.qZA(),u.TgZ(37,"div",14),u.TgZ(38,"ion-input",17),u.NdJ("ionInput",function(){return e.passwordMatch()}),u.qZA(),u.TgZ(39,"ion-icon",16),u.NdJ("click",function(){return e.seePassword()}),u.qZA(),u.qZA(),u.YNc(40,h,2,0,"ion-label",12),u.TgZ(41,"div",18),u.TgZ(42,"ion-button",19),u._uU(43,"Create Account"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(44,"ion-card-subtitle",4),u._uU(45,"All fields Required"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&o&&(u.xp6(3),u.Q6J("imgUser",e.userData.img),u.xp6(8),u.Q6J("formGroup",e.usuario),u.xp6(10),u.Q6J("ngIf",(null==e.usuario.controls.email.errors?null:e.usuario.controls.email.errors.email)&&(e.usuario.touched||e.usuario.dirty)),u.xp6(4),u.Q6J("ngIf",(null==e.usuario.controls.phone.errors?null:e.usuario.controls.phone.errors.pattern)&&(e.usuario.touched||e.usuario.dirty)),u.xp6(7),u.Q6J("type",e.hiddenPassword?"password":"text"),u.xp6(1),u.Q6J("name",e.hiddenPassword?"eye-off":"eye"),u.xp6(1),u.Q6J("ngIf",(null==e.usuario.controls.password.errors?null:e.usuario.controls.password.errors.pattern)&&(e.usuario.touched||e.usuario.dirty)),u.xp6(4),u.Q6J("type",e.hiddenPassword?"password":"text"),u.xp6(1),u.Q6J("name",e.hiddenPassword?"eye-off":"eye"),u.xp6(1),u.Q6J("ngIf",e.passwordNotMatch&&(e.usuario.dirty||e.usuario.touched)),u.xp6(2),u.Q6J("disabled",!e.usuario.valid||e.passwordNotMatch))},directives:[n.Gu,n.sr,c.G,n.W2,n.PM,n.Zi,n.FN,i._Y,i.JL,i.sg,n.Q$,n.pK,n.j9,i.JJ,i.u,t.O5,n.x4,n.QI,n.gu,n.YG,n.tO],styles:[".center-class[_ngcontent-%COMP%]{margin:26px auto}.form[_ngcontent-%COMP%]{margin:0 auto;width:90%}.password[_ngcontent-%COMP%]{margin-top:15px}.ion-input[_ngcontent-%COMP%]{--padding-start:20px;border-radius:25px;border:2px solid var(--ion-color-login-input-border);margin-top:10px;margin-bottom:10px}.content[_ngcontent-%COMP%]{max-width:100vh;display:flex;flex-direction:column;margin:0 auto;justify-content:space-around}.img-otium[_ngcontent-%COMP%]{width:250px;margin:10px auto}.div-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}.eye-icon[_ngcontent-%COMP%]{width:1.875rem;height:1.875rem;margin-left:.625rem;color:var(--ion-color-login-input-border)}"]}),o})()}];let f=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[[s.Bz.forChild(Z)],s.Bz]}),o})();var w=r(9258);let b=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[[t.ez,i.u5,n.Pc,f,w.K,i.UX]]}),o})()}}]);