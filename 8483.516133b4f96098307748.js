(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[8483],{8483:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MetamaskPageModule:()=>g});var r=n(8583),o=n(665),a=n(2859),i=n(430),s=n(4762),c=n(8720),l=n(4673),u=n(3646);const d=[{path:"",component:(()=>{class e{constructor(e,t,n){this.userservice=e,this.alertController=t,this.toastCtrl=n}ngOnInit(){this.userservice.observableUser.subscribe(e=>this.dataUser=e)}connectionMetamask(){!async function(){const e="0xa00F24e545bA6Cc26Fb88Cb6E2B385f464c3EF3b",t=new ethers.providers.Web3Provider(window.ethereum);let n=(await t.send("eth_requestAccounts",[]))[0];const r=new ethers.Contract("0x8702Cb6908D8De666bBb54F18762047791590C1B",[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],t),o=await r.balanceOf(n);let a=ethers.utils.formatEther(o).toString(),i=Number.parseFloat(a).toFixed(0);document.querySelector("#balanceMetamask").innerHTML=`${i} Otiums`;const s=await r.balanceOf(e);a=ethers.utils.formatEther(s).toString(),i=Number.parseFloat(a).toFixed(0),document.querySelector("#balance").innerHTML=`${i} Otiums`;let c=n.substr(0,4),l=n.substr(-4,4);document.querySelector("#userMetamask").innerHTML=c+"..."+l,c=e.substr(0,4),l=e.substr(-4,4),document.querySelector("#walletFBAPP").innerHTML=c+"..."+l}()}sender(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield async function(){const e=new ethers.providers.Web3Provider(window.ethereum),t=new ethers.Contract("0x8702Cb6908D8De666bBb54F18762047791590C1B",[{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],e.getSigner()),n=ethers.utils.parseEther("1000");let r;try{return r=await t.transfer("0xa00F24e545bA6Cc26Fb88Cb6E2B385f464c3EF3b",n),console.log("transaccion ",r),r.hash}catch(o){return console.log(o.message),o.message}}();this.presentAlert(e)})}presentAlert(e){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Sending of otiums correctly",subHeader:"This is the transaction:",message:`<a href="https://testnet.bscscan.com/tx/${e}">Transaction</a>`,buttons:["OK"]});yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l.k),c.Y36(a.Br),c.Y36(a.yF))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-metamask"]],decls:30,vars:1,consts:[["translucent","","no-border",""],[3,"imgUser"],["mode","ios"],["color","primary",1,"ion-text-center"],[1,"welcome-cards"],[1,"staking"],[1,"ion-text-center","ion-card"],["color","primary"],["color","secondary","id","userMetamask"],["expand","block","shape","round","color","danger",3,"click"],["id","balanceMetamask","color","danger"],[1,"recommend"],["color","secondary","id","walletFBAPP"],[1,"ion-input"],["expand","block","size","large","color","primary","shape","round","type","submit",3,"click"],["id","balance","color","danger"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-header"),c._UZ(3,"app-header",1),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content",2),c.TgZ(5,"ion-text",3),c.TgZ(6,"h1"),c._uU(7,"WALLET"),c.qZA(),c.qZA(),c.TgZ(8,"div",4),c.TgZ(9,"ion-card",5),c.TgZ(10,"ion-card-content",6),c.TgZ(11,"ion-card-title",7),c._uU(12,"Metamask account"),c.qZA(),c._UZ(13,"ion-card-title",8),c.TgZ(14,"ion-button",9),c.NdJ("click",function(){return t.connectionMetamask()}),c._uU(15," Connect Metamask "),c.qZA(),c.TgZ(16,"ion-card-title",10),c._uU(17,"..."),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"ion-card",11),c.TgZ(19,"ion-card-content",6),c.TgZ(20,"ion-card-title",7),c._uU(21,"Wallet of FAPP"),c.qZA(),c._UZ(22,"ion-card-title",12),c._UZ(23,"ion-input",13),c.TgZ(24,"ion-button",14),c.NdJ("click",function(){return t.sender()}),c._uU(25," Send "),c.qZA(),c.TgZ(26,"ion-card-title",7),c._uU(27,"Balance in FBAPP"),c.qZA(),c.TgZ(28,"ion-card-title",15),c._uU(29,"..."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("imgUser",t.dataUser.img))},directives:[a.Gu,a.sr,u.G,a.W2,a.yW,a.PM,a.FN,a.gZ,a.YG,a.pK,a.j9],styles:[".welcome-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;height:80vh}ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:1.5rem}ion-card[_ngcontent-%COMP%]{border:1px solid #3c0080;box-shadow:3px 3px 8px #3c0080;border-radius:2.5rem;margin:1rem 2.5rem}.staking[_ngcontent-%COMP%]{background:hsla(0,28%,93%,.541);background-size:180px}.recommend[_ngcontent-%COMP%]{background:hsla(0,28%,93%,.541);background-size:120px}ion-content[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#fff0,#fff),url(Otium_Transparet_No\\ Shadow.3e3627a6cd9df9ecb54b.png) no-repeat}.ion-input[_ngcontent-%COMP%]{--padding-start:20px;border-radius:25px;color:#000;font-size:2rem;border:2px solid var(--ion-color-login-input-border);margin-top:10px;margin-bottom:10px}.text-color[_ngcontent-%COMP%]{color:#000}.ion-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:33vh}"]}),e})()}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.Bz.forChild(d)],i.Bz]}),e})();var m=n(5642);let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.ez,o.u5,a.Pc,p,m.K]]}),e})()}}]);