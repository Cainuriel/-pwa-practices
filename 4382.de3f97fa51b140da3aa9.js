(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[4382],{9258:(e,r,t)=>{"use strict";t.d(r,{K:()=>c});var n=t(6274),i=t(4683),o=t(7272);let c=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.ez,i.Pc]]}),e})()},3883:(e,r,t)=>{"use strict";t.d(r,{G:()=>a});var n=t(7272),i=t(4683),o=t(3722),c=t(7611);let a=(()=>{class e{constructor(e,r,t){this.menuController=e,this.router=r,this.userservice=t,this.imgHeader="../../../assets/logos/logo_XL.png",this.imgUser=""}get loadData(){return this.userservice.getUser}ngOnInit(){let e=document.getElementById("returnarrow");console.log("this.router.url",this.router.url),"/welcome"===this.router.url&&e.remove(),setTimeout(()=>{this.dataUser=this.loadData,this.dataUser.isLoged&&(this.imgUser=this.dataUser.img)},1500)}openMenu(){this.menuController.open("header")}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(i._q),n.Y36(o.F0),n.Y36(c.f))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-header"]],inputs:{imgHeader:"imgHeader",imgUser:"imgUser"},decls:8,vars:2,consts:[["mode","md"],["slot","start"],["defaultHref","/","color","primary","id","returnarrow"],[1,"img-otium",3,"src"],["slot","end"],[3,"click"],[1,"avatar",3,"src"]],template:function(e,r){1&e&&(n.TgZ(0,"ion-header",0),n.TgZ(1,"ion-toolbar"),n.TgZ(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n._UZ(4,"ion-img",3),n.TgZ(5,"ion-buttons",4),n.TgZ(6,"ion-avatar",5),n.NdJ("click",function(){return r.openMenu()}),n._UZ(7,"img",6),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.s9C("src",r.imgHeader),n.xp6(3),n.s9C("src",r.imgUser,n.LSH))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.Xz,i.BJ],styles:[".img-otium[_ngcontent-%COMP%]{height:50px;margin:5px auto}.avatar[_ngcontent-%COMP%]{width:72%;height:72%;margin-top:10px;margin-right:18px}"]}),e})()},4382:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PedidoPageModule:()=>T});var n=t(6274),i=t(4988),o=t(4683),c=t(3722),a=t(7272),s=t(3883);function d(e,r){1&e&&(a.TgZ(0,"h2"),a._uU(1," Nothing in the order"),a.qZA())}function l(e,r){if(1&e&&(a.TgZ(0,"ion-row",18),a.TgZ(1,"p"),a._uU(2),a.qZA(),a.qZA()),2&e){const e=r.$implicit;a.xp6(2),a.Oqu(e.name)}}function g(e,r){if(1&e&&(a.TgZ(0,"ion-row"),a.TgZ(1,"p"),a.TgZ(2,"strong"),a._uU(3),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw().$implicit;a.xp6(3),a.Oqu(e.allergyOrPreference)}}function u(e,r){if(1&e){const e=a.EpF();a.TgZ(0,"ion-icon",27),a.NdJ("click",function(r){return a.CHM(e),a.oxw(3).onClickRemove(r)}),a.qZA()}if(2&e){const e=a.oxw().$implicit;a.s9C("id",e.idLine)}}function m(e,r){if(1&e){const e=a.EpF();a.TgZ(0,"ion-icon",28),a.NdJ("click",function(r){return a.CHM(e),a.oxw(3).onClickRemove(r)}),a.qZA()}if(2&e){const e=a.oxw().$implicit;a.s9C("id",e.idLine)}}function p(e,r){if(1&e){const e=a.EpF();a.TgZ(0,"ion-row",14),a._UZ(1,"div"),a.TgZ(2,"ion-col",15),a.TgZ(3,"ion-icon",16),a.NdJ("click",function(r){return a.CHM(e),a.oxw(2).onClickAdd(r)}),a.qZA(),a.qZA(),a.TgZ(4,"ion-col",15),a.TgZ(5,"h4"),a._uU(6),a.qZA(),a.qZA(),a.TgZ(7,"ion-col",17),a.TgZ(8,"ion-row",18),a.TgZ(9,"ion-text",19),a.TgZ(10,"h5"),a._uU(11),a.qZA(),a.qZA(),a.qZA(),a.YNc(12,l,3,1,"ion-row",20),a.YNc(13,g,4,1,"ion-row",5),a.qZA(),a.TgZ(14,"ion-col",21),a.TgZ(15,"ion-row"),a.TgZ(16,"ion-col",22),a.TgZ(17,"ion-text",19),a.TgZ(18,"h3",23),a._uU(19),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"ion-col",24),a.TgZ(21,"div"),a.YNc(22,u,1,1,"ion-icon",25),a.YNc(23,m,1,1,"ion-icon",26),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=r.$implicit;a.xp6(3),a.s9C("id",e.idLine),a.xp6(3),a.hij("",e.amount," x"),a.xp6(5),a.Oqu(e.nameProduct),a.xp6(1),a.Q6J("ngForOf",e.extras),a.xp6(1),a.Q6J("ngIf",null!==e.allergyOrPreference||""!==e.allergyOrPreference),a.xp6(6),a.hij("",e.price,"\u20ac"),a.xp6(3),a.Q6J("ngIf",1===e.amount),a.xp6(1),a.Q6J("ngIf",e.amount>1)}}function Z(e,r){if(1&e&&(a.TgZ(0,"ion-grid"),a.YNc(1,p,24,8,"ion-row",13),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.arrOrderLine)}}const h=[{path:"",component:(()=>{class e{constructor(){this.otiumOrder="otium-order",this.arrOrderLine=[]}ngOnInit(){this.loadOrderFromLocalStorage(),console.log("EN PEDIDO -> ",this.arrOrderLine),this.showTotalPriceInCart()}saveDataOnLocalStorage(){localStorage.removeItem(this.otiumOrder),localStorage.setItem(this.otiumOrder,JSON.stringify(this.arrOrderLine))}loadOrderFromLocalStorage(){this.otiumOrderIsEmpty()||(this.arrOrderLine=JSON.parse(localStorage.getItem(this.otiumOrder)))}otiumOrderIsEmpty(){return null===localStorage.getItem(this.otiumOrder)}getTotalPrice(){let e=0;return this.arrOrderLine.forEach(r=>{e+=r.price}),console.log("TOTAL PRICE -> ",e),e}showTotalPriceInCart(){const e=document.getElementById("total-price-order");e.innerText=this.arrOrderLine.length>0&&null!==e?`TOTAL ${this.getTotalPrice().toString()}\u20ac`:"TOTAL 0\u20ac"}updateOrder(){this.reorderIdLineOrder(),this.saveDataOnLocalStorage(),this.loadOrderFromLocalStorage(),this.showTotalPriceInCart()}onClickAdd(e){this.arrOrderLine[e.target.id].amount+=1,this.arrOrderLine[e.target.id].price=this.arrOrderLine[e.target.id].unitPrice*this.arrOrderLine[e.target.id].amount,this.updateOrder()}onClickRemove(e){console.log("BORRAR -> ",e.target.id),this.removeUnitOfProduct(e),this.updateOrder()}removeUnitOfProduct(e){this.arrOrderLine[e.target.id].amount>1?(this.arrOrderLine[e.target.id].amount-=1,this.arrOrderLine[e.target.id].price=this.arrOrderLine[e.target.id].unitPrice*this.arrOrderLine[e.target.id].amount):this.arrOrderLine.splice(e.target.id,1)}reorderIdLineOrder(){let e=0;this.arrOrderLine.forEach(r=>{r.idLine=e,e++})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-pedido"]],decls:23,vars:2,consts:[["mode","md",1,"flex-container"],["mode","md",1,"ion-padding"],["expand","block","shape","round","color","primary"],[2,"text-align","center","padding-top","1.25rem"],["scroll-x","true"],[4,"ngIf"],["mode","md"],["color","primary",1,"ion-text-center"],["id","total-price-order"],[1,"flex-button"],["routerLink","/pago"],["expand","block","shape","round","color","primary","size","large"],[1,"ion-text-center","ion-padding"],["class","ion-margin-bottom",4,"ngFor","ngForOf"],[1,"ion-margin-bottom"],["size","1.5",1,"center-content"],["name","add-circle-outline","color","success",3,"id","click"],["size","6",1,"center-content"],["size","12"],["color","primary"],["size","12",4,"ngFor","ngForOf"],["size","3",1,"center-content"],["size","8",1,"center-content"],[2,"font-size","16px"],["size","4",1,"center-content"],["slot","icon-only","name","trash","color","danger",3,"id","click",4,"ngIf"],["name","remove-circle-outline","color","danger",3,"id","click",4,"ngIf"],["slot","icon-only","name","trash","color","danger",3,"id","click"],["name","remove-circle-outline","color","danger",3,"id","click"]],template:function(e,r){1&e&&(a._UZ(0,"app-header"),a.TgZ(1,"ion-content",0),a.TgZ(2,"ion-card",1),a.TgZ(3,"ion-card-header"),a.TgZ(4,"ion-button",2),a._uU(5,"Table 7"),a.qZA(),a.TgZ(6,"div",3),a.TgZ(7,"ion-title"),a._uU(8,"Order"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"ion-card-content",4),a.YNc(10,d,2,0,"h2",5),a.YNc(11,Z,2,1,"ion-grid",5),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"ion-footer"),a.TgZ(13,"ion-toolbar"),a.TgZ(14,"ion-card",6),a.TgZ(15,"ion-text",7),a._UZ(16,"h2",8),a.qZA(),a.TgZ(17,"ion-card-content",9),a.TgZ(18,"div",10),a.TgZ(19,"ion-button",11),a._uU(20," CONFIRM ORDER "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"ion-card-subtitle",12),a._uU(22,"After confirmming there is no posibility to cancel or change the order"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(10),a.Q6J("ngIf",0===r.arrOrderLine.length),a.xp6(1),a.Q6J("ngIf",r.arrOrderLine.length>0))},directives:[s.G,o.W2,o.PM,o.Zi,o.YG,o.wd,o.FN,n.O5,o.fr,o.sr,o.yW,o.YI,c.rH,o.tO,o.jY,n.sg,o.Nd,o.wI,o.gu],styles:[".center-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:space-around;justify-content:center}.flex-button[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}ion-card-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}ion-icon[_ngcontent-%COMP%]{height:1.875rem;width:1.875rem}ion-grid[_ngcontent-%COMP%]{--ion-grid-padding:0px}ion-col[_ngcontent-%COMP%]{--ion-grid-column-padding:0px}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[c.Bz.forChild(h)],c.Bz]}),e})();var O=t(9258);let T=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.ez,i.u5,o.Pc,f,O.K]]}),e})()}}]);