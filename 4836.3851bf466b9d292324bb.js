(self.webpackChunkFB_App=self.webpackChunkFB_App||[]).push([[4836],{9258:(e,r,t)=>{"use strict";t.d(r,{K:()=>s});var o=t(6274),i=t(8620),n=t(7272);let s=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[o.ez,i.Pc]]}),e})()},3883:(e,r,t)=>{"use strict";t.d(r,{G:()=>l});var o=t(7272),i=t(8620),n=t(8895),s=t(2149),a=t(6274);function u(e,r){1&e&&o._UZ(0,"ion-back-button",8)}function d(e,r){1&e&&o._UZ(0,"ion-button",9)}let l=(()=>{class e{constructor(e,r,t){this.menuController=e,this.router=r,this.databaseService=t,this.arrow=!0}ngOnInit(){"/welcome"!==this.router.url&&"/order-placed"!==this.router.url||(this.arrow=!1),this.databaseService.observableUser.subscribe(e=>this.dataUser=e),this.imgUser=this.dataUser.img,this.pageIconRestaurant="/select"===this.router.url||"/restaurant-menu"===this.router.url||"/pedido"===this.router.url||"/pago"===this.router.url||"/order-placed"===this.router.url||"/detail"===this.router.url,this.dataUser.themeUser&&!this.pageIconRestaurant?this.imgHeader="../../../assets/logos/Otium_Transparet_No Shadow.png":this.pageIconRestaurant||(this.imgHeader="../../../assets/logos/logo_XL.png")}openMenu(){this.menuController.open("header")}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(i._q),o.Y36(n.F0),o.Y36(s.k))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-header"]],inputs:{imgHeader:"imgHeader",imgUser:"imgUser"},decls:9,vars:4,consts:[["mode","md"],["slot","start"],["defaultHref","/","color","primary",4,"ngIf"],["style","width: 48px; margin: 0;",4,"ngIf"],[1,"img-otium",3,"src"],["slot","end"],[3,"click"],[1,"avatar",3,"src"],["defaultHref","/","color","primary"],[2,"width","48px","margin","0"]],template:function(e,r){1&e&&(o.TgZ(0,"ion-header",0),o.TgZ(1,"ion-toolbar"),o.TgZ(2,"ion-buttons",1),o.YNc(3,u,1,0,"ion-back-button",2),o.YNc(4,d,1,0,"ion-button",3),o.qZA(),o._UZ(5,"ion-img",4),o.TgZ(6,"ion-buttons",5),o.TgZ(7,"ion-avatar",6),o.NdJ("click",function(){return r.openMenu()}),o._UZ(8,"img",7),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",r.arrow),o.xp6(1),o.Q6J("ngIf",!r.arrow),o.xp6(1),o.s9C("src",r.imgHeader),o.xp6(3),o.s9C("src",r.imgUser,o.LSH))},directives:[i.Gu,i.sr,i.Sm,a.O5,i.Xz,i.BJ,i.oU,i.cs,i.YG],styles:[".img-otium[_ngcontent-%COMP%]{height:50px;margin:5px auto}.avatar[_ngcontent-%COMP%]{width:72%;height:72%;margin-top:10px;margin-right:18px}"]}),e})()},4836:(e,r,t)=>{"use strict";t.r(r),t.d(r,{RegisterPageModule:()=>w});var o=t(6274),i=t(4988),n=t(8620),s=t(8895),a=t(1855),u=t(7272),d=t(2149),l=t(4422),c=t(3883);function p(e,r){1&e&&(u.TgZ(0,"ion-label",20),u._uU(1,"* No valid email"),u.qZA())}function g(e,r){1&e&&(u.TgZ(0,"ion-label",21),u._uU(1,"* correct number phone"),u.qZA())}function m(e,r){1&e&&(u.TgZ(0,"ion-label",21),u._uU(1,"* numbers and capital letters"),u.qZA())}function h(e,r){1&e&&(u.TgZ(0,"ion-label",21),u._uU(1,"* Password and Confirm Password fields should match"),u.qZA())}const Z=[{path:"",component:(()=>{class e{constructor(e,r,t,o,n){this.fb=e,this.database=r,this.authUserService=t,this.toastController=o,this.router=n,this.usuario=this.fb.group({name:["",i.kI.required],secondName:["",i.kI.required],email:["",[i.kI.email,i.kI.required]],password:["",[i.kI.required,i.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")]],confirmPassword:["",i.kI.required],phone:["",[i.kI.required]],birth:["",[i.kI.required]],img:"../../../assets/img/userDefault.png"}),this.hiddenPassword=!0,this.passwordNotMatch=!0}ngOnInit(){this.database.observableUser.subscribe(e=>this.userData=e)}seePassword(){this.hiddenPassword=!this.hiddenPassword}guardarDatos(){return(0,a.mG)(this,void 0,void 0,function*(){const e={email:this.usuario.controls.email.value,password:this.usuario.controls.password.value};yield this.authUserService.register(e.email,e.password).then(e=>{this.idUser=e.user.uid,this.saveDataNewUser(),this.router.navigate(["/log-in"])}).catch(e=>{this.errorToast(e.message)})})}saveDataNewUser(){return(0,a.mG)(this,void 0,void 0,function*(){console.log("id del usuario listo para almacenar",this.idUser),this.userData=this.usuario.value,this.userData.id=this.idUser,this.userData.created_at=new Date,yield this.database.create("usuarios",this.userData,this.idUser)})}logOut(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.authUserService.logout(),console.log("usuario desloegado correctamente")})}errorToast(e){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:1e4})).present()})}passwordMatch(){setTimeout(()=>{this.passwordNotMatch=this.usuario.controls.password.value!==this.usuario.controls.confirmPassword.value},100)}}return e.\u0275fac=function(r){return new(r||e)(u.Y36(i.qu),u.Y36(d.k),u.Y36(l.C),u.Y36(n.yF),u.Y36(s.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-register"]],decls:46,vars:11,consts:[["translucent","","no-border",""],[3,"imgUser"],[1,"content"],["mode","md"],[1,"ion-text-center"],[1,"form",3,"formGroup","ngSubmit"],[1,"ion-label"],["formControlName","name",1,"ion-input"],["formControlName","secondName",1,"ion-input"],["formControlName","email",1,"ion-input"],["color","danger",4,"ngIf"],["type","tel","formControlName","phone",1,"ion-input"],["class","ion-label","color","danger",4,"ngIf"],["display-format","DD.MM.YYYY","formControlName","birth",1,"ion-input"],[1,"div-flex"],["formControlName","password",1,"ion-input","password",3,"type","ionInput"],["slot","end",1,"eye-icon",3,"name","click"],["formControlName","confirmPassword",1,"ion-input","password",3,"type","ionInput"],[1,"center-class"],["type","submit","expand","block","shape","round","size","large",3,"disabled"],["color","danger"],["color","danger",1,"ion-label"]],template:function(e,r){1&e&&(u.TgZ(0,"ion-header",0),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-header"),u._UZ(3,"app-header",1),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"ion-content"),u.TgZ(5,"div",2),u.TgZ(6,"ion-card",3),u.TgZ(7,"ion-card-header"),u.TgZ(8,"h1",4),u._uU(9,"Register"),u.qZA(),u.qZA(),u.TgZ(10,"ion-card-content"),u.TgZ(11,"form",5),u.NdJ("ngSubmit",function(){return r.guardarDatos()}),u.TgZ(12,"ion-label",6),u._uU(13,"Name:"),u.qZA(),u._UZ(14,"ion-input",7),u.TgZ(15,"ion-label",6),u._uU(16,"Second Name:"),u.qZA(),u._UZ(17,"ion-input",8),u.TgZ(18,"ion-label"),u._uU(19,"Email:"),u.qZA(),u._UZ(20,"ion-input",9),u.YNc(21,p,2,0,"ion-label",10),u.TgZ(22,"ion-label",6),u._uU(23,"Phone: "),u.qZA(),u._UZ(24,"ion-input",11),u.YNc(25,g,2,0,"ion-label",12),u.TgZ(26,"ion-label",6),u._uU(27,"Birth: "),u.qZA(),u._UZ(28,"ion-datetime",13),u.TgZ(29,"ion-label",6),u._uU(30,"Password:"),u.qZA(),u.TgZ(31,"div",14),u.TgZ(32,"ion-input",15),u.NdJ("ionInput",function(){return r.passwordMatch()}),u.qZA(),u.TgZ(33,"ion-icon",16),u.NdJ("click",function(){return r.seePassword()}),u.qZA(),u.qZA(),u.YNc(34,m,2,0,"ion-label",12),u.TgZ(35,"ion-label",6),u._uU(36,"Confirm Password: "),u.qZA(),u.TgZ(37,"div",14),u.TgZ(38,"ion-input",17),u.NdJ("ionInput",function(){return r.passwordMatch()}),u.qZA(),u.TgZ(39,"ion-icon",16),u.NdJ("click",function(){return r.seePassword()}),u.qZA(),u.qZA(),u.YNc(40,h,2,0,"ion-label",12),u.TgZ(41,"div",18),u.TgZ(42,"ion-button",19),u._uU(43,"Create Account"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(44,"ion-card-subtitle",4),u._uU(45,"All fields Required"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.Q6J("imgUser",r.userData.img),u.xp6(8),u.Q6J("formGroup",r.usuario),u.xp6(10),u.Q6J("ngIf",(null==r.usuario.controls.email.errors?null:r.usuario.controls.email.errors.email)&&(r.usuario.touched||r.usuario.dirty)),u.xp6(4),u.Q6J("ngIf",(null==r.usuario.controls.phone.errors?null:r.usuario.controls.phone.errors.pattern)&&(r.usuario.touched||r.usuario.dirty)),u.xp6(7),u.Q6J("type",r.hiddenPassword?"password":"text"),u.xp6(1),u.Q6J("name",r.hiddenPassword?"eye-off":"eye"),u.xp6(1),u.Q6J("ngIf",(null==r.usuario.controls.password.errors?null:r.usuario.controls.password.errors.pattern)&&(r.usuario.touched||r.usuario.dirty)),u.xp6(4),u.Q6J("type",r.hiddenPassword?"password":"text"),u.xp6(1),u.Q6J("name",r.hiddenPassword?"eye-off":"eye"),u.xp6(1),u.Q6J("ngIf",r.passwordNotMatch&&(r.usuario.dirty||r.usuario.touched)),u.xp6(2),u.Q6J("disabled",!r.usuario.valid||r.passwordNotMatch))},directives:[n.Gu,n.sr,c.G,n.W2,n.PM,n.Zi,n.FN,i._Y,i.JL,i.sg,n.Q$,n.pK,n.j9,i.JJ,i.u,o.O5,n.x4,n.QI,n.gu,n.YG,n.tO],styles:[".center-class[_ngcontent-%COMP%]{margin:26px auto}.form[_ngcontent-%COMP%]{margin:0 auto;width:90%}.password[_ngcontent-%COMP%]{margin-top:15px}.ion-input[_ngcontent-%COMP%]{--padding-start:20px;border-radius:25px;border:2px solid var(--ion-color-login-input-border);margin-top:10px;margin-bottom:10px}.content[_ngcontent-%COMP%]{max-width:100vh;display:flex;flex-direction:column;margin:0 auto;justify-content:space-around}.img-otium[_ngcontent-%COMP%]{width:250px;margin:10px auto}.div-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}.eye-icon[_ngcontent-%COMP%]{width:1.875rem;height:1.875rem;margin-left:.625rem;color:var(--ion-color-login-input-border)}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[s.Bz.forChild(Z)],s.Bz]}),e})();var b=t(9258);let w=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,i.u5,n.Pc,f,b.K,i.UX]]}),e})()}}]);